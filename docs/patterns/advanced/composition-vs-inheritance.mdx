# ç»„åˆ vs ç»§æ‰¿ - Reactè®¾è®¡å“²å­¦

import { Tabs, TabItem } from '@docusaurus/theme-common';

ç»„åˆä¸ç»§æ‰¿æ˜¯Reactç»„ä»¶è®¾è®¡ä¸­çš„æ ¸å¿ƒå“²å­¦ç†å¿µã€‚Reactæ¨èä½¿ç”¨ç»„åˆï¼ˆCompositionï¼‰è€Œéç»§æ‰¿ï¼ˆInheritanceï¼‰æ¥æ„å»ºå¯å¤ç”¨çš„ç»„ä»¶ç³»ç»Ÿã€‚æœ¬ç« å°†æ·±å…¥æ¢è®¨è¿™ä¸€è®¾è®¡ç†å¿µï¼Œè§£é‡Šä¸ºä»€ä¹ˆReacté€‰æ‹©ç»„åˆæ¨¡å¼ï¼Œä»¥åŠå¦‚ä½•æœ‰æ•ˆåœ°ä½¿ç”¨ç»„åˆæ¥æ„å»ºçµæ´»ã€å¯ç»´æŠ¤çš„ç»„ä»¶ã€‚

## æœ¬ç« å­¦ä¹ ç›®æ ‡

- ç†è§£Reactç»„åˆä¼˜äºç»§æ‰¿çš„è®¾è®¡ç†å¿µ
- æŒæ¡ç»„åˆæ¨¡å¼çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®ç°æ–¹æ³•
- å­¦ä¼šä½¿ç”¨ç»„åˆæ›¿ä»£ç»§æ‰¿æ„å»ºç»„ä»¶
- ç†è§£å“ªäº›åœºæ™¯é€‚åˆä½¿ç”¨ç»„åˆ
- æŒæ¡ç»„ä»¶é—´å¤ç”¨çš„æœ€ä½³å®è·µ
- ç†è§£ç»§æ‰¿çš„å±€é™æ€§å’Œé—®é¢˜
- å­¦ä¼šæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ¨¡å¼
- æŒæ¡ç»„åˆæ¨¡å¼çš„é«˜çº§æŠ€å·§

---

## 1. ä¸ºä»€ä¹ˆReacté€‰æ‹©ç»„åˆè€Œéç»§æ‰¿ï¼Ÿ

Reactå®˜æ–¹æ˜ç¡®æ¨èä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿æ¥æ„å»ºç»„ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªç»è¿‡æ·±æ€ç†Ÿè™‘çš„è®¾è®¡å†³ç­–ï¼ŒèƒŒåæœ‰å……åˆ†çš„æŠ€æœ¯å’Œå®è·µç†ç”±ã€‚

<Box style={{ padding: '20px', background: '#e3f2fd', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#1976d2' }}>ğŸ’¡ æ ¸å¿ƒç†å¿µ</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    <strong>ç»„åˆ</strong>æ˜¯é€šè¿‡ç»„åˆå¤šä¸ªç®€å•ç»„ä»¶æ¥æ„å»ºå¤æ‚åŠŸèƒ½ï¼Œ<strong>ç»§æ‰¿</strong>æ˜¯é€šè¿‡ç±»ç»§æ‰¿æ„å»ºå±‚æ¬¡ç»“æ„ã€‚Reactè®¤ä¸ºç»„åˆæä¾›äº†æ›´å¥½çš„<strong>çµæ´»æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§</strong>ã€‚
  </p>
</Box>

<CodeBlock>

```jsx
// âŒ ç»§æ‰¿æ–¹å¼ - å‡è®¾æœ‰ä¸ªåŸºç±»Button
class BaseButton extends React.Component {
  handleClick() { /* ... */ }
  render() { /* ... */ }
}

class SubmitButton extends BaseButton { /* ç»§æ‰¿Button */ }
class CancelButton extends BaseButton { /* ç»§æ‰¿Button */ }

// âœ… ç»„åˆæ–¹å¼ - å¤šä¸ªç®€å•ç»„ä»¶ç»„åˆ
function Button({ onClick, children, variant }) {
  return <button onClick={onClick}>{children}</button>;
}

function SubmitButton() {
  return <Button variant="submit">Submit</Button>;
}

function CancelButton() {
  return <Button variant="cancel">Cancel</Button>;
}
```

</CodeBlock>

### 1.1 ç»„åˆ vs ç»§æ‰¿å¯¹æ¯”

<Grid>

<div>
  <h4>ç»„åˆçš„ä¼˜åŠ¿</h4>
  <ul>
    <li>âœ… ç»„ä»¶èŒè´£å•ä¸€</li>
    <li>âœ… æ›´å¥½çš„å¯æµ‹è¯•æ€§</li>
    <li>âœ… æ˜“äºç»´æŠ¤å’Œä¿®æ”¹</li>
    <li>âœ… çµæ´»æ€§é«˜</li>
    <li>âœ… é¿å…æ·±å±‚ç»§æ‰¿é“¾</li>
    <li>âœ… ä»£ç å¤ç”¨æ€§æ›´å¥½</li>
  </ul>
</div>

<div>
  <h4>ç»§æ‰¿çš„é—®é¢˜</h4>
  <ul>
    <li>âŒ ç´§è€¦åˆçš„å±‚æ¬¡ç»“æ„</li>
    <li>âŒ éš¾ä»¥ç†è§£ç»§æ‰¿é“¾</li>
    <li>âŒ è¿åå¼€é—­åŸåˆ™</li>
    <li>âŒ æµ‹è¯•å›°éš¾</li>
    <li>âŒ è¿‡åº¦æŠ½è±¡</li>
    <li>âŒ è¿åå•ä¸€èŒè´£</li>
  </ul>
</div>

</Grid>

<CodeBlock>

```jsx
// âŒ ç»§æ‰¿çš„é—®é¢˜ç¤ºä¾‹
// 1. æ·±å±‚ç»§æ‰¿é“¾éš¾ä»¥ç†è§£
class Component extends React.Component {}
class Button extends Component {}
class FancyButton extends Button {}
class ThemedFancyButton extends FancyButton {}

// 2. å±æ€§è¦†ç›–å›°éš¾
class Button extends React.Component {
  handleClick() { console.log('click'); }
}

class SubmitButton extends Button {
  handleClick() {
    // æƒ³è¦è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Ÿå¾ˆå¤æ‚
    super.handleClick();
    // è¿˜è¦æ·»åŠ æ–°é€»è¾‘
  }
}

// 3. åŠ¨æ€ç»„åˆå›°éš¾
class Modal extends React.Component {
  render() {
    return (
      <div>
        {this.props.header}  {/* éš¾ä»¥åŠ¨æ€ç»„åˆ */}
        {this.props.content}
        {this.props.footer}
      </div>
    );
  }
}
```

</CodeBlock>

### 1.2 ç»§æ‰¿çš„å®é™…é—®é¢˜

<CodeBlock>

```jsx
// é—®é¢˜1ï¼šå¼ºè€¦åˆ
class Parent {
  parentMethod() { /* ... */ }
}

class Child extends Parent {
  // Childä¸Parentå¼ºè€¦åˆ
  // ä¿®æ”¹Parentå¯èƒ½å½±å“æ‰€æœ‰Child
  // éš¾ä»¥å¤ç”¨Childçš„éƒ¨åˆ†é€»è¾‘
}

// é—®é¢˜2ï¼šè¿åå•ä¸€èŒè´£
class DataComponent extends React.Component {
  // æ—¢è¦å¤„ç†UIï¼Œåˆè¦å¤„ç†æ•°æ®
  // è¿˜è¦å¤„ç†éªŒè¯ï¼Œè¿˜è¦å¤„ç†æ ¼å¼åŒ–
  // è¿èƒŒäº†å•ä¸€èŒè´£åŸåˆ™
}

// é—®é¢˜3ï¼šæµ‹è¯•å›°éš¾
describe('Child', () => {
  // éœ€è¦åˆ›å»ºæ•´ä¸ªç»§æ‰¿é“¾çš„å®ä¾‹
  // éš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯•
  // ä¾èµ–å…³ç³»å¤æ‚
});

// é—®é¢˜4ï¼šçµæ´»æ€§å·®
class Modal extends React.Component {}
class FullScreenModal extends Modal {}
class DraggableModal extends Modal {}

// å¦‚ä½•åŒæ—¶æ»¡è¶³å…¨å±å’Œæ‹–æ‹½ï¼Ÿ
// class DraggableFullScreenModal extends ??? {}
```

</CodeBlock>

---

## 2. ç»„åˆæ¨¡å¼åŸºç¡€

ç»„åˆæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå°†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªç®€å•é—®é¢˜ï¼Œé€šè¿‡ç»„åˆå¤šä¸ªç®€å•ç»„ä»¶æ¥è§£å†³å¤æ‚é—®é¢˜ã€‚

<CodeBlock>

```jsx
// åŸºç¡€ç»„åˆæ¨¡å¼
// 1. propsç»„åˆ
function App() {
  return (
    <Container>
      <Header />
      <Main />
      <Footer />
    </Container>
  );
}

// 2. å‡½æ•°ç»„åˆ
function createUserProfile(user) {
  return compose(
    withAvatar,
    withName,
    withContactInfo,
    withPermissions
  )(user);
}

// 3. ç»„ä»¶ç»„åˆ
function UserDashboard() {
  return (
    <DashboardLayout>
      <UserStats />
      <UserActivity />
      <UserSettings />
    </DashboardLayout>
  );
}
```

</CodeBlock>

### 2.1 ç»„ä»¶ç»„åˆçš„åŸºæœ¬å½¢å¼

<CodeBlock>

```jsx
// å½¢å¼1ï¼šå±æ€§ç»„åˆ
function Card({ header, content, footer }) {
  return (
    <div className="card">
      {header && <div className="card-header">{header}</div>}
      <div className="card-content">{content}</div>
      {footer && <div className="card-footer">{footer}</div>}
    </div>
  );
}

function App() {
  return (
    <Card
      header={<h2>Card Title</h2>}
      content={<p>Card content goes here</p>}
      footer={<button>Action</button>}
    />
  );
}

// å½¢å¼2ï¼šchildrenç»„åˆ
function Container({ children }) {
  return (
    <div className="container">
      {children}
    </div>
  );
}

function App() {
  return (
    <Container>
      <h1>Title</h1>
      <p>Content</p>
    </Container>
  );
}

// å½¢å¼3ï¼šæ¨¡å¼ç»„åˆ
function withLoading(Component) {
  return function LoadedComponent({ isLoading, ...props }) {
    if (isLoading) return <Spinner />;
    return <Component {...props} />;
  };
}

const UserListWithLoading = withLoading(UserList);
```

</CodeBlock>

### 2.2 ç»„åˆæ¨¡å¼çš„ä¼˜åŠ¿

<CodeBlock>

```jsx
// ä¼˜åŠ¿1ï¼šçµæ´»æ€§
function Modal({ children, showHeader, showFooter }) {
  return (
    <div className="modal">
      {showHeader && <div className="modal-header">{children.header}</div>}
      <div className="modal-body">{children.body}</div>}
      {showFooter && <div className="modal-footer">{children.footer}</div>}
    </div>
  );
}

// å¯ä»¥çµæ´»ç»„åˆ
<Modal showHeader={true} showFooter={false}>
  {{
    header: <h2>Title</h2>,
    body: <p>Content</p>
  }}
</Modal>

// ä¼˜åŠ¿2ï¼šå¯æµ‹è¯•æ€§
function Button({ onClick, children }) {
  return <button onClick={onClick}>{children}</button>;
}

// æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•
test('Button renders correctly', () => {
  const { getByRole } = render(<Button>Click</Button>);
  expect(getByRole('button')).toBeInTheDocument();
});

// ä¼˜åŠ¿3ï¼šæ˜“äºç»´æŠ¤
// ä¿®æ”¹Buttonç»„ä»¶ä¸ä¼šå½±å“å…¶ä»–ç»„ä»¶
// æ·»åŠ æ–°åŠŸèƒ½åªéœ€ç»„åˆç°æœ‰ç»„ä»¶
```

</CodeBlock>

---

## 3. æ›¿ä»£ç»§æ‰¿çš„ç»„åˆæ¨¡å¼

### 3.1 æ›¿ä»£ç±»ç»§æ‰¿

<CodeBlock>

```jsx
// âŒ ç±»ç»§æ‰¿æ–¹å¼
class Animal {
  speak() { /* ... */ }
}

class Dog extends Animal {
  speak() { return 'Woof!'; }
}

class Cat extends Animal {
  speak() { return 'Meow!'; }
}

// âœ… ç»„åˆæ–¹å¼
// 1. ç­–ç•¥æ¨¡å¼
function createAnimal(speak) {
  return { speak };
}

const Dog = createAnimal(() => 'Woof!');
const Cat = createAnimal(() => 'Meow!');

// 2. ç»„ä»¶ç»„åˆ
const Animal = ({ speak, children }) => (
  <div onClick={speak}>{children}</div>
);

const Dog = () => <Animal speak={() => alert('Woof!')}>ğŸ•</Animal>;
const Cat = () => <Animal speak={() => alert('Meow!')}>ğŸ±</Animal>;

// 3. Hooksç»„åˆ
function useAnimalBehavior(sound) {
  const speak = useCallback(() => {
    console.log(sound);
  }, [sound]);

  return { speak };
}

function Dog() {
  const { speak } = useAnimalBehavior('Woof!');
  return <button onClick={speak}>Dog</button>;
}
```

</CodeBlock>

### 3.2 æ›¿ä»£å±æ€§ç»§æ‰¿

<CodeBlock>

```jsx
// âŒ ç»§æ‰¿å±æ€§
class FormField extends React.Component {
  state = { value: '' };
  handleChange = (e) => this.setState({ value: e.target.value });
}

class EmailField extends FormField {
  validate() {
    return this.state.value.includes('@');
  }
}

// âœ… ç»„åˆå±æ€§
// 1. Propsä¼ é€’
function FormField({ label, value, onChange, validation }) {
  return (
    <div className="form-field">
      <label>{label}</label>
      <input value={value} onChange={onChange} />
      {validation && <span className="error">{validation}</span>}
    </div>
  );
}

function EmailField() {
  const [email, setEmail] = useState('');
  const validation = !email.includes('@') ? 'Invalid email' : null;

  return (
    <FormField
      label="Email"
      value={email}
      onChange={(e) => setEmail(e.target.value)}
      validation={validation}
    />
  );
}

// 2. Render Props
function FormField({ label, children }) {
  const [value, setValue] = useState('');

  return (
    <div className="form-field">
      <label>{label}</label>
      {children({ value, setValue })}
    </div>
  );
}

function EmailField() {
  return (
    <FormField label="Email">
      {({ value, setValue }) => (
        <input
          value={value}
          onChange={(e) => setValue(e.target.value)}
        />
      )}
    </FormField>
  );
}

// 3. Hooks
function useFormField(initialValue = '') {
  const [value, setValue] = useState(initialValue);
  return { value, setValue, onChange: (e) => setValue(e.target.value) };
}

function EmailField() {
  const { value, onChange } = useFormField();

  return (
    <FormField
      label="Email"
      value={value}
      onChange={onChange}
    />
  );
}
```

</CodeBlock>

### 3.3 æ›¿ä»£æ–¹æ³•ç»§æ‰¿

<CodeBlock>

```jsx
// âŒ ç»§æ‰¿æ–¹æ³•
class Validatable {
  validate() { /* é€šç”¨éªŒè¯é€»è¾‘ */ }
}

class Form extends Validatable {
  handleSubmit() {
    if (this.validate()) {
      // æäº¤é€»è¾‘
    }
  }
}

// âœ… ç»„åˆæ–¹æ³•
// 1. å·¥å…·å‡½æ•°
function validateField(field) {
  // éªŒè¯é€»è¾‘
  return field.value ? true : 'Required';
}

function Form({ fields }) {
  const [errors, setErrors] = useState({});

  const handleSubmit = (e) => {
    e.preventDefault();
    const newErrors = {};

    fields.forEach(field => {
      const error = validateField(field);
      if (error) newErrors[field.name] = error;
    });

    setErrors(newErrors);
    if (Object.keys(newErrors).length === 0) {
      // æäº¤
    }
  };

  return <form onSubmit={handleSubmit}>{/* ... */}</form>;
}

// 2. Hooks
function useValidation(rules) {
  const [errors, setErrors] = useState({});

  const validate = useCallback((values) => {
    const newErrors = {};
    rules.forEach(rule => {
      const error = rule.test(values[rule.field]);
      if (error) newErrors[rule.field] = error;
    });
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  }, [rules]);

  return { errors, validate };
}

// 3. é«˜é˜¶ç»„ä»¶
function withValidation(Component) {
  return function ValidatedComponent(props) {
    const [errors, setErrors] = useState({});
    // éªŒè¯é€»è¾‘
    return <Component {...props} errors={errors} setErrors={setErrors} />;
  };
}
```

</CodeBlock>

---

## 4. ç»„åˆæ¨¡å¼çš„å®é™…åº”ç”¨

### 4.1 æ„å»ºå¯å¤ç”¨ç»„ä»¶åº“

<CodeBlock>

```jsx
// åŸºç¡€ç»„ä»¶
function Button({ children, variant, size, ...props }) {
  return (
    <button
      className={`btn btn-${variant} btn-${size}`}
      {...props}
    >
      {children}
    </button>
  );
}

// ç»„åˆåŸºç¡€ç»„ä»¶æ„å»ºå¤æ‚ç»„ä»¶
function Modal({ isOpen, onClose, title, children }) {
  if (!isOpen) return null;

  return (
    <div className="modal-overlay" onClick={onClose}>
      <div className="modal-content" onClick={(e) => e.stopPropagation()}>
        <div className="modal-header">
          <h2>{title}</h2>
          <Button onClick={onClose} variant="icon">Ã—</Button>
        </div>
        <div className="modal-body">
          {children}
        </div>
        <div className="modal-footer">
          <Button variant="secondary" onClick={onClose}>
            Cancel
          </Button>
          <Button variant="primary" onClick={onClose}>
            OK
          </Button>
        </div>
      </div>
    </div>
  );
}

// ä½¿ç”¨
function App() {
  const [isModalOpen, setModalOpen] = useState(false);

  return (
    <div>
      <Button onClick={() => setModalOpen(true)}>
        Open Modal
      </Button>
      <Modal
        isOpen={isModalOpen}
        onClose={() => setModalOpen(false)}
        title="Confirm Action"
      >
        <p>Are you sure?</p>
      </Modal>
    </div>
  );
}
```

</CodeBlock>

### 4.2 æ„å»ºè¡¨å•ç³»ç»Ÿ

<CodeBlock>

```jsx
// è¡¨å•å­—æ®µç»„ä»¶
function FormField({ label, error, children }) {
  return (
    <div className="form-field">
      <label>{label}</label>
      {children}
      {error && <span className="error">{error}</span>}
    </div>
  );
}

// ç»„åˆæ„å»ºå„ç§å­—æ®µ
function TextInput({ value, onChange, ...props }) {
  return <input type="text" value={value} onChange={onChange} {...props} />;
}

function EmailInput({ value, onChange, ...props }) {
  return (
    <TextInput
      type="email"
      value={value}
      onChange={onChange}
      {...props}
    />
  );
}

function PasswordInput({ value, onChange, ...props }) {
  return (
    <TextInput
      type="password"
      value={value}
      onChange={onChange}
      {...props}
    />
  );
}

// ä½¿ç”¨ç»„åˆ
function LoginForm() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');

  return (
    <form>
      <FormField label="Email">
        <EmailInput
          value={email}
          onChange={(e) => setEmail(e.target.value)}
        />
      </FormField>

      <FormField label="Password">
        <PasswordInput
          value={password}
          onChange={(e) => setPassword(e.target.value)}
        />
      </FormField>

      <Button type="submit">Login</Button>
    </form>
  );
}
```

</CodeBlock>

### 4.3 æ„å»ºå¸ƒå±€ç³»ç»Ÿ

<CodeBlock>

```jsx
// å¸ƒå±€ç»„ä»¶
function Container({ children, size = 'medium' }) {
  return <div className={`container container-${size}`}>{children}</div>;
}

function Grid({ children, columns = 2, gap = 'medium' }) {
  return (
    <div
      className="grid"
      style={{
        display: 'grid',
        gridTemplateColumns: `repeat(${columns}, 1fr)`,
        gap: gap
      }}
    >
      {children}
    </div>
  );
}

function Flex({ children, direction = 'row', justify, align }) {
  return (
    <div
      className="flex"
      style={{
        display: 'flex',
        flexDirection: direction,
        justifyContent: justify,
        alignItems: align
      }}
    >
      {children}
    </div>
  );
}

// ç»„åˆå¸ƒå±€
function Dashboard() {
  return (
    <Container size="large">
      <Grid columns={3} gap="large">
        <Card>Widget 1</Card>
        <Card>Widget 2</Card>
        <Card>Widget 3</Card>
      </Grid>

      <Flex justify="space-between" align="center">
        <h1>Dashboard</h1>
        <Button>Add Widget</Button>
      </Flex>

      <Grid columns={2} gap="medium">
        <div>
          <Card>Chart</Card>
        </div>
        <div>
          <Card>Table</Card>
        </div>
      </Grid>
    </Container>
  );
}
```

</CodeBlock>

### 4.4 æ„å»ºä¸»é¢˜ç³»ç»Ÿ

<CodeBlock>

```jsx
// ä¸»é¢˜ä¸Šä¸‹æ–‡
const ThemeContext = React.createContext();

function ThemeProvider({ theme, children }) {
  return (
    <ThemeContext.Provider value={theme}>
      {children}
    </ThemeContext.Provider>
  );
}

// ä¸»é¢˜åŒ–ç»„ä»¶
function ThemedComponent({ children, variant }) {
  const theme = useContext(ThemeContext);

  return (
    <div
      className={`themed-component ${variant || ''}`}
      style={{
        backgroundColor: theme.background,
        color: theme.text,
        borderColor: theme.border
      }}
    >
      {children}
    </div>
  );
}

// ç»„åˆä¸»é¢˜
function App() {
  return (
    <ThemeProvider theme={lightTheme}>
      <ThemedComponent variant="primary">
        <h1>Title</h1>
        <Button variant="primary">Button</Button>
      </ThemedComponent>
    </ThemeProvider>
  );
}
```

</CodeBlock>

---

## 5. ç»„åˆæ¨¡å¼çš„é«˜çº§æŠ€å·§

### 5.1 ç»„ä»¶å¢å¼º

<CodeBlock>

```jsx
// 1. å±æ€§å¢å¼º
function withProps(AddedProps) {
  return function(Component) {
    return function EnhancedComponent(props) {
      return <Component {...props} {...AddedProps} />;
    };
  };
}

// ä½¿ç”¨
const EnhancedButton = withProps({ variant: 'primary' })(Button);
<EnhancedButton>Click me</EnhancedButton>

// 2. è¡Œä¸ºå¢å¼º
function withClickTracking(Component) {
  return function TrackedComponent(props) {
    const handleClick = (e) => {
      analytics.track('button_click', {
        component: Component.name,
        ...props
      });
      props.onClick?.(e);
    };

    return <Component {...props} onClick={handleClick} />;
  };
}

const TrackedButton = withClickTracking(Button);

// 3. çŠ¶æ€å¢å¼º
function withLoadingState(Component) {
  return function WithLoadingStateComponent(props) {
    const [isLoading, setLoading] = useState(false);

    const withLoading = async (asyncFn) => {
      setLoading(true);
      try {
        await asyncFn();
      } finally {
        setLoading(false);
      }
    };

    return (
      <Component
        {...props}
        isLoading={isLoading}
        withLoading={withLoading}
      />
    );
  };
}
```

</CodeBlock>

### 5.2 ç»„ä»¶ä¿®é¥°å™¨

<CodeBlock>

```jsx
// ä¿®é¥°å™¨æ¨¡å¼
function compose(...decorators) {
  return function(Component) {
    return decorators.reduceRight((acc, decorator) => {
      return decorator(acc);
    }, Component);
  };
}

// å¤šä¸ªä¿®é¥°å™¨
const EnhancedComponent = compose(
  withLoading,
  withErrorBoundary,
  withClickTracking
)(BaseComponent);

// æ¡ä»¶ä¿®é¥°å™¨
function conditional(condition, decorator) {
  return condition ? decorator : (Component) => Component;
}

const ConditionalComponent = conditional(
  process.env.NODE_ENV === 'development',
  withDevTools
)(Component);
```

</CodeBlock>

### 5.3 ç»„ä»¶åˆ‡ç‰‡

<CodeBlock>

```jsx
// åˆ‡ç‰‡ç»„åˆ
function useUserSlice() {
  const [user, setUser] = useState(null);
  const login = useCallback((credentials) => {
    // ç™»å½•é€»è¾‘
  }, []);
  const logout = useCallback(() => {
    // ç™»å‡ºé€»è¾‘
  }, []);

  return { user, login, logout };
}

function useThemeSlice() {
  const [theme, setTheme] = useState('light');
  const toggleTheme = useCallback(() => {
    setTheme(prev => prev === 'light' ? 'dark' : 'light');
  }, []);

  return { theme, toggleTheme };
}

// ç»„åˆåˆ‡ç‰‡
function useAppState() {
  const user = useUserSlice();
  const theme = useThemeSlice();

  return { ...user, ...theme };
}
```

</CodeBlock>

### 5.4 ç»„ä»¶å·¥å‚

<CodeBlock>

```jsx
// ç»„ä»¶å·¥å‚
function createComponent(type, styles = {}) {
  const BaseComponent = ({ children, ...props }) => {
    return React.createElement(
      type,
      { style: styles, ...props },
      children
    );
  };

  return BaseComponent;
}

// ä½¿ç”¨
const RedButton = createComponent('button', {
  backgroundColor: 'red',
  color: 'white'
});

const BlueBox = createComponent('div', {
  backgroundColor: 'blue',
  width: '100px',
  height: '100px'
});

function App() {
  return (
    <div>
      <RedButton>Red Button</RedButton>
      <BlueBox>Blue Box</BlueBox>
    </div>
  );
}

// å¤æ‚å·¥å‚
function createFormField(type, config) {
  return function Field({ label, ...props }) {
    const [value, setValue] = useState('');

    return (
      <div className="form-field">
        <label>{label}</label>
        {type === 'input' && (
          <input value={value} onChange={(e) => setValue(e.target.value)} {...props} />
        )}
        {type === 'textarea' && (
          <textarea value={value} onChange={(e) => setValue(e.target.value)} {...props} />
        )}
        {type === 'select' && (
          <select value={value} onChange={(e) => setValue(e.target.value)} {...props}>
            {config.options?.map(option => (
              <option key={option.value} value={option.value}>
                {option.label}
              </option>
            ))}
          </select>
        )}
      </div>
    );
  };
}
```

</CodeBlock>

---

## 6. å¸¸è§ç»§æ‰¿æ¨¡å¼çš„ç»„åˆæ›¿ä»£æ–¹æ¡ˆ

### 6.1 æ›¿ä»£å¤šå±‚ç»§æ‰¿

<CodeBlock>

```jsx
// âŒ å¤šå±‚ç»§æ‰¿
class Component extends React.Component {}
class FormComponent extends Component {}
class ValidatableForm extends FormComponent {}
class SubmitableForm extends ValidatableForm {}

// âœ… ç»„åˆæ›¿ä»£
// 1. Hooksç»„åˆ
function useFormComponent(initialValues) {
  const [values, setValues] = useState(initialValues);
  return { values, setValues };
}

function useValidation(rules) {
  const [errors, setErrors] = useState({});
  const validate = useCallback((values) => {
    // éªŒè¯é€»è¾‘
  }, [rules]);
  return { errors, validate };
}

function useSubmitHandler(onSubmit) {
  const [isSubmitting, setSubmitting] = useState(false);
  const handleSubmit = useCallback(async (values) => {
    setSubmitting(true);
    try {
      await onSubmit(values);
    } finally {
      setSubmitting(false);
    }
  }, [onSubmit]);
  return { isSubmitting, handleSubmit };
}

// ç»„åˆæ‰€æœ‰Hooks
function useForm({ initialValues, validationRules, onSubmit }) {
  const formState = useFormComponent(initialValues);
  const validation = useValidation(validationRules);
  const submitHandler = useSubmitHandler(onSubmit);

  return {
    ...formState,
    ...validation,
    ...submitHandler
  };
}

// ä½¿ç”¨
function MyForm() {
  const form = useForm({
    initialValues: { name: '', email: '' },
    validationRules: [/* ... */],
    onSubmit: (values) => {
      console.log('Submit:', values);
    }
  });

  // æ¸²æŸ“è¡¨å•
  return <form>{/* ... */}</form>;
}
```

</CodeBlock>

### 6.2 æ›¿ä»£æ··å…¥(Mixins)

<CodeBlock>

```jsx
// âŒ Mixinsæ–¹å¼ï¼ˆå·²åºŸå¼ƒï¼‰
const LoggingMixin = {
  componentDidMount() {
    console.log('Component mounted');
  }
};

class ComponentWithLogging extends React.Component {
  constructor(props) {
    super(props);
    Object.assign(this, LoggingMixin);
  }
}

// âœ… ç»„åˆæ›¿ä»£
// 1. Hooks
function useLogging() {
  useEffect(() => {
    console.log('Component mounted');
  }, []);
}

// 2. é«˜é˜¶ç»„ä»¶
function withLogging(Component) {
  return function LoggedComponent(props) {
    useEffect(() => {
      console.log('Component mounted');
    }, []);

    return <Component {...props} />;
  };
}

// 3. è£…é¥°å™¨æ¨¡å¼
function logLifecycle(WrappedComponent) {
  return class extends React.Component {
    componentDidMount() {
      console.log('Mounted:', WrappedComponent.name);
    }

    render() {
      return <WrappedComponent {...this.props} />;
    }
  };
}

// 4. ç»„åˆå¤šä¸ªåŠŸèƒ½
function withFeatures(...features) {
  return function(Component) {
    return function EnhancedComponent(props) {
      features.forEach(feature => feature.useHook?.(props));

      return <Component {...props} />;
    };
  };
}

const withLoggingAndErrorBoundary = withFeatures(
  { useHook: () => useEffect(() => console.log('Mounted'), []) },
  { useHook: () => useErrorHandler() }
);
```

</CodeBlock>

### 6.3 æ›¿ä»£æ¥å£å®ç°

<CodeBlock>

```jsx
// âŒ æ¥å£ç»§æ‰¿
interface Draggable {
  onDragStart: () => void;
  onDrag: (x: number, y: number) => void;
  onDragEnd: () => void;
}

class DraggableComponent extends React.Component implements Draggable {
  // å®ç°æ¥å£æ–¹æ³•
}

// âœ… ç»„åˆæ¥å£
// 1. Propsç±»å‹
function DraggableComponent({ onDragStart, onDrag, onDragEnd }) {
  // ä½¿ç”¨ä¼ å…¥çš„å›è°ƒ
  return <div>{/* ... */}</div>;
}

// ä½¿ç”¨
<DraggableComponent
  onDragStart={() => console.log('Start')}
  onDrag={(x, y) => console.log(x, y)}
  onDragEnd={() => console.log('End')}
/>

// 2. Context
const DraggableContext = React.createContext();

function DraggableProvider({ children }) {
  const [isDragging, setIsDragging] = useState(false);
  const [position, setPosition] = useState({ x: 0, y: 0 });

  const value = {
    isDragging,
    position,
    startDrag: () => setIsDragging(true),
    drag: (x, y) => setPosition({ x, y }),
    endDrag: () => setIsDragging(false)
  };

  return (
    <DraggableContext.Provider value={value}>
      {children}
    </DraggableContext.Provider>
  );
}

function DraggableComponent() {
  const { isDragging, position, startDrag, drag, endDrag } =
    useContext(DraggableContext);

  return <div>{/* ä½¿ç”¨ä¸Šä¸‹æ–‡ */}</div>;
}
```

</CodeBlock>

---

## 7. ç»„åˆæ¨¡å¼æœ€ä½³å®è·µ

### 7.1 ç»„ä»¶è®¾è®¡åŸåˆ™

<CodeBlock>

```jsx
// âœ… å•ä¸€èŒè´£åŸåˆ™
// æ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹
function Button({ onClick, children }) {
  return <button onClick={onClick}>{children}</button>;
}

function Modal({ isOpen, onClose, children }) {
  if (!isOpen) return null;
  return <div>{children}</div>;
}

// âœ… ç»„åˆè€Œéç»§æ‰¿
function Card({ header, body, footer }) {
  return (
    <div>
      {header && <header>{header}</header>}
      <main>{body}</main>
      {footer && <footer>{footer}</footer>}
    </div>
  );
}

// âœ… æœ€å°åŒ–ç»„ä»¶API
// åªæš´éœ²å¿…è¦çš„props
function Input({ value, onChange, ...rest }) {
  return <input value={value} onChange={onChange} {...rest} />;
}

// âœ… ä½¿ç”¨childrenå¢å¼ºçµæ´»æ€§
function Container({ children }) {
  return <div className="container">{children}</div>;
}

// éå¸¸çµæ´»çš„ä½¿ç”¨æ–¹å¼
<Container>
  <h1>Title</h1>
  <p>Content</p>
  <Button>Action</Button>
</Container>

// âŒ é¿å…çš„å®è·µ
// 1. ç»„ä»¶èŒè´£è¿‡å¤š
function ComplexComponent() {
  // æ—¢åšUIï¼Œåˆåšæ•°æ®è·å–ï¼ŒåˆåšéªŒè¯ï¼Œåˆåšæ ¼å¼åŒ–
  // åº”è¯¥æ‹†åˆ†ä¸ºå¤šä¸ªç®€å•ç»„ä»¶
}

// 2. è¿‡åº¦æŠ½è±¡
function GenericComponent<T, U, V>(props: Props<T, U, V>) {
  // è¿‡åº¦æŠ½è±¡ï¼Œéš¾ä»¥ç†è§£å’Œä½¿ç”¨
}

// 3. æš´éœ²è¿‡å¤šå†…éƒ¨å®ç°
function Component({ internalState, privateMethod, _handleClick }) {
  // æš´éœ²äº†ä¸åº”è¯¥æš´éœ²çš„ç»†èŠ‚
}
```

</CodeBlock>

### 7.2 ç»„åˆæ¨¡å¼è®¾è®¡æ¨¡å¼

<CodeBlock>

```jsx
// 1. è£…é¥°å™¨æ¨¡å¼
function withBorder(Component) {
  return function BorderedComponent(props) {
    return (
      <div style={{ border: '1px solid black' }}>
        <Component {...props} />
      </div>
    );
  };
}

function withPadding(Component) {
  return function PaddedComponent(props) {
    return (
      <div style={{ padding: '10px' }}>
        <Component {...props} />
      </div>
    );
  };
}

const DecoratedButton = withBorder(withPadding(Button));

// 2. é€‚é…å™¨æ¨¡å¼
function adaptToButton(Component) {
  return function AdaptedComponent(props) {
    return (
      <Button
        onClick={props.onActivate}
        disabled={props.isDisabled}
      >
        {props.label}
      </Button>
    );
  };
}

// 3. å¤–è§‚æ¨¡å¼
function createModal({ title, content, actions }) {
  return (
    <Modal>
      <Modal.Header>{title}</Modal.Header>
      <Modal.Body>{content}</Modal.Body>
      <Modal.Footer>
        {actions.map((action, i) => (
          <Button key={i} onClick={action.onClick}>
            {action.label}
          </Button>
        ))}
      </Modal.Footer>
    </Modal>
  );
}

// ä½¿ç”¨å¤–è§‚æ¨¡å¼
createModal({
  title: 'Confirm',
  content: 'Are you sure?',
  actions: [
    { label: 'Cancel', onClick: handleCancel },
    { label: 'OK', onClick: handleOK }
  ]
});
```

</CodeBlock>

### 7.3 æ€§èƒ½ä¼˜åŒ–

<CodeBlock>

```jsx
// 1. é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
const Button = React.memo(function Button({ onClick, children }) {
  return <button onClick={onClick}>{children}</button>;
});

// 2. ä½¿ç”¨useCallbackå’ŒuseMemo
function ParentComponent() {
  const [count, setCount] = useState(0);

  // ç¼“å­˜å›è°ƒ
  const handleClick = useCallback(() => {
    console.log('Clicked');
  }, []);

  // ç¼“å­˜è®¡ç®—
  const expensiveValue = useMemo(() => {
    return computeExpensiveValue(count);
  }, [count]);

  return (
    <div>
      <Button onClick={handleClick}>Click</Button>
      <span>{expensiveValue}</span>
    </div>
  );
}

// 3. æ‡’åŠ è½½ç»„ä»¶
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </Suspense>
  );
}
```

</CodeBlock>

---

## 8. å¸¸è§é™·é˜±å’Œè§£å†³æ–¹æ¡ˆ

### é™·é˜±1ï¼šè¿‡åº¦ä½¿ç”¨ç»§æ‰¿

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ä»ç„¶ä½¿ç”¨ç»§æ‰¿
class BaseComponent extends React.Component {
  baseMethod() { /* ... */ }
}

class ExtendedComponent extends BaseComponent {
  extendedMethod() { /* ... */ }
}

// âœ… æ­£ç¡® - ä½¿ç”¨ç»„åˆ
function BaseComponent({ children }) {
  return <div>{children}</div>;
}

function useBaseMethod() {
  return useCallback(() => {
    console.log('Base method');
  }, []);
}

function ExtendedComponent() {
  const baseMethod = useBaseMethod();
  return <div onClick={baseMethod}>Extended</div>;
}
```

</ErrorBox>

### é™·é˜±2ï¼šå¿½ç•¥ç»„ä»¶éš”ç¦»

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ç»„ä»¶é—´å¼ºè€¦åˆ
function Parent() {
  const [state, setState] = useState('');

  return (
    <div>
      <Child1 setState={setState} />
      <Child2 state={state} />
    </div>
  );
}

// âœ… æ­£ç¡® - é€šè¿‡Contextå…±äº«
const StateContext = React.createContext();

function Parent() {
  const [state, setState] = useState('');

  return (
    <StateContext.Provider value={{ state, setState }}>
      <Child1 />
      <Child2 />
    </StateContext.Provider>
  );
}

function Child1() {
  const { setState } = useContext(StateContext);
  return <button onClick={() => setState('new')}>Update</button>;
}

function Child2() {
  const { state } = useContext(StateContext);
  return <div>{state}</div>;
}
```

</ErrorBox>

### é™·é˜±3ï¼šæ»¥ç”¨ç»„åˆ

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - è¿‡åº¦ç»„åˆ
function Component() {
  return (
    <withBorder>
      <withPadding>
        <withMargin>
          <withShadow>
            <Button />
          </withShadow>
        </withMargin>
      </withPadding>
    </withBorder>
  );
}

// âœ… æ­£ç¡® - é€‚åº¦çš„ç»„åˆ
function StyledButton({ children, ...props }) {
  return (
    <Button
      {...props}
      style={{
        border: '1px solid black',
        padding: '10px',
        margin: '5px',
        boxShadow: '2px 2px 5px rgba(0,0,0,0.2)'
      }}
    >
      {children}
    </Button>
  );
}
```

</ErrorBox>

### é™·é˜±4ï¼šç»„ä»¶è¿‡äºå¤æ‚

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ç»„ä»¶æ‰¿æ‹…å¤ªå¤šèŒè´£
function ComplexForm() {
  // æ•°æ®ç®¡ç†
  const [formData, setFormData] = useState({});
  // éªŒè¯
  const [errors, setErrors] = useState({});
  // APIè°ƒç”¨
  const [isSubmitting, setSubmitting] = useState(false);
  // UIçŠ¶æ€
  const [isModalOpen, setModalOpen] = useState(false);
  // ä¸šåŠ¡é€»è¾‘
  // æ ¼å¼åŒ–
  // å‰¯ä½œç”¨å¤„ç†
  // ...

  return <form>{/* 100+ è¡Œä»£ç  */}</form>;
}

// âœ… æ­£ç¡® - æ‹†åˆ†ä¸ºå¤šä¸ªç»„ä»¶
function FormContainer({ children, onSubmit }) {
  const [formData, setFormData] = useState({});
  const [errors, setErrors] = useState({});
  const [isSubmitting, setSubmitting] = useState(false);

  return (
    <form onSubmit={handleSubmit}>
      {children}
    </form>
  );
}

function FormField({ name, label, validation }) {
  const { formData, setFormData, errors } = useFormContext();
  // åªè´Ÿè´£å•ä¸ªå­—æ®µ
}

function SubmitButton() {
  const { isSubmitting } = useFormContext();
  return <Button type="submit" disabled={isSubmitting}>Submit</Button>;
}
```

</ErrorBox>

---

## 9. å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šé‡æ„ç»§æ‰¿ç»„ä»¶ä¸ºç»„åˆ

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æœ‰ä¸€ä¸ªä½¿ç”¨ç»§æ‰¿çš„ç»„ä»¶å±‚çº§ç»“æ„
- é‡æ„ä¸ºç»„åˆæ¨¡å¼
- ä¿æŒåŠŸèƒ½ä¸å˜

**åŸå§‹ä»£ç **ï¼š
```javascript
class BaseForm extends React.Component {
  handleSubmit() {
    console.log('Base submit');
  }
}

class ValidatedForm extends BaseForm {
  handleSubmit() {
    if (this.validate()) {
      super.handleSubmit();
    }
  }

  validate() {
    // éªŒè¯é€»è¾‘
  }
}

class WithSubmit extends ValidatedForm {
  handleSubmit() {
    super.handleSubmit();
    this.showSuccess();
  }

  showSuccess() {
    // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
  }
}
```

**æç¤º**ï¼š
- ä½¿ç”¨Hooksæ›¿ä»£ç»§æ‰¿
- æ‹†åˆ†ä¸ºå¤šä¸ªç»„ä»¶
- ä½¿ç”¨ç»„åˆæ›¿ä»£ç»§æ‰¿é“¾

</Expandable>

### ç»ƒä¹ 2ï¼šæ„å»ºç»„ä»¶åº“

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- ä½¿ç”¨ç»„åˆæ¨¡å¼æ„å»ºåŸºç¡€ç»„ä»¶åº“
- åŒ…å«Buttonã€Inputã€Cardã€Modalç­‰ç»„ä»¶
- æ”¯æŒä¸»é¢˜å®šåˆ¶

**å®ç°è¦æ±‚**ï¼š
```javascript
// åŸºç¡€ç»„ä»¶
function Button({ variant, size, children, ...props }) { ... }
function Input({ value, onChange, ...props }) { ... }
function Card({ header, body, footer }) { ... }

// ç»„åˆç»„ä»¶
function Modal({ isOpen, onClose, children }) { ... }
function Form({ onSubmit, children }) { ... }

// ä¸»é¢˜ç³»ç»Ÿ
function ThemeProvider({ theme, children }) { ... }
function ThemedButton({ theme, ...props }) { ... }
```

**æç¤º**ï¼š
- ä»ç®€å•ç»„ä»¶å¼€å§‹
- é€æ­¥ç»„åˆæˆå¤æ‚ç»„ä»¶
- ä½¿ç”¨Contextå®ç°ä¸»é¢˜

</Expandable>

### ç»ƒä¹ 3ï¼šè®¾è®¡æ¨¡å¼å®ç°

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- ä½¿ç”¨ç»„åˆæ¨¡å¼å®ç°å¸¸è§è®¾è®¡æ¨¡å¼
- è£…é¥°å™¨ã€é€‚é…å™¨ã€å¤–è§‚æ¨¡å¼

**å®ç°è¦æ±‚**ï¼š
```javascript
// è£…é¥°å™¨æ¨¡å¼
function withLoading(Component) { ... }
function withErrorBoundary(Component) { ... }

// é€‚é…å™¨æ¨¡å¼
function adaptToInput(Component) { ... }

// å¤–è§‚æ¨¡å¼
function createForm(config) { ... }
```

**æç¤º**ï¼š
- ç†è§£è®¾è®¡æ¨¡å¼çš„ç›®çš„
- ä½¿ç”¨ç»„åˆå®ç°æ¨¡å¼
- ä¿æŒAPIç®€æ´

</Expandable>

### ç»ƒä¹ 4ï¼šå¤æ‚ç»„ä»¶é‡æ„

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æœ‰ä¸€ä¸ªå¤æ‚çš„å•æ–‡ä»¶ç»„ä»¶
- é‡æ„ä¸ºå¤šä¸ªç®€å•ç»„ä»¶
- ä½¿ç”¨ç»„åˆæ¨¡å¼

**åŸå§‹ç»„ä»¶åŒ…å«**ï¼š
- è¡¨å•è¾“å…¥
- éªŒè¯
- æ•°æ®è·å–
- é”™è¯¯å¤„ç†
- åŠ è½½çŠ¶æ€
- å¤šç§å¸ƒå±€

**æç¤º**ï¼š
- æ‹†åˆ†ç»„ä»¶èŒè´£
- ä½¿ç”¨Hooksæå–é€»è¾‘
- é€šè¿‡propså’ŒContextä¼ é€’æ•°æ®
- ä¿æŒç»„ä»¶å¯æµ‹è¯•æ€§

</Expandable>

---

## 10. ç»„åˆæ¨¡å¼ä¸å…¶ä»–æ¨¡å¼

### 10.1 ç»„åˆ vs é«˜é˜¶ç»„ä»¶

<Compare>

```jsx
// ç»„åˆæ–¹å¼
function Component() {
  const { data, loading, error } = useData();
  const { user } = useUser();
  return <div>{/* æ¸²æŸ“ */}</div>;
}

// é«˜é˜¶ç»„ä»¶
const EnhancedComponent = withData(withUser(Component));

// å¯¹æ¯”
// âœ… ç»„åˆæ›´ç®€å•
// âœ… ç»„åˆæ›´çµæ´»
// âœ… ç»„åˆæ›´å®¹æ˜“æµ‹è¯•
// âœ… HOCæœ‰å‘½åå†²çªé—®é¢˜
// âŒ ç»„åˆå¯èƒ½å¯¼è‡´åµŒå¥—è¿‡æ·±
```

</Compare>

### 10.2 ç»„åˆ vs Render Props

<Compare>

```jsx
// ç»„åˆæ–¹å¼
function Component() {
  const state = useCounter();
  return <div>Count: {state.count}</div>;
}

// Render Props
<Counter>
  {({ count, increment }) => (
    <div>Count: {count}</div>
  )}
</Counter>

// å¯¹æ¯”
// âœ… ç»„åˆæ›´ç›´è§‚
// âŒ Render Propsæœ‰åµŒå¥—é—®é¢˜
// âŒ Render Propséš¾ä»¥TypeScript
// âŒ Render Propsæ€§èƒ½é—®é¢˜
```

</Compare>

### 10.3 ç»„åˆ vs Context

<Compare>

```jsx
// ç»„åˆæ–¹å¼ - Propsä¼ é€’
<Provider>
  <Consumer>
    {(data) => <Component data={data} />}
  </Consumer>
</Provider>

// ç»„åˆæ–¹å¼ - Hooks
function Component() {
  const data = useContext(Context);
  return <div>{data}</div>;
}

// å¯¹æ¯”
// âœ… Hooksæ›´ç®€æ´
// âœ… Hooksæ€§èƒ½æ›´å¥½
// âŒ Contextæœ‰æ›´æ–°é—®é¢˜
// âŒ è¿‡åº¦ä½¿ç”¨Contextå½±å“æ€§èƒ½
```

</Compare>

---

## 11. æœ¬ç« å°ç»“

### å…³é”®è¦ç‚¹

<Checklist>

- âœ… Reactæ¨èç»„åˆè€Œéç»§æ‰¿
- âœ… ç»„åˆæä¾›æ›´å¥½çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§
- âœ… é€šè¿‡propså’Œchildrenå®ç°ç»„åˆ
- âœ… Hooksæ˜¯ç»„åˆæ¨¡å¼çš„ç°ä»£åŒ–å®ç°
- âœ… ç»„ä»¶èŒè´£åº”è¯¥å•ä¸€
- âœ… é¿å…æ·±å±‚ç»§æ‰¿é“¾
- âœ… ä½¿ç”¨ç»„åˆæ›¿ä»£mixins
- âœ… è£…é¥°å™¨æ¨¡å¼æ˜¯ç»„åˆçš„å…¸å‹åº”ç”¨
- âœ… æ€§èƒ½ä¼˜åŒ–æ—¶ä½¿ç”¨React.memo
- âœ… è¿‡åº¦ç»„åˆä¹Ÿä¼šå¯¼è‡´é—®é¢˜

</Checklist>

### ç»„åˆæ¨¡å¼æœ€ä½³å®è·µ

<BestPractices>

1. **ä¼˜å…ˆä½¿ç”¨ç»„åˆ** - ä¼˜å…ˆè€ƒè™‘ç»„åˆè€Œéç»§æ‰¿
2. **ä¿æŒç»„ä»¶ç®€å•** - æ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹
3. **åˆç†æ‹†åˆ†** - å°†å¤æ‚ç»„ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªç®€å•ç»„ä»¶
4. **ä½¿ç”¨Hooks** - Hooksæ˜¯ç»„åˆçš„ç°ä»£æ–¹å¼
5. **é¿å…è¿‡åº¦æŠ½è±¡** - ä¸è¦ä¸ºäº†ç»„åˆè€Œç»„åˆ
6. **æ€§èƒ½ä¼˜åŒ–** - ä½¿ç”¨React.memoä¼˜åŒ–é‡æ¸²æŸ“
7. **æµ‹è¯•å‹å¥½** - ç»„åˆæ¨¡å¼ä½¿ç»„ä»¶æ›´æ˜“æµ‹è¯•
8. **æ–‡æ¡£æ¸…æ™°** - è®°å½•ç»„ä»¶çš„ç»„åˆæ–¹å¼

</BestPractices>

### ä½•æ—¶ä½¿ç”¨ç»„åˆ

<BestPractices>

**å¼ºçƒˆæ¨èä½¿ç”¨ç»„åˆ**ï¼š
- æ„å»ºå¯å¤ç”¨ç»„ä»¶åº“
- å®ç°ç»„ä»¶åŠŸèƒ½å¢å¼º
- çŠ¶æ€é€»è¾‘å¤ç”¨
- é¿å…ç»§æ‰¿é—®é¢˜
- æ„å»ºçµæ´»API

**å¯ä»¥ä½¿ç”¨ç»§æ‰¿**ï¼š
- ç¬¬ä¸‰æ–¹åº“éœ€è¦ç»§æ‰¿ï¼ˆæ— æ³•æ”¹å˜ï¼‰
- åŸç”ŸDOMå…ƒç´ æ‰©å±•
- ç‰¹æ®Šæƒ…å†µä¸‹çš„ä»£ç å¤ç”¨

**é¿å…ä½¿ç”¨ç»§æ‰¿**ï¼š
- æ„å»ºåº”ç”¨ç»„ä»¶
- æ‰©å±•å·²æœ‰ç»„ä»¶
- å…±äº«çŠ¶æ€é€»è¾‘
- ç»„ä»¶å±‚çº§æ„å»º

</BestPractices>

### ä¸‹ä¸€æ­¥å­¦ä¹ 

ç°åœ¨ä½ å·²ç»æŒæ¡äº†ç»„åˆä¼˜äºç»§æ‰¿çš„è®¾è®¡ç†å¿µï¼Œæ¥ä¸‹æ¥å¯ä»¥å­¦ä¹ ï¼š

1. **[ç»„ä»¶æ¨¡å¼æ€»è§ˆ](../basics/functional-components)** - ç³»ç»Ÿå­¦ä¹ å„ç§ç»„ä»¶æ¨¡å¼
2. **[é«˜é˜¶ç»„ä»¶](../basics/higher-order-components)** - æ·±å…¥HOCæ¨¡å¼
3. **[Render Props](../basics/render-props)** - æ¸²æŸ“å±æ€§æ¨¡å¼
4. **[è‡ªå®šä¹‰Hooksè¿›é˜¶](../hooks/advanced/custom-hooks)** - æ·±å…¥è‡ªå®šä¹‰Hooks

---

## 12. å»¶ä¼¸é˜…è¯»

### å®˜æ–¹èµ„æº

- [ç»„åˆ vs ç»§æ‰¿](https://react.dev/learn/thinking-in-react) - Reactå®˜æ–¹æ–‡æ¡£
- [JSXä¸­çš„ç»„åˆ](https://react.dev/learn/writing-markup-with-jsx) - ç»„åˆæ€ç»´
- [ç»„ä»¶è®¾è®¡åŸåˆ™](https://react.dev/reference/react) - ç»„ä»¶æœ€ä½³å®è·µ

### æ¨èé˜…è¯»

- [ç»„åˆä¼˜äºç»§æ‰¿](https://www.patterns.dev/posts/pro composition-over-inheritance/) - è®¾è®¡æ¨¡å¼
- [Reactç»„ä»¶è®¾è®¡](https://reactpatterns.com/) - æ¨¡å¼é›†åˆ
- [å‡½æ•°å¼ç»„ä»¶è®¾è®¡](https://www.smashingmagazine.com/) - è®¾è®¡æŒ‡å—

### ç›¸å…³è¯é¢˜

- [é«˜é˜¶ç»„ä»¶](../basics/higher-order-components) - HOCæ¨¡å¼
- [Render Props](../basics/render-props) - æ¸²æŸ“å±æ€§
- [è‡ªå®šä¹‰Hooks](../hooks/advanced/custom-hooks) - é€»è¾‘å¤ç”¨

---

[â† ä¸Šä¸€ç« ï¼šå—æ§ä¸éå—æ§](controlled-uncontrolled) | [ç»„ä»¶æ¨¡å¼æ€»ç»“ â†’](../)
