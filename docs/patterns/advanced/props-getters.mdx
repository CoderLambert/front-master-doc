# Props Gettersæ¨¡å¼ - çµæ´»çš„Propsä¼ é€’ä¸ç»„åˆ

import { Tabs, TabItem } from '@docusaurus/theme-common';

Props Gettersæ¨¡å¼æ˜¯ä¸€ç§é€šè¿‡è¿”å›Propså¯¹è±¡çš„å‡½æ•°æ¥ç®¡ç†ç»„ä»¶Propsçš„é«˜çº§æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´çµæ´»ã€å¯ç»„åˆçš„æ–¹å¼æ¥å¤„ç†Propsçš„ä¼ é€’ã€ç»„åˆå’Œè¦†ç›–ã€‚è¯¥æ¨¡å¼åœ¨æ„å»ºå¯å¤ç”¨ç»„ä»¶åº“ã€æŠ½è±¡å¤æ‚é€»è¾‘å’Œåˆ›å»ºçµæ´»çš„APIæ—¶éå¸¸æœ‰ç”¨ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨Props Gettersçš„æ¦‚å¿µã€å®ç°æ–¹å¼ã€æœ€ä½³å®è·µå’Œä½¿ç”¨åœºæ™¯ã€‚

## æœ¬ç« å­¦ä¹ ç›®æ ‡

- ç†è§£Props Gettersæ¨¡å¼çš„æ ¸å¿ƒæ¦‚å¿µå’Œè®¾è®¡ç†å¿µ
- æŒæ¡Props Gettersçš„åŸºæœ¬å®ç°æ–¹å¼
- å­¦ä¼šä½¿ç”¨Props Getterså¤„ç†å¤æ‚Propsé€»è¾‘
- ç†è§£Props Gettersä¸Render Propsçš„å…³ç³»
- æŒæ¡Propsç»„åˆå’Œè¦†ç›–çš„ç­–ç•¥
- å­¦ä¼šæ„å»ºåŸºäºProps Gettersçš„å¯å¤ç”¨ç»„ä»¶
- ç†è§£Props Gettersçš„ä¼˜åŠ¿å’Œå±€é™æ€§
- æŒæ¡Props Gettersçš„å®é™…åº”ç”¨æ¡ˆä¾‹

---

## 1. ä»€ä¹ˆæ˜¯Props Gettersï¼Ÿ

Props Gettersæ¨¡å¼æ˜¯ä¸€ç§é€šè¿‡å‡½æ•°è¿”å›Propså¯¹è±¡çš„æ¨¡å¼ï¼Œè¿™äº›Propså¯¹è±¡å¯ä»¥è¢«åº”ç”¨åˆ°ç»„ä»¶ä¸Šã€‚ä¸ç›´æ¥ä¼ é€’Propsä¸åŒï¼ŒProps Gettersæä¾›äº†ä¸€ä¸ªä¸­é—´å±‚ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆã€ç»„åˆå’Œä¿®æ”¹Propsã€‚

<Box style={{ padding: '20px', background: '#e3f2fd', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#1976d2' }}>ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    <strong>Props Getters</strong>æ˜¯è¿”å›Propså¯¹è±¡çš„å‡½æ•°ï¼Œå®ƒä»¬æ¥å—å¯é€‰çš„è¦†ç›–å‚æ•°ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰Propsçš„åŒæ—¶ä¿æŒé»˜è®¤è¡Œä¸ºã€‚è¿™ç§æ¨¡å¼æä¾›äº†æœ€å¤§çš„<strong>çµæ´»æ€§å’Œå¯ç»„åˆæ€§</strong>ã€‚
  </p>
</Box>

<CodeBlock>

```jsx
// åŸºç¡€Props Gettersæ¨¡å¼
function Button({ children, getProps }) {
  // è·å–é»˜è®¤Props
  const defaultProps = {
    style: { padding: '10px 20px', borderRadius: '5px' },
    onClick: () => console.log('Clicked')
  };

  // åˆå¹¶ç”¨æˆ·è‡ªå®šä¹‰çš„Props
  const props = getProps ? getProps(defaultProps) : defaultProps;

  return <button {...props}>{children}</button>;
}

// ä½¿ç”¨Props Getters
<Button
  getProps={({ onClick, style }) => ({
    style: {
      ...style,
      backgroundColor: 'blue',
      color: 'white'
    },
    onClick: (e) => {
      onClick(e);
      customHandler(e);
    }
  })}
>
  Click me
</Button>
```

</CodeBlock>

### 1.1 Props Gettersçš„è®¾è®¡æ€æƒ³

<CodeBlock>

```jsx
// Props Gettersè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

// âŒ ä¼ ç»Ÿæ–¹å¼ - Propsä¼ é€’å¤æ‚
<Component
  prop1="value1"
  prop2="value2"
  prop3="value3"
  onClick={handleClick}
  onMouseEnter={handleMouseEnter}
  className="custom-class"
  style={{ color: 'red' }}
/>

// âŒ ä¼ ç»Ÿæ–¹å¼ - éš¾ä»¥åŠ¨æ€ä¿®æ”¹
<MyComponent
  onClick={(e) => {
    analytics.track('click', e);
    originalHandler(e);
  }}
  onFocus={(e) => {
    validationHandler(e);
  }}
/>

// âœ… Props Gettersæ–¹å¼ - ç»Ÿä¸€ç®¡ç†
<FlexibleComponent getProps={getHandlers} />

// å…¶ä¸­getHandlerså¯ä»¥ï¼š
// 1. åˆå¹¶å¤šä¸ªäº‹ä»¶å¤„ç†å™¨
// 2. åŠ¨æ€ç”ŸæˆProps
// 3. åº”ç”¨æ¡ä»¶é€»è¾‘
// 4. æä¾›é»˜è®¤å€¼å’Œè¦†ç›–
```

</CodeBlock>

### 1.2 Props Getters vs å…¶ä»–æ¨¡å¼

<Compare>

```jsx
// Props Getters vs Render Props

// Render Props
<MouseTracker render={(position) => (
  <Cat position={position} />
)} />

// Props Getters
<MouseTracker getProps={({ position }) => ({
  style: { position: `${position.x}px ${position.y}px` }
})} />

// ä¼˜åŠ¿å¯¹æ¯”
// âœ… Props Gettersæ›´ç®€æ´
// âœ… Props Gettersæ›´å®¹æ˜“ç»„åˆ
// âœ… Props Gettersæ”¯æŒéƒ¨åˆ†è¦†ç›–
// âŒ Render Propsè¯­ä¹‰æ›´æ˜ç¡®
// âŒ Props Getterså¯è¯»æ€§ç•¥ä½
```

</Compare>

---

## 2. Props GettersåŸºç¡€å®ç°

### 2.1 ç®€å•çš„Props Getter

<CodeBlock>

```jsx
// åŸºç¡€Props Getter
function usePropsGetter() {
  const getButtonProps = (overrides = {}) => {
    const baseProps = {
      style: {
        padding: '10px 20px',
        borderRadius: '5px',
        border: 'none',
        cursor: 'pointer',
        fontSize: '14px'
      },
      type: 'button'
    };

    return mergeProps(baseProps, overrides);
  };

  const getInputProps = (overrides = {}) => {
    const baseProps = {
      style: {
        padding: '8px 12px',
        borderRadius: '4px',
        border: '1px solid #ccc',
        fontSize: '14px'
      }
    };

    return mergeProps(baseProps, overrides);
  };

  return { getButtonProps, getInputProps };
}

// ä½¿ç”¨
function MyForm() {
  const { getButtonProps, getInputProps } = usePropsGetter();

  return (
    <form>
      <input {...getInputProps({ placeholder: 'Name' })} />
      <button {...getButtonProps()}>
        Submit
      </button>
      <button
        {...getButtonProps({
          style: { backgroundColor: 'red' },
          onClick: () => console.log('Cancel')
        })}
      >
        Cancel
      </button>
    </form>
  );
}
```

</CodeBlock>

### 2.2 åˆå¹¶Propsçš„è¾…åŠ©å‡½æ•°

<CodeBlock>

```jsx
// Propsåˆå¹¶å‡½æ•°
function mergeProps(source, target) {
  if (!target) return source;

  const result = { ...source };

  Object.keys(target).forEach(key => {
    const sourceValue = result[key];
    const targetValue = target[key];

    // å¤„ç†äº‹ä»¶å¤„ç†å™¨åˆå¹¶
    if (typeof sourceValue === 'function' && typeof targetValue === 'function') {
      result[key] = (...args) => {
        sourceValue(...args);
        targetValue(...args);
      };
    }
    // å¤„ç†classNameåˆå¹¶
    else if (key === 'className') {
      result[key] = [sourceValue, targetValue].filter(Boolean).join(' ');
    }
    // å¤„ç†styleåˆå¹¶
    else if (key === 'style' && typeof sourceValue === 'object' && typeof targetValue === 'object') {
      result[key] = { ...sourceValue, ...targetValue };
    }
    // é»˜è®¤è¦†ç›–
    else {
      result[key] = targetValue;
    }
  });

  return result;
}

// ä½¿ç”¨ç¤ºä¾‹
const defaultProps = {
  onClick: () => console.log('default'),
  className: 'base-class',
  style: { color: 'blue' }
};

const customProps = {
  onClick: () => console.log('custom'),
  className: 'custom-class',
  style: { fontSize: '16px' }
};

const merged = mergeProps(defaultProps, customProps);
// ç»“æœï¼š
// {
//   onClick: () => { console.log('default'); console.log('custom'); },
//   className: 'base-class custom-class',
//   style: { color: 'blue', fontSize: '16px' }
// }
```

</CodeBlock>

### 2.3 æ¡ä»¶æ€§Props

<CodeBlock>

```jsx
// æ”¯æŒæ¡ä»¶é€»è¾‘çš„Props Getter
function createPropsGetter(defaults) {
  return function getProps(options = {}) {
    const {
      overrides = {},
      condition,
      whenTrue,
      whenFalse
    } = options;

    let result = { ...defaults };

    // åº”ç”¨è¦†ç›–
    result = mergeProps(result, overrides);

    // åº”ç”¨æ¡ä»¶é€»è¾‘
    if (condition !== undefined) {
      const conditionalProps = condition ? whenTrue : whenFalse;
      result = mergeProps(result, conditionalProps);
    }

    return result;
  };
}

// ä½¿ç”¨
const getButtonProps = createPropsGetter({
  style: { padding: '10px 20px' }
});

function MyButton({ isPrimary, isDisabled }) {
  return (
    <>
      {/* æ¡ä»¶æ€§Props */}
      <button {...getButtonProps({
        condition: isPrimary,
        whenTrue: { style: { backgroundColor: 'blue' } },
        whenFalse: { style: { backgroundColor: 'gray' } }
      })}>
        Primary Button
      </button>

      {/* è¦†ç›–Props */}
      <button {...getButtonProps({
        overrides: {
          style: { backgroundColor: 'red' },
          onClick: () => console.log('Custom click')
        }
      })}>
        Custom Button
      </button>

      {/* ç¦ç”¨çŠ¶æ€ */}
      <button {...getButtonProps({
        condition: isDisabled,
        whenTrue: {
          style: { opacity: 0.5, cursor: 'not-allowed' },
          disabled: true
        }
      })}>
        Disabled Button
      </button>
    </>
  );
}
```

</CodeBlock>

---

## 3. é«˜çº§Props Gettersæ¨¡å¼

### 3.1 é“¾å¼Props Getters

<CodeBlock>

```jsx
// é“¾å¼Propsç»„åˆ
function createChainedPropsGetters(...getters) {
  return function getChainedProps(overrides = {}) {
    return getters.reduce((props, getter) => {
      return mergeProps(props, getter(overrides));
    }, { ...overrides });
  };
}

// ç¤ºä¾‹ï¼šå¤šé‡ä¿®é¥°çš„Props
const getButtonProps = createChainedPropsGetters(
  // åŸºç¡€æ ·å¼
  (overrides) => ({
    style: {
      padding: '10px 20px',
      borderRadius: '5px',
      ...overrides?.style
    }
  }),
  // ä¸»é¢˜æ ·å¼
  (overrides) => ({
    className: `theme-${overrides?.theme || 'default'}`,
    style: {
      fontFamily: 'Arial, sans-serif',
      ...overrides?.style
    }
  }),
  // å°ºå¯¸æ ·å¼
  (overrides) => ({
    className: `size-${overrides?.size || 'medium'}`,
    style: {
      ...overrides?.style,
      ...(overrides?.size === 'small' && { fontSize: '12px' }),
      ...(overrides?.size === 'large' && { fontSize: '18px' })
    }
  })
);

// ä½¿ç”¨
<button {...getButtonProps({
  theme: 'primary',
  size: 'large',
  overrides: {
    onClick: () => console.log('Clicked'),
    className: 'custom-button'
  }
})}>
  Click me
</button>

// ç»“æœå°†åº”ç”¨æ‰€æœ‰å±‚çº§çš„Props
```

</CodeBlock>

### 3.2 åŠ¨æ€Propsç”Ÿæˆ

<CodeBlock>

```jsx
// æ ¹æ®çŠ¶æ€åŠ¨æ€ç”ŸæˆProps
function createDynamicPropsGetter() {
  const getDynamicProps = (componentType, state) => {
    switch (componentType) {
      case 'input':
        return {
          value: state.value,
          onChange: (e) => state.setValue(e.target.value),
          className: `input ${state.error ? 'error' : ''}`,
          style: {
            borderColor: state.error ? 'red' : '#ccc',
            ...state.customStyle
          }
        };

      case 'button':
        return {
          disabled: state.isLoading,
          className: `button ${state.isLoading ? 'loading' : ''}`,
          onClick: state.isLoading ? undefined : state.onClick,
          style: {
            opacity: state.isLoading ? 0.6 : 1,
            ...state.customStyle
          }
        };

      case 'form':
        return {
          onSubmit: (e) => {
            e.preventDefault();
            if (!state.error) {
              state.onSubmit();
            }
          },
          noValidate: state.disableValidation
        };

      default:
        return {};
    }
  };

  return { getDynamicProps };
}

// ä½¿ç”¨
function MyForm() {
  const [value, setValue] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState('');

  const { getDynamicProps } = createDynamicPropsGetter();

  return (
    <form {...getDynamicProps('form', {
      value, setValue, isLoading, error, onSubmit: handleSubmit
    })}>
      <input {...getDynamicProps('input', {
        value, setValue, error, customStyle: { width: '100%' }
      })} />
      {error && <span className="error">{error}</span>}
      <button {...getDynamicProps('button', {
        isLoading, customStyle: { marginTop: '10px' }
      })}>
        {isLoading ? 'Submitting...' : 'Submit'}
      </button>
    </form>
  );
}
```

</CodeBlock>

### 3.3 PropséªŒè¯å’Œçº¦æŸ

<CodeBlock>

```jsx
// å¸¦éªŒè¯çš„Props Getter
function createValidatedPropsGetter(validationRules) {
  return function getValidatedProps(overrides = {}) {
    const props = { ...overrides };

    // åº”ç”¨éªŒè¯è§„åˆ™
    Object.keys(validationRules).forEach(key => {
      const rule = validationRules[key];
      const value = props[key];

      if (rule.required && (value === undefined || value === null)) {
        console.warn(`Prop "${key}" is required`);
      }

      if (rule.validator && !rule.validator(value)) {
        console.warn(`Prop "${key}" failed validation`);
      }

      if (rule.default !== undefined && value === undefined) {
        props[key] = rule.default;
      }
    });

    return props;
  };
}

// éªŒè¯è§„åˆ™å®šä¹‰
const inputValidationRules = {
  value: {
    required: true,
    validator: (v) => typeof v === 'string',
    default: ''
  },
  onChange: {
    required: true,
    validator: (f) => typeof f === 'function'
  },
  maxLength: {
    validator: (n) => typeof n === 'number' && n > 0,
    default: 100
  }
};

const getInputProps = createValidatedPropsGetter(inputValidationRules);

// ä½¿ç”¨
function ValidatedInput(props) {
  const inputProps = getValidatedProps(props);
  return <input {...inputProps} />;
}

// å¦‚æœæ²¡æœ‰æä¾›requiredçš„propsï¼Œä¼šæ”¶åˆ°è­¦å‘Š
<ValidatedInput
  value="test"
  onChange={() => {}}
/>
```

</CodeBlock>

### 3.4 éƒ¨åˆ†Propsè¦†ç›–

<CodeBlock>

```jsx
// æ”¯æŒéƒ¨åˆ†è¦†ç›–çš„Props Getter
function createPartialPropsGetter(baseProps) {
  return {
    getProps: (overrides = {}) => {
      return mergeProps(baseProps, overrides);
    },
    getPartialProps: (keys) => {
      // è¿”å›éƒ¨åˆ†Props
      const partialProps = {};
      keys.forEach(key => {
        if (key in baseProps) {
          partialProps[key] = baseProps[key];
        }
      });
      return partialProps;
    },
    updateBaseProps: (newBaseProps) => {
      // æ›´æ–°åŸºç¡€Props
      Object.assign(baseProps, newBaseProps);
    }
  };
}

// ä½¿ç”¨
const buttonPropsManager = createPartialPropsGetter({
  style: { padding: '10px 20px' },
  className: 'base-button',
  type: 'button'
});

function MyComponent() {
  return (
    <>
      {/* è·å–å®Œæ•´Props */}
      <button {...buttonPropsManager.getProps()}>
        Default
      </button>

      {/* è¦†ç›–éƒ¨åˆ†Props */}
      <button {...buttonPropsManager.getProps({
        style: { backgroundColor: 'red' }
      })}>
        Red Button
      </button>

      {/* ä½¿ç”¨éƒ¨åˆ†Props */}
      <div {...buttonPropsManager.getPartialProps(['className'])}>
        This div has the base button class
      </div>
    </>
  );
}
```

</CodeBlock>

---

## 4. å®é™…åº”ç”¨æ¡ˆä¾‹

### 4.1 è¡¨å•è¾“å…¥ç»„ä»¶

<CodeBlock>

```jsx
// ä½¿ç”¨Props Gettersæ„å»ºçµæ´»è¡¨å•
function useFormInput(initialValue = '', validationRules = {}) {
  const [value, setValue] = useState(initialValue);
  const [error, setError] = useState('');
  const [touched, setTouched] = useState(false);

  const validate = useCallback((val) => {
    for (const rule of validationRules) {
      if (rule.required && !val) {
        return rule.message || 'This field is required';
      }
      if (rule.pattern && !rule.pattern.test(val)) {
        return rule.message || 'Invalid format';
      }
      if (rule.minLength && val.length < rule.minLength) {
        return rule.message || `Minimum length is ${rule.minLength}`;
      }
    }
    return '';
  }, [validationRules]);

  useEffect(() => {
    if (touched) {
      setError(validate(value));
    }
  }, [value, touched, validate]);

  const getInputProps = useCallback((overrides = {}) => {
    const baseProps = {
      value,
      onChange: (e) => {
        setValue(e.target.value);
        overrides.onChange?.(e);
      },
      onBlur: (e) => {
        setTouched(true);
        overrides.onBlur?.(e);
      },
      className: `form-input ${error ? 'error' : ''}`,
      style: {
        borderColor: error ? 'red' : '#ccc',
        padding: '8px 12px',
        ...overrides.style
      }
    };

    return mergeProps(baseProps, overrides);
  }, [value, error, touched]);

  const getErrorProps = useCallback(() => ({
    className: `error-message ${error ? 'visible' : 'hidden'}`,
    children: error
  }), [error]);

  return {
    value,
    error,
    touched,
    getInputProps,
    getErrorProps,
    setValue,
    setTouched
  };
}

// ä½¿ç”¨
function LoginForm() {
  const email = useFormInput('', [
    { required: true, message: 'Email is required' },
    { pattern: /^\S+@\S+$/, message: 'Invalid email' }
  ]);

  const password = useFormInput('', [
    { required: true, message: 'Password is required' },
    { minLength: 6, message: 'Minimum 6 characters' }
  ]);

  const handleSubmit = (e) => {
    e.preventDefault();
    // æäº¤é€»è¾‘
  };

  return (
    <form onSubmit={handleSubmit}>
      <div>
        <label>Email</label>
        <input {...email.getInputProps()} />
        <span {...email.getErrorProps()} />
      </div>

      <div>
        <label>Password</label>
        <input
          {...password.getInputProps({
            type: 'password',
            placeholder: 'Enter password'
          })}
        />
        <span {...password.getErrorProps()} />
      </div>

      <button {...password.getInputProps({
        disabled: email.error || password.error
      })}>
        Login
      </button>
    </form>
  );
}
```

</CodeBlock>

### 4.2 æ‹–æ‹½ç»„ä»¶

<CodeBlock>

```jsx
// ä½¿ç”¨Props Getterså®ç°æ‹–æ‹½åŠŸèƒ½
function useDraggable() {
  const [position, setPosition] = useState({ x: 0, y: 0 });
  const [isDragging, setIsDragging] = useState(false);
  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });

  const getDragHandleProps = useCallback((overrides = {}) => {
    const baseProps = {
      onMouseDown: (e) => {
        setIsDragging(true);
        setDragStart({
          x: e.clientX - position.x,
          y: e.clientY - position.y
        });
        overrides.onMouseDown?.(e);
      },
      style: {
        cursor: isDragging ? 'grabbing' : 'grab',
        ...overrides.style
      }
    };

    return mergeProps(baseProps, overrides);
  }, [position, isDragging]);

  const getDragContainerProps = useCallback((overrides = {}) => {
    const baseProps = {
      onMouseMove: (e) => {
        if (isDragging) {
          setPosition({
            x: e.clientX - dragStart.x,
            y: e.clientY - dragStart.y
          });
        }
        overrides.onMouseMove?.(e);
      },
      onMouseUp: (e) => {
        setIsDragging(false);
        overrides.onMouseUp?.(e);
      },
      style: {
        position: 'relative',
        ...overrides.style
      }
    };

    return mergeProps(baseProps, overrides);
  }, [isDragging, dragStart]);

  return {
    position,
    isDragging,
    getDragHandleProps,
    getDragContainerProps
  };
}

// ä½¿ç”¨
function DraggableBox() {
  const { position, isDragging, getDragHandleProps, getDragContainerProps } =
    useDraggable();

  return (
    <div {...getDragContainerProps()}>
      <div
        {...getDragHandleProps()}
        style={{
          position: 'absolute',
          left: position.x,
          top: position.y,
          width: '100px',
          height: '100px',
          backgroundColor: isDragging ? 'lightblue' : 'blue',
          color: 'white',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center'
        }}
      >
        Drag me
      </div>
    </div>
  );
}
```

</CodeBlock>

### 4.3 å¯è®¿é—®æ€§å¢å¼º

<CodeBlock>

```jsx
// å¯è®¿é—®æ€§Props Getters
function useA11y() {
  const getAriaProps = useCallback((overrides = {}) => {
    const baseProps = {
      role: 'button',
      tabIndex: 0,
      ...overrides
    };

    return baseProps;
  }, []);

  const getFormFieldProps = useCallback((label, id, errors = {}) => {
    return {
      label: {
        htmlFor: id,
        children: label
      },
      input: {
        id,
        'aria-invalid': errors[id] ? 'true' : 'false',
        'aria-describedby': errors[id] ? `${id}-error` : undefined
      },
      error: {
        id: `${id}-error`,
        role: 'alert',
        children: errors[id]
      }
    };
  }, []);

  const getModalProps = useCallback((isOpen, onClose) => ({
    dialog: {
      role: 'dialog',
      'aria-modal': 'true',
      'aria-hidden': !isOpen,
      style: {
        display: isOpen ? 'block' : 'none'
      }
    },
    overlay: {
      style: {
        position: 'fixed',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: 'rgba(0,0,0,0.5)'
      },
      onClick: onClose
    },
    content: {
      style: {
        position: 'absolute',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        backgroundColor: 'white',
        padding: '20px',
        borderRadius: '8px'
      }
    }
  }), []);

  return { getAriaProps, getFormFieldProps, getModalProps };
}

// ä½¿ç”¨
function AccessibleForm() {
  const { getFormFieldProps } = useA11y();
  const [errors, setErrors] = useState({});

  const emailProps = getFormFieldProps('Email Address', 'email', errors);

  return (
    <form>
      <label {...emailProps.label} />
      <input {...emailProps.input} />
      {errors.email && <span {...emailProps.error} />}
    </form>
  );
}

function Modal({ isOpen, onClose }) {
  const { getModalProps } = useA11y();
  const modalProps = getModalProps(isOpen, onClose);

  if (!isOpen) return null;

  return (
    <div {...modalProps.overlay}>
      <div {...modalProps.dialog}>
        <div {...modalProps.content}>
          <h2>Modal Title</h2>
          <p>Modal content here</p>
          <button onClick={onClose}>Close</button>
        </div>
      </div>
    </div>
  );
}
```

</CodeBlock>

---

## 5. Props Gettersæœ€ä½³å®è·µ

### 5.1 è®¾è®¡åŸåˆ™

<CodeBlock>

```jsx
// âœ… å¥½çš„Props Gettersè®¾è®¡

// 1. ä¿æŒAPIç®€å•
function getSimpleProps(overrides = {}) {
  return {
    style: { padding: '10px' },
    ...overrides
  };
}

// 2. æä¾›æœ‰æ„ä¹‰çš„é»˜è®¤å€¼
function getButtonProps(options = {}) {
  const {
    variant = 'primary',
    size = 'medium',
    disabled = false
  } = options;

  const variants = {
    primary: { backgroundColor: 'blue', color: 'white' },
    secondary: { backgroundColor: 'gray', color: 'black' }
  };

  const sizes = {
    small: { fontSize: '12px', padding: '5px 10px' },
    medium: { fontSize: '14px', padding: '8px 16px' },
    large: { fontSize: '16px', padding: '12px 24px' }
  };

  return {
    style: {
      ...variants[variant],
      ...sizes[size],
      opacity: disabled ? 0.5 : 1,
      cursor: disabled ? 'not-allowed' : 'pointer'
    },
    disabled
  };
}

// 3. æ”¯æŒæ¸è¿›å¼å¢å¼º
function getEnhancedProps(baseProps) {
  return {
    // åŸºç¡€åŠŸèƒ½æ€»æ˜¯å¯ç”¨
    ...baseProps,

    // å¢å¼ºåŠŸèƒ½å¯é€‰
    getButtonProps: (options) => getButtonProps(options),
    getInputProps: (options) => getInputProps(options),

    // ç»„åˆæ–¹æ³•
    getProps: (componentType, options) => {
      const getters = {
        button: getButtonProps,
        input: getInputProps
      };
      return getters[componentType]?.(options) || {};
    }
  };
}
```

</CodeBlock>

### 5.2 æ€§èƒ½ä¼˜åŒ–

<CodeBlock>

```jsx
// ç¼“å­˜Props Getterç»“æœ
function createCachedPropsGetter(getter) {
  const cache = new Map();

  return function getCachedProps(key, overrides = {}) {
    // ä½¿ç”¨keyä½œä¸ºç¼“å­˜é”®
    if (cache.has(key)) {
      const cached = cache.get(key);
      return mergeProps(cached, overrides);
    }

    // ç”Ÿæˆæ–°Props
    const props = getter(overrides);
    cache.set(key, props);
    return mergeProps(props, overrides);
  };
}

// ä½¿ç”¨React.memoä¼˜åŒ–
const MemoizedButton = React.memo(function MemoizedButton({ getProps }) {
  const buttonProps = getProps();

  return <button {...buttonProps} />;
});

// é¿å…åœ¨renderä¸­åˆ›å»ºæ–°å‡½æ•°
function BadExample() {
  return (
    <MyComponent
      getProps={() => ({  // âŒ æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å‡½æ•°
        style: { color: 'red' }
      })}
    />
  );
}

// ä½¿ç”¨useCallback
function GoodExample() {
  const getProps = useCallback(() => ({
    style: { color: 'red' }
  }), []);

  return <MyComponent getProps={getProps} />;
}
```

</CodeBlock>

### 5.3 ç±»å‹å®‰å…¨

<CodeBlock>

```tsx
// TypeScriptç±»å‹å®šä¹‰
type PropsGetter<T = {}, U = {}> = (overrides?: U) => T;

interface BaseButtonProps {
  style: React.CSSProperties;
  className?: string;
  type?: 'button' | 'submit' | 'reset';
  disabled?: boolean;
}

interface ButtonOptions {
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'small' | 'medium' | 'large';
}

type ButtonPropsGetter = PropsGetter<BaseButtonProps, ButtonOptions>;

// åˆ›å»ºå¸¦ç±»å‹çš„Props Getter
function createButtonPropsGetter(): ButtonPropsGetter {
  return (overrides = {}) => {
    const {
      variant = 'primary',
      style,
      className,
      ...rest
    } = overrides;

    const variantStyles = {
      primary: { backgroundColor: 'blue', color: 'white' },
      secondary: { backgroundColor: 'gray', color: 'black' },
      danger: { backgroundColor: 'red', color: 'white' }
    };

    return {
      style: {
        ...variantStyles[variant],
        ...style
      },
      className: `btn ${variant} ${className || ''}`.trim(),
      type: 'button',
      ...rest
    };
  };
}

// æ³›å‹Props Getter
function createPropsGetter<T, U>(
  defaults: T,
  transform?: (overrides: U) => Partial<T>
): PropsGetter<T, U> {
  return (overrides = {} as U) => {
    const transformed = transform ? transform(overrides) : {};
    return { ...defaults, ...transformed, ...overrides };
  };
}
```

</CodeBlock>

### 5.4 æ–‡æ¡£å’Œæµ‹è¯•

<CodeBlock>

```jsx
// å®Œæ•´çš„Props Getteræ–‡æ¡£ç¤ºä¾‹

/**
 * åˆ›å»ºæŒ‰é’®Propsçš„Getter
 * @param {Object} options - é…ç½®é€‰é¡¹
 * @param {string} options.variant - æŒ‰é’®å˜ä½“: 'primary' | 'secondary' | 'danger'
 * @param {string} options.size - æŒ‰é’®å°ºå¯¸: 'small' | 'medium' | 'large'
 * @param {boolean} options.disabled - æ˜¯å¦ç¦ç”¨
 * @param {Object} options.style - è‡ªå®šä¹‰æ ·å¼
 * @param {string} options.className - è‡ªå®šä¹‰ç±»å
 * @returns {Object} åˆå¹¶åçš„æŒ‰é’®Props
 *
 * @example
 * const getProps = createButtonProps();
 *
 * // åŸºç¡€æŒ‰é’®
 * <button {...getProps()}>Click me</button>
 *
 * // å¸¦é€‰é¡¹çš„æŒ‰é’®
 * <button {...getProps({ variant: 'danger', size: 'large' })}>
 *   Delete
 * </button>
 *
 * @example
 * // è‡ªå®šä¹‰è¦†ç›–
 * <button {...getProps({
 *   variant: 'primary',
 *   onClick: () => console.log('Clicked!')
 * })}>
 *   Custom Button
 * </button>
 */
function createButtonProps(options = {}) {
  // å®ç°...
}

// æµ‹è¯•
describe('createButtonProps', () => {
  it('should return default props when no options provided', () => {
    const getProps = createButtonProps();
    const props = getProps();

    expect(props.style).toBeDefined();
    expect(props.className).toContain('btn');
  });

  it('should apply variant styles', () => {
    const getProps = createButtonProps();
    const props = getProps({ variant: 'danger' });

    expect(props.style.backgroundColor).toBe('red');
  });

  it('should merge overrides correctly', () => {
    const getProps = createButtonProps();
    const props = getProps({
      variant: 'primary',
      onClick: () => console.log('test')
    });

    expect(props.style.backgroundColor).toBe('blue');
    expect(typeof props.onClick).toBe('function');
  });
});
```

</CodeBlock>

---

## 6. Props Getterså¸¸è§é™·é˜±

### é™·é˜±1ï¼šè¿‡åº¦å¤æ‚åŒ–

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - è¿‡åº¦å¤æ‚åŒ–
function OverlyComplexGetter() {
  return {
    getProps: (options) => {
      // è¿‡åº¦å¤æ‚çš„å¤šå±‚åµŒå¥—
      return {
        getButtonProps: (opts) => {
          return {
            getInputProps: (o) => {
              // åµŒå¥—è¿‡æ·±ï¼Œéš¾ä»¥ç†è§£å’Œç»´æŠ¤
              return { /* ... */ };
            }
          };
        }
      };
    }
  };
}

// âœ… æ­£ç¡® - ä¿æŒç®€å•æ¸…æ™°
function SimpleGetter() {
  return {
    getButtonProps: (overrides) => ({
      style: { padding: '10px' },
      ...overrides
    }),
    getInputProps: (overrides) => ({
      style: { border: '1px solid #ccc' },
      ...overrides
    })
  };
}
```

</ErrorBox>

### é™·é˜±2ï¼šä¸æ­£ç¡®çš„Propsåˆå¹¶

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ç®€å•è¦†ç›–å¯¼è‡´äº‹ä»¶ä¸¢å¤±
function BadMerge(target, source) {
  return { ...target, ...source };
}

const defaultProps = {
  onClick: () => console.log('default')
};

const customProps = {
  onClick: () => console.log('custom')
};

// è¦†ç›–åä¸¢å¤±é»˜è®¤äº‹ä»¶å¤„ç†å™¨
const merged = BadMerge(defaultProps, customProps);
merged.onClick(); // åªè¾“å‡º 'custom'ï¼Œä¸¢å¤±äº† 'default'

// âœ… æ­£ç¡® - æ™ºèƒ½åˆå¹¶
function GoodMerge(target, source) {
  const result = { ...target };

  Object.keys(source).forEach(key => {
    const targetValue = result[key];
    const sourceValue = source[key];

    if (typeof targetValue === 'function' && typeof sourceValue === 'function') {
      // ç»„åˆå‡½æ•°
      result[key] = (...args) => {
        targetValue(...args);
        sourceValue(...args);
      };
    } else {
      // ç›´æ¥è¦†ç›–
      result[key] = sourceValue;
    }
  });

  return result;
}

const merged = GoodMerge(defaultProps, customProps);
merged.onClick(); // è¾“å‡º 'default' å’Œ 'custom'
```

</ErrorBox>

### é™·é˜±3ï¼šå¿˜è®°æ¸…ç†å‡½æ•°

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - æ²¡æœ‰æ¸…ç†å‰¯ä½œç”¨
function useBadPropsGetter() {
  const [value, setValue] = useState('');

  const getProps = (overrides) => {
    const handler = () => {
      // å†…å­˜æ³„æ¼ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å‡½æ•°ï¼Œæ²¡æœ‰æ¸…ç†
      console.log('Handler created');
    };

    return {
      value,
      onChange: (e) => setValue(e.target.value),
      onClick: handler,
      ...overrides
    };
  };

  return { getProps };
}

// âœ… æ­£ç¡® - ä½¿ç”¨useCallbackç¼“å­˜
function useGoodPropsGetter() {
  const [value, setValue] = useState('');

  const getProps = useCallback((overrides) => {
    const handler = useCallback(() => {
      console.log('Handler cached');
    }, []);

    return {
      value,
      onChange: (e) => setValue(e.target.value),
      onClick: handler,
      ...overrides
    };
  }, []);

  return { getProps };
}
```

</ErrorBox>

### é™·é˜±4ï¼šå¿½ç•¥é»˜è®¤å€¼

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - è¦†ç›–æ—¶ä¸¢å¤±é»˜è®¤å€¼
function createBadInputGetter() {
  return {
    getProps: (overrides) => ({
      style: { padding: '10px', borderRadius: '5px' },
      ...overrides  // è¦†ç›–æ—¶å®Œå…¨ä¸¢å¤±é»˜è®¤style
    })
  };
}

const getProps = createBadInputGetter();
<button {...getProps({ style: { color: 'red' } })}>
// ç»“æœåªæœ‰ { color: 'red' }ï¼Œä¸¢å¤±äº† padding å’Œ borderRadius

// âœ… æ­£ç¡® - æ­£ç¡®åˆå¹¶æ ·å¼
function createGoodInputGetter() {
  return {
    getProps: (overrides) => {
      const defaultStyle = { padding: '10px', borderRadius: '5px' };
      const customStyle = overrides.style || {};

      return {
        style: { ...defaultStyle, ...customStyle },
        ...overrides
      };
    }
  };
}

const getProps = createGoodInputGetter();
<button {...getProps({ style: { color: 'red' } })}>
// ç»“æœæœ‰ { padding: '10px', borderRadius: '5px', color: 'red' }
```

</ErrorBox>

---

## 7. å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šåˆ›å»ºå¯é…ç½®çš„å·¥å…·æç¤ºç»„ä»¶

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æ”¯æŒå¤šç§è§¦å‘æ–¹å¼ï¼šhoverã€clickã€focus
- å¯é…ç½®ä½ç½®ï¼štopã€bottomã€leftã€right
- æ”¯æŒè‡ªå®šä¹‰æ ·å¼å’Œå†…å®¹
- å¯è®¿é—®æ€§æ”¯æŒ

**å®ç°è¦æ±‚**ï¼š
```javascript
function useTooltip(options) {
  const [isVisible, setIsVisible] = useState(false);

  const getTriggerProps = (overrides) => {
    // è§¦å‘å™¨Props
  };

  const getTooltipProps = (overrides) => {
    // å·¥å…·æç¤ºProps
  };

  return { getTriggerProps, getTooltipProps, isVisible };
}
```

**æç¤º**ï¼š
- ä½¿ç”¨useStateç®¡ç†å¯è§æ€§
- æ ¹æ®optionsé…ç½®äº‹ä»¶å¤„ç†å™¨
- æ­£ç¡®åˆå¹¶Props
- æ”¯æŒé”®ç›˜å¯¼èˆª

</Expandable>

### ç»ƒä¹ 2ï¼šåˆ›å»ºå¯å¤ç”¨çš„æŠ˜å é¢æ¿

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æ”¯æŒå•ä¸ªæˆ–å¤šä¸ªé¢æ¿åŒæ—¶å±•å¼€
- å¯é…ç½®åŠ¨ç”»æ•ˆæœ
- æ”¯æŒé”®ç›˜å¯¼èˆª
- å¯è‡ªå®šä¹‰å¤´éƒ¨å’Œå†…å®¹

**å®ç°è¦æ±‚**ï¼š
```javascript
function useAccordion(options) {
  const [openItems, setOpenItems] = useState([]);

  const getItemProps = (id, overrides) => {
    // å•ä¸ªé¢æ¿Props
  };

  const getToggleProps = (id, overrides) => {
    // åˆ‡æ¢æŒ‰é’®Props
  };

  const getPanelProps = (id, overrides) => {
    // é¢æ¿å†…å®¹Props
  };

  return { getItemProps, getToggleProps, getPanelProps, openItems };
}
```

**æç¤º**ï¼š
- ç®¡ç†å¤šä¸ªé¢æ¿çŠ¶æ€
- å¤„ç†é”®ç›˜äº‹ä»¶
- åŠ¨ç”»å®ç°
- ARIAå±æ€§

</Expandable>

### ç»ƒä¹ 3ï¼šåˆ›å»ºæ— é™æ»šåŠ¨åˆ—è¡¨

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- è‡ªåŠ¨åŠ è½½æ›´å¤šæ•°æ®
- æ”¯æŒè‡ªå®šä¹‰åŠ è½½æŒ‡ç¤ºå™¨
- é”™è¯¯å¤„ç†å’Œé‡è¯•
- è™šæ‹ŸåŒ–æ”¯æŒ

**å®ç°è¦æ±‚**ï¼š
```javascript
function useInfiniteScroll(options) {
  const [isFetching, setIsFetching] = useState(false);
  const [hasMore, setHasMore] = useState(true);

  const getListProps = (overrides) => {
    // åˆ—è¡¨å®¹å™¨Props
  };

  const getItemProps = (index, overrides) => {
    // åˆ—è¡¨é¡¹Props
  };

  const getSentinelProps = (overrides) => {
    // å“¨å…µå…ƒç´ Propsï¼ˆç”¨äºè§¦å‘åŠ è½½ï¼‰
  };

  return { getListProps, getItemProps, getSentinelProps, isFetching, hasMore };
}
```

**æç¤º**ï¼š
- Intersection Observer
- æ•°æ®ç®¡ç†
- æ€§èƒ½ä¼˜åŒ–
- é”™è¯¯è¾¹ç•Œ

</Expandable>

### ç»ƒä¹ 4ï¼šåˆ›å»ºæ‹–æ‹½æ’åºç»„ä»¶

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æ”¯æŒåˆ—è¡¨é¡¹æ‹–æ‹½æ’åº
- è§†è§‰åé¦ˆï¼ˆæ‹–æ‹½é¢„è§ˆï¼‰
- åŠ¨ç”»è¿‡æ¸¡
- å¯è§¦æ‘¸è®¾å¤‡æ”¯æŒ

**å®ç°è¦æ±‚**ï¼š
```javascript
function useSortable(items) {
  const [draggedItem, setDraggedItem] = useState(null);
  const [dragOverIndex, setDragOverIndex] = useState(-1);

  const getContainerProps = (overrides) => {
    // å®¹å™¨Props
  };

  const getItemProps = (index, item, overrides) => {
    // å•é¡¹Props
  };

  const getHandleProps = (index, overrides) => {
    // æ‹–æ‹½æ‰‹æŸ„Props
  };

  return { getContainerProps, getItemProps, getHandleProps, items };
}
```

**æç¤º**ï¼š
- æ‹–æ‹½API
- ä½ç½®è®¡ç®—
- CSS Transform
- è§¦æ‘¸äº‹ä»¶

</Expandable>

---

## 8. æœ¬ç« å°ç»“

### å…³é”®è¦ç‚¹

<Checklist>

- âœ… Props Gettersæ˜¯é€šè¿‡å‡½æ•°è¿”å›Propså¯¹è±¡çš„æ¨¡å¼
- âœ… æä¾›äº†çµæ´»ã€å¯ç»„åˆçš„Propsç®¡ç†æ–¹å¼
- âœ… æ”¯æŒPropsçš„åŠ¨æ€ç”Ÿæˆã€åˆå¹¶å’Œè¦†ç›–
- âœ… é€‚åˆæ„å»ºå¯å¤ç”¨ç»„ä»¶åº“
- âœ… éœ€è¦æ­£ç¡®çš„Propsåˆå¹¶ç­–ç•¥
- âœ… ä½¿ç”¨useCallbackä¼˜åŒ–æ€§èƒ½
- âœ… TypeScriptå¢å¼ºç±»å‹å®‰å…¨
- âœ… é¿å…è¿‡åº¦å¤æ‚åŒ–
- âœ… æä¾›æ¸…æ™°çš„æ–‡æ¡£å’Œç¤ºä¾‹
- âœ… æµ‹è¯•å„ç§ä½¿ç”¨åœºæ™¯

</Checklist>

### Props Gettersæœ€ä½³å®è·µ

<BestPractices>

1. **ä¿æŒç®€å•** - Props Gettersåº”è¯¥ç®€å•æ˜“ç”¨
2. **æ­£ç¡®åˆå¹¶** - æ™ºèƒ½åˆå¹¶äº‹ä»¶å¤„ç†å™¨å’Œæ ·å¼
3. **æ€§èƒ½ä¼˜åŒ–** - ä½¿ç”¨useCallbackç¼“å­˜å‡½æ•°
4. **ç±»å‹å®‰å…¨** - TypeScriptæä¾›å®Œæ•´ç±»å‹
5. **æ–‡æ¡£å®Œæ•´** - æ¸…æ™°çš„ä½¿ç”¨ç¤ºä¾‹å’Œè¯´æ˜
6. **æµ‹è¯•è¦†ç›–** - æµ‹è¯•å„ç§Propsç»„åˆ
7. **é»˜è®¤å€¼** - æä¾›æœ‰æ„ä¹‰çš„é»˜è®¤å€¼
8. **å¯æ‰©å±•æ€§** - æ”¯æŒæ¸è¿›å¼å¢å¼º

</BestPractices>

### Props Gettersé€‚ç”¨åœºæ™¯

<BestPractices>

**æ¨èä½¿ç”¨**ï¼š
- å¯å¤ç”¨ç»„ä»¶åº“å¼€å‘
- å¤æ‚è¡¨å•ç»„ä»¶
- æ‹–æ‹½ã€æ’åºç­‰äº¤äº’ç»„ä»¶
- å¯è®¿é—®æ€§å¢å¼ºç»„ä»¶
- ä¸»é¢˜ç³»ç»Ÿå®ç°

**è°¨æ…ä½¿ç”¨**ï¼š
- ç®€å•çš„é™æ€ç»„ä»¶
- æ€§èƒ½æ•æ„Ÿçš„æ·±å±‚ç»„ä»¶
- å›¢é˜Ÿä¸ç†Ÿæ‚‰å‡½æ•°å¼ç¼–ç¨‹
- éœ€è¦é«˜å¯è¯»æ€§çš„ä¸šåŠ¡ä»£ç 

</BestPractices>

### ä¸‹ä¸€æ­¥å­¦ä¹ 

ç°åœ¨ä½ å·²ç»æŒæ¡äº†Props Gettersæ¨¡å¼ï¼Œæ¥ä¸‹æ¥å¯ä»¥å­¦ä¹ ï¼š

1. **[å—æ§ä¸éå—æ§](../advanced/controlled-uncontrolled)** - è¡¨å•ç»„ä»¶æ¨¡å¼
2. **[ç»„åˆ vs ç»§æ‰¿](../advanced/composition-vs-inheritance)** - Reactè®¾è®¡å“²å­¦
3. **[Childrenæ¨¡å¼](../advanced/children-patterns)** - æ·±å…¥React children
4. **[è‡ªå®šä¹‰Hooksè¿›é˜¶](../hooks/advanced/custom-hooks)** - æ·±å…¥è‡ªå®šä¹‰Hooks

---

## 9. å»¶ä¼¸é˜…è¯»

### å®˜æ–¹èµ„æº

- [Reactç»„ä»¶è®¾è®¡](https://react.dev/reference/react) - Reactå®˜æ–¹æ–‡æ¡£
- [ç»„åˆæ¨¡å¼](https://react.dev/learn/thinking-in-react) - ç»„åˆæ€ç»´
- [å¯å¤ç”¨ç»„ä»¶](https://react.dev/reference/react) - ç»„ä»¶å¤ç”¨

### æ¨èé˜…è¯»

- [Props Gettersæ¨¡å¼](https://kentcdodds.com/blog/) - æ·±å…¥ç†è§£
- [Reactç»„ä»¶æ¨¡å¼](https://reactpatterns.com/) - æ¨¡å¼é›†åˆ
- [å‡½æ•°å¼ç»„ä»¶è®¾è®¡](https://www.smashingmagazine.com/) - è®¾è®¡æŒ‡å—

### ç›¸å…³è¯é¢˜

- [Render Props](render-props) - æ¸²æŸ“å±æ€§æ¨¡å¼
- [Childrenæ¨¡å¼](children-patterns) - æ·±å…¥React children
- [è‡ªå®šä¹‰Hooks](../hooks/advanced/custom-hooks) - é€»è¾‘å¤ç”¨
- [ç»„åˆæ¨¡å¼](../basics/compound-components) - å¤åˆç»„ä»¶

---

[â† ä¸Šä¸€ç« ï¼šé”™è¯¯è¾¹ç•Œ](error-boundaries) | [ä¸‹ä¸€ç« ï¼šå—æ§ä¸éå—æ§ â†’](controlled-uncontrolled)
