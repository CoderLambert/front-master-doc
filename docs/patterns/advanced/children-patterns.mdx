# Childrenæ¨¡å¼ - çµæ´»çš„ç»„ä»¶ç»„åˆä¸å†…å®¹ä¼ é€’

import { Tabs, TabItem } from '@docusaurus/theme-common';

Childrenæ¨¡å¼æ˜¯Reactä¸­ä¸€ç§é€šè¿‡props.childrenä¼ é€’ç»„ä»¶å†…å®¹çš„é‡è¦æ¨¡å¼ï¼Œå®ƒå…è®¸ç»„ä»¶æ¥å—ä»»æ„ç±»å‹çš„å­å…ƒç´ ï¼Œå¹¶æä¾›äº†å¼ºå¤§çš„ç»„åˆèƒ½åŠ›ã€‚Childrenæ¨¡å¼å¹¿æ³›ç”¨äºæ„å»ºçµæ´»ã€å¯å¤ç”¨çš„ç»„ä»¶ç³»ç»Ÿï¼Œå¦‚å¸ƒå±€ç»„ä»¶ã€å®¹å™¨ç»„ä»¶ã€å¤åˆç»„ä»¶ç­‰ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨Childrenæ¨¡å¼çš„æ¦‚å¿µã€ä½¿ç”¨æ–¹æ³•ã€é«˜çº§æŠ€å·§å’Œå®é™…åº”ç”¨ã€‚

## æœ¬ç« å­¦ä¹ ç›®æ ‡

- ç†è§£Children propçš„æ ¸å¿ƒæ¦‚å¿µå’Œå·¥ä½œåŸç†
- æŒæ¡React.Children APIçš„ä½¿ç”¨æ–¹æ³•
- å­¦ä¼šä½¿ç”¨children as functionï¼ˆæ¸²æŸ“å‡½æ•°ï¼‰æ¨¡å¼
- ç†è§£childrenç±»å‹å’Œæ£€æŸ¥æ–¹æ³•
- æŒæ¡childrençš„éå†ã€è½¬æ¢å’Œè¿‡æ»¤æŠ€å·§
- å­¦ä¼šæ„å»ºåŸºäºChildrenæ¨¡å¼çš„å¤åˆç»„ä»¶
- ç†è§£Childrenæ¨¡å¼ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»
- æŒæ¡Childrenæ¨¡å¼çš„æœ€ä½³å®è·µå’Œå¸¸è§é™·é˜±

---

## 1. ä»€ä¹ˆæ˜¯Childrenï¼Ÿ

åœ¨Reactä¸­ï¼Œchildrenæ˜¯ç»„ä»¶æ¥æ”¶çš„ç‰¹æ®Špropï¼Œå®ƒå…è®¸ç»„ä»¶æ¥æ”¶å’Œæ¸²æŸ“åµŒå¥—å†…å®¹ã€‚é€šè¿‡children propï¼Œç»„ä»¶å¯ä»¥æ¥å—ä»»ä½•JSXå…ƒç´ ä½œä¸ºå…¶"å­ç»„ä»¶"ï¼Œä»è€Œå®ç°çµæ´»çš„å†…å®¹ç»„åˆå’Œå¤ç”¨ã€‚

<Box style={{ padding: '20px', background: '#e3f2fd', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#1976d2' }}>ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    <strong>children</strong>æ˜¯ç»„ä»¶è‡ªåŠ¨æ¥æ”¶çš„propï¼ŒåŒ…å«ç»„ä»¶<strong>JSXæ ‡ç­¾ä¹‹é—´çš„æ‰€æœ‰å†…å®¹</strong>ã€‚å¯ä»¥æ˜¯æ–‡æœ¬ã€å…ƒç´ ã€ç»„ä»¶æˆ–ä»»æ„ç»„åˆã€‚
  </p>
</Box>

<CodeBlock>

```jsx
// åŸºç¡€childrenä½¿ç”¨
function Welcome(props) {
  return <div>Hello {props.name}!</div>;
}

// childrenä½œä¸ºæ–‡æœ¬
<Welcome name="World">Hello World</Welcome>  // âš ï¸ childrenä¼šè¢«å¿½ç•¥

// æ­£ç¡®ä½¿ç”¨
function Container(props) {
  return <div className="container">{props.children}</div>;
}

// ä½¿ç”¨children
<Container>
  <h1>Title</h1>
  <p>Content</p>
</Container>

// Reactè‡ªåŠ¨ä¼ é€’children
function AutoContainer({ children }) {
  return <div>{children}</div>;
}
```

</CodeBlock>

### 1.1 Childrençš„ç»„æˆ

<Grid>

<div>
  <h4>ç®€å•Children</h4>
  <ul>
    <li>å­—ç¬¦ä¸²ï¼š`<div>Hello</div>`</li>
    <li>æ•°å­—ï¼š`<div>{42}</div>`</li>
    <li>å•ä¸ªå…ƒç´ ï¼š`<div><span>A</span></div>`</li>
    <li>å•ä¸ªç»„ä»¶ï¼š`<div><MyComponent /></div>`</li>
  </ul>
</div>

<div>
  <h4>å¤æ‚Children</h4>
  <ul>
    <li>å¤šä¸ªå…ƒç´ ï¼š`<div><A /><B /><C /></div>`</li>
    <li>æ··åˆå†…å®¹ï¼š`<div>Text<A />Text</div>`</li>
    <li>æ¡ä»¶æ¸²æŸ“ï¼š`<div>{condition ? <A /> : <B />}</div>`</li>
    <li>æ•°ç»„/åˆ—è¡¨ï¼š`<div>{[<A />, <B />, <C />]}</div>`</li>
  </ul>
</div>

</Grid>

<CodeBlock>

```jsx
// å„ç§childrenç±»å‹
// 1. å­—ç¬¦ä¸²
<Card>Hello World</Card>

// 2. å•ä¸ªå…ƒç´ 
<Card><h1>Title</h1></Card>

// 3. å¤šä¸ªå…ƒç´ 
<Card>
  <h1>Title</h1>
  <p>Content</p>
  <button>Action</button>
</Card>

// 4. æ··åˆå†…å®¹
<Card>
  <img src="logo.png" />
  Welcome to our app
</Card>

// 5. æ¡ä»¶å†…å®¹
<Card>
  {user.isLoggedIn ? (
    <Dashboard />
  ) : (
    <LoginForm />
  )}
</Card>

// 6. åˆ—è¡¨
<Card>
  {items.map(item => <Item key={item.id} {...item} />)}
</Card>
```

</CodeBlock>

### 1.2 children propçš„å·¥ä½œæœºåˆ¶

<CodeBlock>

```jsx
// ç»„ä»¶æ¥æ”¶childrençš„ä¸‰ç§æ–¹å¼
// æ–¹å¼1ï¼šä½¿ç”¨props.children
function Container1({ children }) {
  return <div>{children}</div>;
}

// æ–¹å¼2ï¼šä½¿ç”¨è§£æ„
function Container2({ children }) {
  return <div className="container">{children}</div>;
}

// æ–¹å¼3ï¼šå‰©ä½™å‚æ•°ï¼ˆä¸æ¨èï¼Œä½†æœ‰æ•ˆï¼‰
function Container3(props) {
  return <div>{props.children}</div>;
}

// ä½¿ç”¨æ—¶ï¼ŒReactè‡ªåŠ¨ä¼ é€’children
<Container>
  <h1>Title</h1>
</Container>

// ç­‰ä»·äº
<Container children={<h1>Title</h1>} />
```

</CodeBlock>

---

## 2. React.Children API

Reactæä¾›äº†ä¸“é—¨çš„React.Children APIæ¥å®‰å…¨åœ°æ“ä½œchildrenï¼Œå¤„ç†å„ç§è¾¹ç¼˜æƒ…å†µï¼Œé¿å…ç›´æ¥æ“ä½œæ•°ç»„æ—¶å¯èƒ½å‡ºç°çš„é—®é¢˜ã€‚

<CodeBlock>

```jsx
// React.Childrenæä¾›çš„æ–¹æ³•
React.Children.map      // éå†children
React.Children.forEach // éå†childrenï¼ˆæ— è¿”å›å€¼ï¼‰
React.Children.count   // è®¡ç®—childrenæ•°é‡
React.Children.only    // éªŒè¯childrenæ˜¯å•ä¸ªå…ƒç´ 
React.Children.toArray // å°†childrenè½¬æ¢ä¸ºæ•°ç»„

// è¾…åŠ©æ–¹æ³•
React.isValidElement   // éªŒè¯æ˜¯å¦æ˜¯Reactå…ƒç´ 
```

</CodeBlock>

### 2.1 éå†children

<CodeBlock>

```jsx
// ä½¿ç”¨React.Children.mapå®‰å…¨éå†
function List({ children }) {
  return (
    <ul>
      {React.Children.map(children, (child, index) => (
        <li key={index}>{child}</li>
      ))}
    </ul>
  );
}

// ä½¿ç”¨
<List>
  <span>Item 1</span>
  <span>Item 2</span>
  <span>Item 3</span>
</List>

// å¯¹æ¯”ï¼šç›´æ¥æ“ä½œchildrenï¼ˆä¸æ¨èï¼‰
function BadList({ children }) {
  return (
    <ul>
      {children.map((child, index) => (  // âš ï¸ å¦‚æœchildrenæ˜¯å•ä¸ªå…ƒç´ ä¼šå‡ºé”™
        <li key={index}>{child}</li>
      ))}
    </ul>
  );
}

// ä½¿ç”¨React.Children.forEach
function ForEachList({ children }) {
  const items = [];
  React.Children.forEach(children, (child) => {
    items.push(<li>{child}</li>);
  });
  return <ul>{items}</ul>;
}
```

</CodeBlock>

### 2.2 è½¬æ¢å’Œè¿‡æ»¤

<CodeBlock>

```jsx
// è½¬æ¢children
function UppercaseList({ children }) {
  return (
    <ul>
      {React.Children.map(children, (child) => {
        // æ£€æŸ¥æ˜¯å¦æ˜¯æ–‡æœ¬
        if (typeof child === 'string') {
          return child.toUpperCase();
        }
        return child;
      })}
    </ul>
  );
}

// è¿‡æ»¤children
function FilteredList({ children, visible = true }) {
  return (
    <ul>
      {React.Children.map(children, (child) => {
        if (!visible) return null;
        return child;
      })}
    </ul>
  );
}

// é«˜çº§è¿‡æ»¤ï¼šæŒ‰ç±»å‹è¿‡æ»¤
function TypeFilteredList({ children }) {
  return (
    <div>
      {React.Children.toArray(children).filter((child) => {
        return React.isValidElement(child) && child.type === 'li';
      })}
    </div>
  );
}
```

</CodeBlock>

### 2.3 æ›¿æ¢children

<CodeBlock>

```jsx
// æ›¿æ¢ç‰¹å®šchildren
function EnhancedList({ children }) {
  return (
    <ul>
      {React.Children.map(children, (child, index) => {
        // ä¸ºæ¯ä¸ªåˆ—è¡¨é¡¹æ·»åŠ åºå·
        return (
          <React.Fragment key={index}>
            {index + 1}. {child}
          </React.Fragment>
        );
      })}
    </ul>
  );
}

// ä¸ºchildrenæ·»åŠ åŒ…è£…
function WithTooltip({ children }) {
  return (
    <div className="tooltip-container">
      {React.Children.map(children, (child) => (
        <div className="tooltip-wrapper" title="Helpful tooltip">
          {child}
        </div>
      ))}
    </div>
  );
}
```

</CodeBlock>

### 2.4 éªŒè¯children

<CodeBlock>

```jsx
// ä½¿ç”¨React.Children.onlyéªŒè¯å•ä¸ªå­å…ƒç´ 
function SingleChild({ children }) {
  const onlyChild = React.Children.only(children);
  return <div className="single">{onlyChild}</div>;
}

// æ­£ç¡®ä½¿ç”¨
<SingleChild><h1>Title</h1></SingleChild>  // âœ… æœ‰æ•ˆ

// é”™è¯¯ä½¿ç”¨
<SingleChild>
  <h1>Title</h1>
  <p>Content</p>
</SingleChild>  // âŒ æŠ›å‡ºé”™è¯¯

// è®¡æ•°children
function CountChildren({ children }) {
  const count = React.Children.count(children);
  return <div>Number of children: {count}</div>;
}

<CountChildren>
  <A />
  <B />
  <C />
</CountChildren>  // æ˜¾ç¤º: 3

// è½¬æ¢ä¸ºæ•°ç»„
function ToArrayList({ children }) {
  const childrenArray = React.Children.toArray(children);
  return (
    <ul>
      {childrenArray.map((child, index) => (
        <li key={index}>{child}</li>
      ))}
    </ul>
  );
}
```

</CodeBlock>

---

## 3. Children as Function (æ¸²æŸ“å‡½æ•°)

children as functionæ˜¯Childrenæ¨¡å¼çš„é«˜çº§åº”ç”¨ï¼Œå…è®¸å°†childrenä½œä¸ºå‡½æ•°ä¼ é€’ï¼Œä»è€Œå®ç°æ›´çµæ´»çš„å†…å®¹æ¸²æŸ“å’ŒçŠ¶æ€å…±äº«ã€‚

<CodeBlock>

```jsx
// åŸºç¡€æ¸²æŸ“å‡½æ•°æ¨¡å¼
function RenderPropsExample({ children }) {
  const [count, setCount] = useState(0);

  return (
    <div>
      {children({ count, increment: () => setCount(c => c + 1) })}
    </div>
  );
}

// ä½¿ç”¨
<RenderPropsExample>
  {({ count, increment }) => (
    <button onClick={increment}>
      Clicked {count} times
    </button>
  )}
</RenderPropsExample>
```

</CodeBlock>

### 3.1 åŸºç¡€æ¸²æŸ“å‡½æ•°

<CodeBlock>

```jsx
// çŠ¶æ€å…±äº«çš„æ¸²æŸ“å‡½æ•°
function StateProvider({ children }) {
  const [state, setState] = useState({ value: '' });
  const actions = {
    update: (key, value) => setState(prev => ({ ...prev, [key]: value })),
    reset: () => setState({ value: '' })
  };

  return children(state, actions);
}

// ä½¿ç”¨
<StateProvider>
  {(state, actions) => (
    <div>
      <input
        value={state.value}
        onChange={(e) => actions.update('value', e.target.value)}
      />
      <p>Value: {state.value}</p>
      <button onClick={actions.reset}>Reset</button>
    </div>
  )}
</StateProvider>

// ç­‰ä»·äºRender Propsæ¨¡å¼
class StateProviderClass extends React.Component {
  state = { value: '' };

  render() {
    const { children } = this.props;
    const actions = {
      update: (key, value) => this.setState(prev => ({ ...prev, [key]: value })),
      reset: () => this.setState({ value: '' })
    };

    return children(this.state, actions);
  }
}
```

</CodeBlock>

### 3.2 æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–

<CodeBlock>

```jsx
// åŸºäºæ¡ä»¶æ¸²æŸ“çš„children
function ConditionalRender({ condition, children }) {
  if (!condition) return null;

  if (typeof children === 'function') {
    return children();
  }

  return children;
}

// ä½¿ç”¨
<ConditionalRender condition={user.isLoggedIn}>
  {() => <Dashboard user={user} />}
</ConditionalRender>

// å¤æ‚æ¡ä»¶æ¸²æŸ“
function Authenticated({ user, children, fallback }) {
  if (!user) {
    return fallback || <LoginPrompt />;
  }

  if (typeof children === 'function') {
    return children(user);
  }

  return children;
}

// ä½¿ç”¨
<Authenticated
  user={currentUser}
  fallback={<div>Please log in</div>}
>
  {(user) => <Dashboard user={user} />}
</Authenticated>
```

</CodeBlock>

### 3.3 æ•°æ®è½¬æ¢

<CodeBlock>

```jsx
// æ•°æ®å¤„ç†å’Œè½¬æ¢
function DataProcessor({ data, children }) {
  const processedData = useMemo(() => {
    return data.map(item => ({
      ...item,
      processed: true,
      timestamp: Date.now()
    }));
  }, [data]);

  if (typeof children === 'function') {
    return children(processedData);
  }

  return processedData;
}

// ä½¿ç”¨
<DataProcessor data={rawData}>
  {(processedData) => (
    <ul>
      {processedData.map(item => (
        <li key={item.id}>{item.name}</li>
      ))}
    </ul>
  )}
</DataProcessor>

// å¤šé˜¶æ®µæ•°æ®å¤„ç†
function DataPipeline({ children }) {
  const [rawData] = useState([1, 2, 3]);
  const [transformed] = useState(rawData.map(n => n * 2));
  const [filtered] = useState(transformed.filter(n => n > 2));

  return children({
    raw: rawData,
    transformed,
    filtered
  });
}

// ä½¿ç”¨
<DataPipeline>
  ({ raw, transformed, filtered }) => (
    <div>
      <p>Raw: {raw.join(', ')}</p>
      <p>Transformed: {transformed.join(', ')}</p>
      <p>Filtered: {filtered.join(', ')}</p>
    </div>
  )}
</DataPipeline>
```

</CodeBlock>

### 3.4 ä¸Šä¸‹æ–‡æ³¨å…¥

<CodeBlock>

```jsx
// åŠ¨æ€ä¸Šä¸‹æ–‡æ³¨å…¥
function ContextInjector({ children, context }) {
  return children(context);
}

// ä½¿ç”¨ContextInjector
<ContextInjector context={themeContext}>
  {(theme) => (
    <div className={theme.dark ? 'dark' : 'light'}>
      Themed content
    </div>
  )}
</ContextInjector>

// åŠŸèƒ½æ³¨å…¥
function FeatureInjector({ children }) {
  const features = {
    canEdit: true,
    canDelete: false,
    canShare: true
  };

  return children(features);
}

<FeatureInjector>
  {(features) => (
    <div>
      {features.canEdit && <button>Edit</button>}
      {features.canDelete && <button>Delete</button>}
      {features.canShare && <button>Share</button>}
    </div>
  )}
</FeatureInjector>
```

</CodeBlock>

---

## 4. é«˜çº§ChildrenæŠ€å·§

### 4.1 åŠ¨æ€childrenç»„åˆ

<CodeBlock>

```jsx
// åŠ¨æ€æ·»åŠ children
function ExpandableList({ children, maxItems = 3 }) {
  const [expanded, setExpanded] = useState(false);
  const childrenArray = React.Children.toArray(children);

  const displayChildren = expanded
    ? childrenArray
    : childrenArray.slice(0, maxItems);

  return (
    <div>
      <ul>{displayChildren}</ul>
      {childrenArray.length > maxItems && (
        <button onClick={() => setExpanded(!expanded)}>
          {expanded ? 'Show Less' : 'Show More'}
        </button>
      )}
    </div>
  );
}

// ä½¿ç”¨
<ExpandableList maxItems={2}>
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
  <li>Item 4</li>
  <li>Item 5</li>
</ExpandableList>
```

</CodeBlock>

### 4.2 childrené‡æ„å’Œé‡ç»„

<CodeBlock>

```jsx
// é‡æ„childrenç»“æ„
function ReorderedContainer({ children, direction = 'row' }) {
  return (
    <div style={{ display: 'flex', flexDirection: direction }}>
      {React.Children.toArray(children).reverse()}
    </div>
  );
}

// æ¡ä»¶é‡æ–°æ’åº
function SortableContainer({ children, sortBy = 'asc' }) {
  const sortedChildren = React.Children.toArray(children).sort((a, b) => {
    return sortBy === 'asc'
      ? a.key.localeCompare(b.key)
      : b.key.localeCompare(a.key);
  });

  return <div>{sortedChildren}</div>;
}
```

</CodeBlock>

### 4.3 childrenéªŒè¯å’Œç±»å‹æ£€æŸ¥

<CodeBlock>

```jsx
// éªŒè¯childrenç±»å‹
function StrictList({ children }) {
  React.Children.forEach(children, (child) => {
    if (!React.isValidElement(child) || child.type !== 'li') {
      throw new Error('Only <li> elements are allowed as children');
    }
  });

  return <ul>{children}</ul>;
}

// ä½¿ç”¨
<StrictList>
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
</StrictList>  // âœ… æœ‰æ•ˆ

<StrictList>
  <span>Invalid</span>  // âŒ æŠ›å‡ºé”™è¯¯
</StrictList>

// å¯é…ç½®çš„éªŒè¯
function TypedList({ children, allowedTypes = ['li', 'div'] }) {
  React.Children.forEach(children, (child) => {
    if (React.isValidElement(child) && !allowedTypes.includes(child.type)) {
      throw new Error(`Child type ${child.type} is not allowed`);
    }
  });

  return <div>{children}</div>;
}
```

</CodeBlock>

### 4.4 å»¶è¿ŸåŠ è½½children

<CodeBlock>

```jsx
// å»¶è¿Ÿæ¸²æŸ“children
function LazyChildren({ children, delay = 0 }) {
  const [shouldRender, setShouldRender] = useState(delay === 0);

  useEffect(() => {
    if (delay > 0) {
      const timer = setTimeout(() => {
        setShouldRender(true);
      }, delay);

      return () => clearTimeout(timer);
    }
  }, [delay]);

  return shouldRender ? <div>{children}</div> : <div>Loading...</div>;
}

// æ¡ä»¶æ‡’åŠ è½½
function ConditionalLazyLoad({ condition, children }) {
  const [shouldLoad, setShouldLoad] = useState(false);

  useEffect(() => {
    if (condition) {
      setShouldLoad(true);
    }
  }, [condition]);

  return shouldLoad ? children : <div>Loading...</div>;
}

// ä½¿ç”¨
<ConditionalLazyLoad condition={isVisible}>
  <HeavyComponent />
</ConditionalLazyLoad>
```

</CodeBlock>

---

## 5. åŸºäºChildrençš„å¤åˆç»„ä»¶

### 5.1 æ ‡ç­¾é¡µç»„ä»¶

<CodeBlock>

```jsx
// æ ‡ç­¾é¡µä¸Šä¸‹æ–‡
const TabsContext = React.createContext();

function Tabs({ children, defaultTab, onChange }) {
  const [activeTab, setActiveTab] = useState(defaultTab);

  const handleTabChange = (tabId) => {
    setActiveTab(tabId);
    onChange?.(tabId);
  };

  return (
    <TabsContext.Provider value={{ activeTab, onTabChange: handleTabChange }}>
      <div className="tabs">
        {children}
      </div>
    </TabsContext.Provider>
  );
}

function TabList({ children }) {
  const { activeTab } = useContext(TabsContext);

  return (
    <div className="tab-list">
      {React.Children.map(children, (child) => {
        if (React.isValidElement(child)) {
          return React.cloneElement(child, { isActive: child.props.tabId === activeTab });
        }
        return child;
      })}
    </div>
  );
}

function Tab({ tabId, children, isActive }) {
  const { onTabChange } = useContext(TabsContext);

  return (
    <button
      className={`tab ${isActive ? 'active' : ''}`}
      onClick={() => onTabChange(tabId)}
    >
      {children}
    </button>
  );
}

function TabPanels({ children }) {
  return <div className="tab-panels">{children}</div>;
}

function TabPanel({ tabId, children }) {
  const { activeTab } = useContext(TabsContext);

  if (tabId !== activeTab) return null;

  return (
    <div className="tab-panel">
      {children}
    </div>
  );
}

// ä½¿ç”¨
<Tabs defaultTab="tab1">
  <TabList>
    <Tab tabId="tab1">Tab 1</Tab>
    <Tab tabId="tab2">Tab 2</Tab>
    <Tab tabId="tab3">Tab 3</Tab>
  </TabList>

  <TabPanels>
    <TabPanel tabId="tab1">Content 1</TabPanel>
    <TabPanel tabId="tab2">Content 2</TabPanel>
    <TabPanel tabId="tab3">Content 3</TabPanel>
  </TabPanels>
</Tabs>
```

</CodeBlock>

### 5.2 æŠ˜å é¢æ¿ç»„ä»¶

<CodeBlock>

```jsx
// æŠ˜å é¢æ¿ä¸Šä¸‹æ–‡
const AccordionContext = React.createContext();

function Accordion({ children, allowMultiple = false }) {
  const [openPanels, setOpenPanels] = useState({});

  const togglePanel = (panelId) => {
    setOpenPanels(prev => {
      if (allowMultiple) {
        return {
          ...prev,
          [panelId]: !prev[panelId]
        };
      }
      return { [panelId]: !prev[panelId] };
    });
  };

  return (
    <AccordionContext.Provider value={{ openPanels, togglePanel }}>
      <div className="accordion">
        {children}
      </div>
    </AccordionContext.Provider>
  );
}

function AccordionItem({ children, id }) {
  return (
    <AccordionContext.Consumer>
      {({ openPanels, togglePanel }) => {
        const isOpen = openPanels[id] || false;

        return (
          <div className="accordion-item">
            {React.Children.map(children, (child) => {
              if (React.isValidElement(child)) {
                return React.cloneElement(child, { isOpen, togglePanel: () => togglePanel(id) });
              }
              return child;
            })}
          </div>
        );
      }}
    </AccordionContext.Consumer>
  );
}

function AccordionHeader({ children, isOpen, togglePanel }) {
  return (
    <div className="accordion-header" onClick={togglePanel}>
      {children}
      <span>{isOpen ? 'â–²' : 'â–¼'}</span>
    </div>
  );
}

function AccordionPanel({ children, isOpen }) {
  return (
    <div className={`accordion-panel ${isOpen ? 'open' : ''}`}>
      {isOpen && children}
    </div>
  );
}

// ä½¿ç”¨
<Accordion allowMultiple={true}>
  <AccordionItem id="item1">
    <AccordionHeader>Section 1</AccordionHeader>
    <AccordionPanel>Content 1</AccordionPanel>
  </AccordionItem>

  <AccordionItem id="item2">
    <AccordionHeader>Section 2</AccordionHeader>
    <AccordionPanel>Content 2</AccordionPanel>
  </AccordionItem>
</Accordion>
```

</CodeBlock>

### 5.3 èœå•ç»„ä»¶

<CodeBlock>

```jsx
// èœå•ä¸Šä¸‹æ–‡
const MenuContext = React.createContext();

function Menu({ children, onSelect }) {
  const [activeItem, setActiveItem] = useState(null);

  const handleSelect = (itemId) => {
    setActiveItem(itemId);
    onSelect?.(itemId);
  };

  return (
    <MenuContext.Provider value={{ activeItem, onSelect: handleSelect }}>
      <ul className="menu">
        {children}
      </ul>
    </MenuContext.Provider>
  );
}

function MenuItem({ children, id, disabled = false }) {
  const { activeItem, onSelect } = useContext(MenuContext);
  const isActive = activeItem === id;

  return (
    <li
      className={`menu-item ${isActive ? 'active' : ''} ${disabled ? 'disabled' : ''}`}
      onClick={() => !disabled && onSelect(id)}
    >
      {children}
    </li>
  );
}

function MenuDivider() {
  return <li className="menu-divider" />;
}

function MenuLabel({ children }) {
  return <li className="menu-label">{children}</li>;
}

// ä½¿ç”¨
<Menu onSelect={(id) => console.log('Selected:', id)}>
  <MenuLabel>Options</MenuLabel>
  <MenuItem id="new">New File</MenuItem>
  <MenuItem id="open">Open File</MenuItem>
  <MenuDivider />
  <MenuItem id="save" disabled>Save</MenuItem>
  <MenuItem id="export">Export</MenuItem>
</Menu>
```

</CodeBlock>

### 5.4 Wizard/å‘å¯¼ç»„ä»¶

<CodeBlock>

```jsx
// å‘å¯¼ä¸Šä¸‹æ–‡
const WizardContext = React.createContext();

function Wizard({ children, initialStep = 0, onComplete }) {
  const [currentStep, setCurrentStep] = useState(initialStep);
  const steps = React.Children.toArray(children).filter(
    child => React.isValidElement(child) && child.type === WizardStep
  );

  const next = () => {
    if (currentStep < steps.length - 1) {
      setCurrentStep(currentStep + 1);
    } else {
      onComplete?.();
    }
  };

  const prev = () => {
    if (currentStep > 0) {
      setCurrentStep(currentStep - 1);
    }
  };

  const goTo = (step) => {
    if (step >= 0 && step < steps.length) {
      setCurrentStep(step);
    }
  };

  return (
    <WizardContext.Provider value={{
      currentStep,
      totalSteps: steps.length,
      next,
      prev,
      goTo,
      isFirst: currentStep === 0,
      isLast: currentStep === steps.length - 1
    }}>
      <div className="wizard">
        {children}
      </div>
    </WizardContext.Provider>
  );
}

function WizardStep({ children }) {
  return children;
}

function WizardNavigation() {
  const { currentStep, totalSteps, next, prev, isFirst, isLast } = useContext(WizardContext);

  return (
    <div className="wizard-navigation">
      <button onClick={prev} disabled={isFirst}>Previous</button>
      <span>Step {currentStep + 1} of {totalSteps}</span>
      <button onClick={next}>{isLast ? 'Finish' : 'Next'}</button>
    </div>
  );
}

function WizardContent() {
  const { currentStep } = useContext(WizardContext);
  const steps = React.Children.toArray(
    React.Children.only(this.props.children)
  ).filter(
    child => React.isValidElement(child) && child.type === WizardStep
  );

  return steps[currentStep];
}

// ä½¿ç”¨
<Wizard onComplete={() => alert('Wizard completed!')}>
  <WizardStep>
    <div>
      <h2>Step 1: Personal Information</h2>
      <input placeholder="Name" />
    </div>
  </WizardStep>

  <WizardStep>
    <div>
      <h2>Step 2: Account Details</h2>
      <input placeholder="Email" />
    </div>
  </WizardStep>

  <WizardStep>
    <div>
      <h2>Step 3: Confirmation</h2>
      <p>Please review your information</p>
    </div>
  </WizardStep>

  <WizardNavigation />
</Wizard>
```

</CodeBlock>

---

## 6. Childrenæ¨¡å¼æœ€ä½³å®è·µ

### 6.1 åˆç†ä½¿ç”¨React.Children

<CodeBlock>

```jsx
// âœ… æ¨èï¼šä½¿ç”¨React.Childrenå¤„ç†
function SafeList({ children }) {
  return (
    <ul>
      {React.Children.map(children, (child) => (
        <li>{child}</li>
      ))}
    </ul>
  );
}

// âœ… æ¨èï¼šéªŒè¯children
function RequiredChildren({ children }) {
  if (React.Children.count(children) === 0) {
    throw new Error('This component requires at least one child');
  }
  return children;
}

// âŒ é¿å…ï¼šç›´æ¥æ“ä½œchildrenæ•°ç»„
function BadComponent({ children }) {
  return children.map(child => <div>{child}</div>);  // å¯èƒ½å‡ºé”™
}

// âœ… æ¨èï¼šä½¿ç”¨React.Children.onlyç¡®ä¿å•ä¸ªå­å…ƒç´ 
function Modal({ children }) {
  const onlyChild = React.Children.only(children);
  return (
    <div className="modal">
      {onlyChild}
    </div>
  );
}
```

</CodeBlock>

### 6.2 children as functionçš„ä½¿ç”¨åœºæ™¯

<Compare>

```jsx
// âœ… é€‚åˆchildren as functionçš„åœºæ™¯
1. çŠ¶æ€å…±äº«
   <StateProvider>
     {(state, actions) => <Component state={state} actions={actions} />}
   </StateProvider>

2. æ¡ä»¶æ¸²æŸ“
   <ConditionalRender condition={isVisible}>
     {() => <ExpensiveComponent />}
   </ConditionalRender>

3. æ•°æ®å¤„ç†
   <DataProcessor data={rawData}>
     {(processed) => <Display data={processed} />}
   </DataProcessor>

4. ä¸Šä¸‹æ–‡æ³¨å…¥
   <ThemeProvider>
     {(theme) => <App theme={theme} />}
   </ThemeProvider>

// âŒ ä¸é€‚åˆçš„åœºæ™¯
1. ç®€å•çš„å†…å®¹ä¼ é€’
   <Container>
     {(content) => <div>{content}</div>}  // è¿‡åº¦å¤æ‚åŒ–
   </Container>

2. å·²æœ‰è‰¯å¥½çš„API
   <Modal>
     {(isOpen) => <ModalContent isOpen={isOpen} />}  // å·²æœ‰props
   </Modal>
```

</Compare>

### 6.3 æ€§èƒ½ä¼˜åŒ–

<CodeBlock>

```jsx
// ä½¿ç”¨React.memoä¼˜åŒ–å­ç»„ä»¶
const ExpensiveChild = React.memo(function ExpensiveChild({ children }) {
  return <div>{children}</div>;
});

// ç¼“å­˜childrenå¤„ç†
function OptimizedContainer({ children }) {
  const processedChildren = useMemo(() => {
    return React.Children.map(children, (child) => {
      // æ˜‚è´µçš„å¤„ç†é€»è¾‘
      return React.cloneElement(child, { enhanced: true });
    });
  }, [children]);

  return <div>{processedChildren}</div>;
}

// é¿å…åœ¨renderä¸­åˆ›å»ºæ–°å‡½æ•°
function BadExample({ children }) {
  return (
    <div>
      {React.Children.map(children, child => (
        <div onClick={() => console.log('clicked')}>  // âŒ æ¯æ¬¡renderåˆ›å»ºæ–°å‡½æ•°
          {child}
        </div>
      ))}
    </div>
  );
}

// ä½¿ç”¨useCallback
function GoodExample({ children }) {
  const handleClick = useCallback(() => {
    console.log('clicked');
  }, []);

  return (
    <div>
      {React.Children.map(children, child => (
        <div onClick={handleClick}>  // âœ… ç¼“å­˜å‡½æ•°
          {child}
        </div>
      ))}
    </div>
  );
}
```

</CodeBlock>

### 6.4 ç±»å‹å®‰å…¨

<CodeBlock>

```tsx
// TypeScriptç±»å‹å®šä¹‰
type ChildrenProps = {
  children: React.ReactNode;
};

type RenderFunction<T> = (value: T) => React.ReactNode;

type RenderPropsChildren<T> = {
  children: RenderFunction<T>;
};

// ç®€å•children
function SimpleComponent({ children }: ChildrenProps) {
  return <div>{children}</div>;
}

// æ¸²æŸ“å‡½æ•°children
function RenderPropsComponent<T>({ children }: RenderPropsChildren<T>) {
  const value: T = { data: 'test' };
  return <div>{children(value)}</div>;
}

// ä½¿ç”¨
<RenderPropsComponent>
  {(value) => <span>{value.data}</span>}
</RenderPropsComponent>

// å¯é€‰children
function OptionalChildren({ children }: { children?: React.ReactNode }) {
  return <div>{children || 'Default content'}</div>;
}

// å•ä¸ªå­å…ƒç´ 
function SingleChild({ children }: { children: React.ReactElement }) {
  return <div>{children}</div>;
}
```

</CodeBlock>

---

## 7. å¸¸è§é™·é˜±

### é™·é˜±1ï¼šç›´æ¥æ“ä½œchildrenæ•°ç»„

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - å‡è®¾childrenæ˜¯æ•°ç»„
function BadList({ children }) {
  return (
    <ul>
      {children.map(child => <li key={child.key}>{child}</li>)}
    </ul>
  );
}

// å¦‚æœä¼ å…¥å•ä¸ªå­å…ƒç´ ï¼Œchildrenä¸æ˜¯æ•°ç»„ï¼Œä¼šæŠ¥é”™

// âœ… æ­£ç¡® - ä½¿ç”¨React.Children
function GoodList({ children }) {
  return (
    <ul>
      {React.Children.map(children, child => (
        <li>{child}</li>
      ))}
    </ul>
  );
}
```

</ErrorBox>

### é™·é˜±2ï¼šå¿½ç•¥keyå±æ€§

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ä¸¢å¤±key
function BadWrapper({ children }) {
  return (
    <div>
      {React.Children.map(children, child => (
        <div className="wrapper">  // ç¼ºå°‘key
          {child}
        </div>
      ))}
    </div>
  );
}

// âœ… æ­£ç¡® - ä¼ é€’key
function GoodWrapper({ children }) {
  return (
    <div>
      {React.Children.map(children, (child, index) => (
        <div className="wrapper" key={index}>
          {child}
        </div>
      ))}
    </div>
  );
}

// æ›´å®‰å…¨çš„keyå¤„ç†
function SafeWrapper({ children }) {
  return (
    <div>
      {React.Children.map(children, child => {
        const key = child.key || `child-${Math.random()}`;
        return (
          <div className="wrapper" key={key}>
            {child}
          </div>
        );
      })}
    </div>
  );
}
```

</ErrorBox>

### é™·é˜±3ï¼šåµŒå¥—æ¸²æŸ“å‡½æ•°

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - å¤æ‚çš„åµŒå¥—
function OverlyComplex({ children }) {
  return children(value => (
    <div>
      {children(data => (
        <Component data={data} value={value} />
      ))}
    </div>
  ));
}

// âœ… æ­£ç¡® - ç®€åŒ–è®¾è®¡
function SimpleProvider({ children }) {
  const [value] = useState('data');
  return <div>{children(value)}</div>;
}
```

</ErrorBox>

### é™·é˜±4ï¼šä¸å˜æ€§å‡è®¾

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - å‡è®¾childrenä¸å˜
function CacheComponent({ children }) {
  const cachedChildren = children;  // é”™è¯¯ï¼šchildrenå¯èƒ½åœ¨æ¯æ¬¡renderéƒ½ä¸åŒ

  return (
    <div>
      {cachedChildren}
    </div>
  );
}

// âœ… æ­£ç¡® - ä½¿ç”¨useMemoç¼“å­˜
function MemoizedComponent({ children }) {
  const cachedChildren = useMemo(() => children, [children]);

  return <div>{cachedChildren}</div>;
}

// æˆ–è€…ä½¿ç”¨key
function KeyedComponent({ children, cacheKey }) {
  return (
    <div key={cacheKey}>
      {children}
    </div>
  );
}
```

</ErrorBox>

---

## 8. å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šå®ç°ç»„ä»¶åº“å¸ƒå±€ç³»ç»Ÿ

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- å¸ƒå±€å®¹å™¨ï¼šæ”¯æŒGridå’ŒFlexbox
- å¯é…ç½®çš„è¡Œæ•°å’Œåˆ—æ•°
- è‡ªåŠ¨å¡«å……å’Œç©ºç™½å¤„ç†
- å“åº”å¼æ–­ç‚¹

**å®ç°è¦æ±‚**ï¼š
```jsx
<Layout rows={3} cols={3} gap="16px">
  <Layout.Item row={1} col={1}>A</Layout.Item>
  <Layout.Item row={1} col={2} colSpan={2}>B</Layout.Item>
  <Layout.Item row={2} col={1} rowSpan={2}>C</Layout.Item>
  <Layout.Item row={2} col={2}>D</Layout.Item>
  <Layout.Item row={2} col={3}>E</Layout.Item>
  <Layout.Item row={3} col={2} colSpan={2}>F</Layout.Item>
</Layout>
```

**æç¤º**ï¼š
- ä½¿ç”¨React.Childrenè¿›è¡Œchildrenå¤„ç†
- è®¡ç®—ç½‘æ ¼ä½ç½®å’Œè·¨åº¦
- å¤„ç†å“åº”å¼å¸ƒå±€
- æ”¯æŒè‡ªå®šä¹‰æ–­ç‚¹

</Expandable>

### ç»ƒä¹ 2ï¼šå®ç°åŠ¨æ€è¡¨å•æ„å»ºå™¨

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- å­—æ®µç±»å‹ï¼šinput, select, checkbox, textarea
- å­—æ®µéªŒè¯ï¼šå¿…å¡«ã€æ ¼å¼ã€é•¿åº¦
- æ¡ä»¶æ˜¾ç¤ºï¼šæ ¹æ®å…¶ä»–å­—æ®µå€¼æ˜¾ç¤º/éšè—
- åŠ¨æ€æ·»åŠ /åˆ é™¤å­—æ®µ

**å®ç°è¦æ±‚**ï¼š
```jsx
<FormBuilder initialValues={initialData}>
  <FormBuilder.Field
    name="email"
    type="email"
    label="Email"
    required
    validation={{ pattern: /\S+@\S+\.\S+/ }}
  />

  <FormBuilder.Field
    name="age"
    type="number"
    label="Age"
    required
    validation={{ min: 18, max: 100 }}
    showIf={(values) => values.country === 'US'}
  />

  <FormBuilder.Submit>Submit</FormBuilder.Submit>
  <FormBuilder.Reset>Reset</FormBuilder.Reset>
</FormBuilder>
```

**æç¤º**ï¼š
- ä½¿ç”¨children as functionä¼ é€’è¡¨å•API
- å®ç°å­—æ®µéªŒè¯é€»è¾‘
- æ¡ä»¶æ¸²æŸ“å­—æ®µ
- åŠ¨æ€ç®¡ç†å­—æ®µçŠ¶æ€

</Expandable>

### ç»ƒä¹ 3ï¼šå®ç°æƒé™æ§åˆ¶ç»„ä»¶

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- è§’è‰²æƒé™ï¼šadmin, user, guest
- æ¡ä»¶æ¸²æŸ“ï¼šåŸºäºæƒé™æ˜¾ç¤º/éšè—
- é™çº§å†…å®¹ï¼šæƒé™ä¸è¶³æ—¶æ˜¾ç¤ºæ›¿ä»£å†…å®¹
- æƒé™ç»§æ‰¿ï¼šæ”¯æŒè‡ªå®šä¹‰æƒé™æ£€æŸ¥

**å®ç°è¦æ±‚**ï¼š
```jsx
<PermissionProvider user={currentUser}>
  <PermissionGate required="admin">
    <AdminPanel />
  </PermissionGate>

  <PermissionGate required="user" fallback={<GuestMessage />}>
    <UserDashboard />
  </PermissionGate>

  <PermissionGate
    required={['admin', 'moderator']}
    renderUnauthorized={() => <NoAccess />}
  >
    <ModerationTools />
  </PermissionGate>
</PermissionProvider>
```

**æç¤º**ï¼š
- ä½¿ç”¨Contextä¼ é€’ç”¨æˆ·æƒé™
- å®ç°æƒé™æ£€æŸ¥é€»è¾‘
- å¤„ç†å¤šç§æƒé™ç»„åˆ
- æä¾›çµæ´»çš„é™çº§ç­–ç•¥

</Expandable>

### ç»ƒä¹ 4ï¼šå®ç°æ— é™æ»šåŠ¨åˆ—è¡¨

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- è‡ªåŠ¨åŠ è½½æ›´å¤šæ•°æ®
- åŠ è½½çŠ¶æ€æ˜¾ç¤º
- é”™è¯¯å¤„ç†å’Œé‡è¯•
- è™šæ‹ŸåŒ–æ”¯æŒ

**å®ç°è¦æ±‚**ï¼š
```jsx
<InfiniteList
  fetchMore={loadMore}
  hasMore={hasMore}
  loading={isLoading}
  error={error}
  onRetry={retry}
>
  {items.map(item => (
    <ListItem key={item.id} item={item} />
  ))}
</InfiniteList>
```

**æç¤º**ï¼š
- ä½¿ç”¨Intersection Observer
- React.Childrenå¤„ç†åˆ—è¡¨é¡¹
- çŠ¶æ€ç®¡ç†ï¼šåŠ è½½ã€é”™è¯¯ã€å®Œæˆ
- æ€§èƒ½ä¼˜åŒ–ï¼šè™šæ‹Ÿæ»šåŠ¨

</Expandable>

---

## 9. Childrenæ¨¡å¼ä¸å…¶ä»–æ¨¡å¼

### 9.1 Children vs Render Props

<Compare>

```jsx
// Children as Function
<MouseTracker>
  {(position) => (
    <div style={{ position: 'absolute', left: position.x, top: position.y }}>
      Cat
    </div>
  )}
</MouseTracker>

// Render Props
<MouseTracker render={(position) => (
  <div style={{ position: 'absolute', left: position.x, top: position.y }}>
    Cat
  </div>
)} />

// å¯¹æ¯”
// âœ… Childrenæ›´ç®€æ´
// âœ… æ›´å®¹æ˜“åµŒå¥—
// âŒ å‘½åä¸å¤Ÿæ˜ç¡®
// âŒ ä¸ç»„ä»¶å±æ€§å†²çªæ—¶éœ€ä½¿ç”¨this.props.children
```

</Compare>

### 9.2 Children vs HOC

<Compare>

```jsx
// Childrenæ¨¡å¼
<DataProvider data={data}>
  {(processedData) => <Component data={processedData} />}
</DataProvider>

// HOCæ¨¡å¼
const EnhancedComponent = withData(Component);
return <EnhancedComponent data={data} />;

// å¯¹æ¯”
// âœ… Childrenæ›´çµæ´»
// âœ… ç»„ä»¶åµŒå¥—æ›´è‡ªç„¶
// âŒ é‡å¤åµŒå¥—æ—¶ä»£ç å¯è¯»æ€§ä¸‹é™
// âŒ ä¸æ”¯æŒé™æ€åˆ†æ
```

</Compare>

### 9.3 Children vs Context

<Compare>

```jsx
// Childrenæ¨¡å¼ä¼ é€’æ•°æ®
<ThemeProvider>
  {(theme) => <App theme={theme} />}
</ThemeProvider>

// Contextæ¨¡å¼
<App />

// å¯¹æ¯”
// âœ… Childrenæ›´æ˜ç¡®ï¼šæ•°æ®æµå‘æ¸…æ™°
// âœ… é¿å…ä¸Šä¸‹æ–‡æ±¡æŸ“
// âŒ éœ€è¦å±‚å±‚ä¼ é€’
// âŒ æ·±å±‚åµŒå¥—æ—¶ç¹ç
```

</Compare>

### 9.4 ç»„åˆä½¿ç”¨

<CodeBlock>

```jsx
// ç»„åˆChildrenå’ŒContext
function EnhancedProvider({ children }) {
  return (
    <DataContext.Provider value={data}>
      <UIContext.Provider value={uiState}>
        {children}
      </UIContext.Provider>
    </DataContext.Provider>
  );
}

// ç»„åˆChildrenå’ŒHOC
function DataBoundComponent({ children }) {
  const data = useData();
  return children(data);
}

// ç»„åˆChildrenå’ŒRender Props
<ContextProvider>
  {(context) => (
    <RenderPropsComponent
      render={(data) => <FinalComponent context={context} data={data} />}
    />
  )}
</ContextProvider>
```

</CodeBlock>

---

## 10. æœ¬ç« å°ç»“

### å…³é”®è¦ç‚¹

<Checklist>

- âœ… childrenæ˜¯ç»„ä»¶æ¥æ”¶çš„ç‰¹æ®Špropï¼ŒåŒ…å«JSXæ ‡ç­¾é—´çš„æ‰€æœ‰å†…å®¹
- âœ… React.Children APIæä¾›å®‰å…¨çš„childrenæ“ä½œæ–¹æ³•
- âœ… children as functionæ¨¡å¼å®ç°çµæ´»çš„å†…å®¹æ¸²æŸ“
- âœ… React.Children.map/forEachç”¨äºå®‰å…¨éå†
- âœ… React.Children.onlyéªŒè¯å•ä¸ªå­å…ƒç´ 
- âœ… å¤åˆç»„ä»¶å¤§é‡ä½¿ç”¨Childrenæ¨¡å¼
- âœ… childrenå¯ä»¥ä¼ é€’ä»»ä½•ç±»å‹çš„å†…å®¹
- âœ… ä½¿ç”¨React.Childrené¿å…ç›´æ¥æ“ä½œchildrenæ•°ç»„
- âœ… åˆç†ä½¿ç”¨childrenæå‡ç»„ä»¶å¤ç”¨æ€§
- âœ… æ³¨æ„childrençš„keyå±æ€§å’Œæ€§èƒ½ä¼˜åŒ–

</Checklist>

### æœ€ä½³å®è·µ

<BestPractices>

1. **å®‰å…¨æ“ä½œ** - å§‹ç»ˆä½¿ç”¨React.Childrenå¤„ç†children
2. **åˆç†ä½¿ç”¨** - ç®€å•å†…å®¹ç”¨propsï¼Œå¤æ‚é€»è¾‘ç”¨children as function
3. **æ€§èƒ½ä¼˜åŒ–** - ç¼“å­˜å¤„ç†åçš„childrenï¼Œé¿å…é‡å¤è®¡ç®—
4. **ç±»å‹å®‰å…¨** - TypeScriptæ˜ç¡®å®šä¹‰childrenç±»å‹
5. **keyå¤„ç†** - éå†childrenæ—¶å§‹ç»ˆä¼ é€’key
6. **éªŒè¯è¾“å…¥** - éªŒè¯childrenç±»å‹å’Œç»“æ„
7. **æ–‡æ¡£å®Œæ•´** - è®°å½•childrençš„æœŸæœ›ç±»å‹å’Œä½¿ç”¨æ–¹å¼
8. **æµ‹è¯•è¦†ç›–** - æµ‹è¯•å„ç§childrenåœºæ™¯

</BestPractices>

### é€‚ç”¨åœºæ™¯

<BestPractices>

**æ¨èä½¿ç”¨**ï¼š
- å¤åˆç»„ä»¶ï¼ˆTabsã€Accordionã€Modalï¼‰
- æ¸²æŸ“å‡½æ•°æ¨¡å¼
- æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–
- åŠ¨æ€å†…å®¹ç»„åˆ
- å¸ƒå±€ç»„ä»¶

**è°¨æ…ä½¿ç”¨**ï¼š
- ç®€å•çš„å†…å®¹ä¼ é€’
- æ·±å±‚åµŒå¥—
- ä¸ç°æœ‰APIå†²çª
- æ€§èƒ½æ•æ„Ÿåœºæ™¯

</BestPractices>

### ä¸‹ä¸€æ­¥å­¦ä¹ 

ç°åœ¨ä½ å·²ç»æŒæ¡äº†Childrenæ¨¡å¼ï¼Œæ¥ä¸‹æ¥å¯ä»¥å­¦ä¹ ï¼š

1. **[Props Gettersæ¨¡å¼](props-getters)** - çµæ´»çš„Propsä¼ é€’æ¨¡å¼
2. **[å—æ§ä¸éå—æ§](../advanced/controlled-uncontrolled)** - è¡¨å•ç»„ä»¶æ¨¡å¼
3. **[ç»„åˆ vs ç»§æ‰¿](../advanced/composition-vs-inheritance)** - Reactè®¾è®¡å“²å­¦
4. **[ç»„ä»¶ç»„åˆæ¨¡å¼](../basics/compound-components)** - æ·±å…¥å¤åˆç»„ä»¶

---

## 11. å»¶ä¼¸é˜…è¯»

### å®˜æ–¹èµ„æº

- [React Children](https://react.dev/reference/react) - Reactå®˜æ–¹æ–‡æ¡£
- [Composition vs Inheritance](https://react.dev/learn/thinking-in-react) - ç»„åˆæ¨¡å¼
- [Children in JSX](https://react.dev/learn/writing-markup-with-jsx#children-in-jsx) - JSXä¸­çš„Children

### æ¨èé˜…è¯»

- [React Childrençš„é™·é˜±ä¸æŠ€å·§](https://kentcdodds.com/blog/) - é«˜çº§ä½¿ç”¨æŠ€å·§
- [Render Propsæ¨¡å¼](https://reactpatterns.com/) - æ¸²æŸ“å±æ€§æ¨¡å¼
- [å¤åˆç»„ä»¶è®¾è®¡](https://www.smashingmagazine.com/) - ç»„ä»¶è®¾è®¡æŒ‡å—

### ç›¸å…³è¯é¢˜

- [React.Children API](https://react.dev/reference/react) - Children APIè¯¦è§£
- [ç»„ä»¶ç»„åˆ](https://react.dev/learn/thinking-in-react) - ç»„åˆæ€ç»´
- [Render Props](render-props) - æ¸²æŸ“å±æ€§æ¨¡å¼

---

[â† ä¸Šä¸€ç« ï¼šé”™è¯¯è¾¹ç•Œ](error-boundaries) | [ä¸‹ä¸€ç« ï¼šProps Gettersæ¨¡å¼ â†’](props-getters)
