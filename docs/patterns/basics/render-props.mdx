# æ¸²æŸ“å±æ€§æ¨¡å¼ (Render Props) - çµæ´»é€»è¾‘å¤ç”¨

import { Tabs, TabItem } from '@docusaurus/theme-common';

æ¸²æŸ“å±æ€§ï¼ˆRender Propsï¼‰æ˜¯Reactä¸­ä¸€ç§å¼ºå¤§çš„æ¨¡å¼ï¼Œå®ƒé€šè¿‡å°†å‡½æ•°ä½œä¸ºpropä¼ é€’ç»™ç»„ä»¶æ¥å®ç°é€»è¾‘å¤ç”¨ã€‚è™½ç„¶Hookså·²ç»æˆä¸ºäº†é€»è¾‘å¤ç”¨çš„é¦–é€‰æ–¹å¼ï¼Œä½†ç†è§£Render Propså¯¹äºæ·±å…¥ç†è§£Reactç»„ä»¶æ¨¡å¼ä»ç„¶éå¸¸é‡è¦ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨Render Propsçš„æ¦‚å¿µã€å®ç°æ–¹å¼ã€ä¼˜åŠ¿å’Œä½¿ç”¨åœºæ™¯ã€‚

## æœ¬ç« å­¦ä¹ ç›®æ ‡

- ç†è§£æ¸²æŸ“å±æ€§æ¨¡å¼çš„æ¦‚å¿µå’ŒåŸç†
- æŒæ¡Render Propsçš„è¯­æ³•å’Œå®ç°
- å­¦ä¼šä½¿ç”¨Render Propså®ç°é€»è¾‘å¤ç”¨
- å¯¹æ¯”Render Propsä¸HOCçš„ä¼˜ç¼ºç‚¹
- ç†è§£Render Propsä¸Hooksçš„å…³ç³»
- æŒæ¡Render Propsçš„å¸¸è§ä½¿ç”¨åœºæ™¯
- å­¦ä¼šé¿å…Render Propsçš„å¸¸è§é™·é˜±
- ç†è§£childrenä½œä¸ºå‡½æ•°çš„æ¨¡å¼

---

## 1. ä»€ä¹ˆæ˜¯æ¸²æŸ“å±æ€§ï¼Ÿ

æ¸²æŸ“å±æ€§ï¼ˆRender Propsï¼‰æ˜¯ä¸€ç§æ¨¡å¼ï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propæ¥è®©ç»„ä»¶å†³å®šæ¸²æŸ“ä»€ä¹ˆã€‚å½“ç»„ä»¶éœ€è¦å¤ç”¨é€»è¾‘ä½†éœ€è¦ä¸åŒçš„UIæ—¶ï¼ŒRender Propså…è®¸æˆ‘ä»¬ä»¥å‡½æ•°çš„å½¢å¼ä¼ é€’æ¸²æŸ“é€»è¾‘ã€‚

<Box style={{ padding: '20px', background: '#e3f2fd', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#1976d2' }}>ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    <strong>Render Props</strong>æ˜¯ä¸€ä¸ªpropï¼Œå…¶å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‘Šè¯‰ç»„ä»¶<strong>å¦‚ä½•æ¸²æŸ“</strong>ã€‚ç»„ä»¶å°†æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°ã€‚
  </p>
</Box>

<LiveCode
  code={`
function BasicRenderPropsDemo() {
  // å®ç°ä¸€ä¸ªç®€å•çš„DataProviderç»„ä»¶
  const DataProvider = ({ children, render }) => {
    const [data, setData] = React.useState({
      user: { name: 'Alice', age: 25, role: 'Admin' },
      loading: false
    });

    return children ? children(data) : render && render(data);
  };

  // ä½¿ç”¨æ–¹å¼1: childrenå‡½æ•°
  const Example1 = () => {
    return (
      <div style={{
        padding: '15px',
        background: '#e8f5e9',
        border: '2px solid #4caf50',
        borderRadius: '8px',
        marginBottom: '15px'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>æ–¹å¼1: childrenå‡½æ•°</h4>
        <DataProvider>
          {({ user, loading }) => (
            loading ? (
              <div style={{ padding: '20px', textAlign: 'center' }}>åŠ è½½ä¸­...</div>
            ) : (
              <div style={{
                padding: '15px',
                background: 'white',
                borderRadius: '6px',
                border: '1px solid #4caf50'
              }}>
                <h4 style={{ margin: '0 0 5px 0' }}>å§“å: {user.name}</h4>
                <p style={{ margin: '5px 0', color: '#666' }}>å¹´é¾„: {user.age}</p>
                <p style={{ margin: '5px 0', color: '#666' }}>è§’è‰²: {user.role}</p>
              </div>
            )
          )}
        </DataProvider>
      </div>
    );
  };

  // ä½¿ç”¨æ–¹å¼2: renderå±æ€§
  const Example2 = () => {
    return (
      <div style={{
        padding: '15px',
        background: '#e3f2fd',
        border: '2px solid #2196f3',
        borderRadius: '8px'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>æ–¹å¼2: renderå±æ€§</h4>
        <DataProvider
          render={({ user, loading }) => (
            loading ? (
              <div style={{ padding: '20px', textAlign: 'center' }}>åŠ è½½ä¸­...</div>
            ) : (
              <div style={{
                padding: '15px',
                background: 'white',
                borderRadius: '6px',
                border: '1px solid #2196f3'
              }}>
                <h4 style={{ margin: '0 0 5px 0' }}>å§“å: {user.name}</h4>
                <p style={{ margin: '5px 0', color: '#666' }}>å¹´é¾„: {user.age}</p>
                <p style={{ margin: '5px 0', color: '#666' }}>è§’è‰²: {user.role}</p>
              </div>
            )
          )}
        />
      </div>
    );
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ¯ åŸºç¡€Render Propsæ¨¡å¼</h3>

      <div style={{
        padding: '15px',
        background: '#fff3e0',
        borderRadius: '8px',
        border: '2px solid #ff9800',
        marginBottom: '20px'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>ğŸ’¡ å·¥ä½œåŸç†</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.6', fontSize: '14px' }}>
          <li><strong>DataProvider</strong> - è´Ÿè´£æ•°æ®å¤„ç†å’ŒçŠ¶æ€ç®¡ç†</li>
          <li><strong>children/render</strong> - æ¥æ”¶æ•°æ®çš„å‡½æ•°ï¼Œæ±ºå®šå¦‚ä½•æ¸²æŸ“</li>
          <li><strong>èŒè´£åˆ†ç¦»</strong> - é€»è¾‘ä¸UIå®Œå…¨åˆ†ç¦»</li>
          <li><strong>é«˜åº¦çµæ´»</strong> - ç›¸åŒçš„é€»è¾‘ï¼Œä¸åŒçš„æ¸²æŸ“æ–¹å¼</li>
        </ul>
      </div>

      <Example1 />
      <Example2 />

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px',
        fontSize: '13px'
      }}>
        <strong>å…³é”®åŒºåˆ«ï¼š</strong>
        <ul style={{ margin: '5px 0 0 20px' }}>
          <li><code>children</code>: é€šè¿‡children propä¼ é€’å‡½æ•°ï¼ˆReactæ¨èï¼‰</li>
          <li><code>render</code>: é€šè¿‡render propä¼ é€’å‡½æ•°ï¼ˆæ›´æ˜¾å¼ï¼‰</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 1.1 æ ¸å¿ƒæ€æƒ³

<LiveCode
  code={`
function CoreConceptDemo() {
  // ç±»ç»„ä»¶ç‰ˆæœ¬ - å±•ç¤ºä¼ ç»ŸRender Props
  class DataProviderClass extends React.Component {
    state = {
      data: { title: 'Reactå­¦ä¹ æŒ‡å—', author: 'å¼ ä¸‰', views: 1234 },
      loading: false
    };

    render() {
      // å°†çŠ¶æ€ä¼ é€’ç»™render prop
      return this.props.render(this.state);
    }
  }

  // å‡½æ•°ç»„ä»¶ç‰ˆæœ¬ - å±•ç¤ºç°ä»£Render Props
  const DataProviderFunction = ({ children, render }) => {
    const [data, setData] = React.useState({
      title: 'Reactå­¦ä¹ æŒ‡å—',
      author: 'æå››',
      views: 5678
    });
    const [loading, setLoading] = React.useState(false);

    return children ? children({ data, loading }) : render({ data, loading });
  };

  // ç¤ºä¾‹1: ä½¿ç”¨ç±»ç»„ä»¶ç‰ˆæœ¬
  const Example1 = () => {
    return (
      <div style={{
        padding: '15px',
        background: '#fff3e0',
        border: '2px solid #ff9800',
        borderRadius: '8px',
        marginBottom: '15px'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>
          ç¤ºä¾‹1: ç±»ç»„ä»¶Render Props
        </h4>
        <DataProviderClass
          render={({ data, loading }) => {
            if (loading) {
              return (
                <div style={{
                  padding: '20px',
                  textAlign: 'center',
                  background: '#fff',
                  borderRadius: '6px'
                }}>
                  â³ åŠ è½½ä¸­...
                </div>
              );
            }
            return (
              <div style={{
                padding: '15px',
                background: '#fff',
                borderRadius: '6px',
                border: '1px solid #ff9800'
              }}>
                <h4 style={{ margin: '0 0 5px 0', color: '#e65100' }}>
                  {data.title}
                </h4>
                <p style={{ margin: '5px 0', color: '#666', fontSize: '14px' }}>
                  ä½œè€…: {data.author}
                </p>
                <p style={{ margin: '5px 0', color: '#666', fontSize: '14px' }}>
                  æµè§ˆ: {data.views.toLocaleString()}
                </p>
              </div>
            );
          }}
        />
      </div>
    );
  };

  // ç¤ºä¾‹2: ä½¿ç”¨å‡½æ•°ç»„ä»¶ç‰ˆæœ¬
  const Example2 = () => {
    return (
      <div style={{
        padding: '15px',
        background: '#e8f5e9',
        border: '2px solid #4caf50',
        borderRadius: '8px'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>
          ç¤ºä¾‹2: å‡½æ•°ç»„ä»¶Render Props (æ¨è)
        </h4>
        <DataProviderFunction
          render={({ data, loading }) => {
            if (loading) {
              return (
                <div style={{
                  padding: '20px',
                  textAlign: 'center',
                  background: '#fff',
                  borderRadius: '6px'
                }}>
                  â³ åŠ è½½ä¸­...
                </div>
              );
            }
            return (
              <div style={{
                padding: '15px',
                background: '#fff',
                borderRadius: '6px',
                border: '1px solid #4caf50'
              }}>
                <h4 style={{ margin: '0 0 5px 0', color: '#2e7d32' }}>
                  {data.title}
                </h4>
                <p style={{ margin: '5px 0', color: '#666', fontSize: '14px' }}>
                  ä½œè€…: {data.author}
                </p>
                <p style={{ margin: '5px 0', color: '#666', fontSize: '14px' }}>
                  æµè§ˆ: {data.views.toLocaleString()}
                </p>
              </div>
            );
          }}
        />
      </div>
    );
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ’¡ æ ¸å¿ƒæ€æƒ³: é€»è¾‘ä¸æ¸²æŸ“åˆ†ç¦»</h3>

      <div style={{
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3',
        marginBottom: '20px'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>å·¥ä½œæµç¨‹</h4>
        <ol style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>DataProvider</strong> - è´Ÿè´£è·å–æ•°æ®ã€ç®¡ç†çŠ¶æ€</li>
          <li><strong>render prop</strong> - æ¥æ”¶æ•°æ®çš„å‡½æ•°ï¼Œæ±ºå®šUIæ¸²æŸ“</li>
          <li><strong>èŒè´£åˆ†ç¦»</strong> - é€»è¾‘ä¸UIå®Œå…¨è§£è€¦</li>
          <li><strong>é«˜åº¦å¤ç”¨</strong> - ç›¸åŒçš„é€»è¾‘ï¼Œä¸åŒçš„æ¸²æŸ“</li>
        </ol>
      </div>

      <Example1 />
      <Example2 />

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px',
        fontSize: '13px'
      }}>
        <strong>ğŸ’¡ æç¤ºï¼š</strong>å‡½æ•°ç»„ä»¶ç‰ˆæœ¬æ›´ç®€æ´ï¼Œæ¨èåœ¨ç°ä»£Reacté¡¹ç›®ä¸­ä½¿ç”¨
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 1.2 ä¸HOCå¯¹æ¯”

<Compare>

```jsx
// HOCæ–¹å¼
const EnhancedComponent = withData(WrappedComponent);

// Render Propsæ–¹å¼
<DataProvider
  render={(data) => <WrappedComponent data={data} />}
/>

// å·®å¼‚
1. HOC: åŒ…è£…ç»„ä»¶ï¼Œè¿”å›æ–°ç»„ä»¶
2. Render Props: ä¼ é€’æ¸²æŸ“å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨
3. HOC: ç»„ä»¶å±‚çº§å¢åŠ 
4. Render Props: æ— é¢å¤–å±‚çº§
```

</Compare>

---

## 2. Render PropsåŸºç¡€å®ç°

### 2.1 ç®€å•çš„Data Provider

<LiveCode
  code={`
function DataProviderDemo() {
  // æ¨¡æ‹ŸDataProviderç»„ä»¶
  const [state, setState] = React.useState({
    data: null,
    loading: false,
    error: null
  });

  const { data, loading, error } = state;

  const fetchData = () => {
    setState({ data: null, loading: true, error: null });

    // æ¨¡æ‹ŸAPIè°ƒç”¨
    setTimeout(() => {
      const success = Math.random() > 0.3;
      if (success) {
        setState({
          data: { id: 1, name: 'ç”¨æˆ·æ•°æ®', timestamp: new Date().toLocaleTimeString() },
          loading: false,
          error: null
        });
      } else {
        setState({
          data: null,
          loading: false,
          error: { message: 'è·å–æ•°æ®å¤±è´¥' }
        });
      }
    }, 1000);
  };

  // æ¨¡æ‹Ÿä½¿ç”¨DataProviderçš„æ¸²æŸ“å‡½æ•°
  const renderContent = ({ data, loading, error }) => {
    if (loading) {
      return (
        <div style={{
          padding: '20px',
          background: '#e3f2fd',
          borderRadius: '8px',
          textAlign: 'center',
          border: '2px solid #2196f3'
        }}>
          <div style={{ fontSize: '24px', marginBottom: '10px' }}>â³</div>
          <p style={{ margin: 0, color: '#1976d2' }}>æ­£åœ¨åŠ è½½æ•°æ®...</p>
        </div>
      );
    }

    if (error) {
      return (
        <div style={{
          padding: '20px',
          background: '#ffebee',
          borderRadius: '8px',
          textAlign: 'center',
          border: '2px solid #f44336'
        }}>
          <div style={{ fontSize: '24px', marginBottom: '10px' }}>âŒ</div>
          <p style={{ margin: 0, color: '#c62828' }}>é”™è¯¯: {error.message}</p>
        </div>
      );
    }

    if (data) {
      return (
        <div style={{
          padding: '20px',
          background: '#e8f5e9',
          borderRadius: '8px',
          border: '2px solid #4caf50'
        }}>
          <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>âœ… æ•°æ®åŠ è½½æˆåŠŸ</h4>
          <p style={{ margin: '5px 0' }}><strong>ID:</strong> {data.id}</p>
          <p style={{ margin: '5px 0' }}><strong>åç§°:</strong> {data.name}</p>
          <p style={{ margin: '5px 0' }}><strong>æ—¶é—´:</strong> {data.timestamp}</p>
        </div>
      );
    }

    return (
      <div style={{
        padding: '20px',
        background: '#f5f5f5',
        borderRadius: '8px',
        textAlign: 'center',
        border: '2px solid #ddd'
      }}>
        <p style={{ margin: 0, color: '#999' }}>ç‚¹å‡»æŒ‰é’®è·å–æ•°æ®</p>
      </div>
    );
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ“¡ ç®€å•Data Providerç¤ºä¾‹</h3>

      <div style={{ marginBottom: '20px' }}>
        <button
          onClick={fetchData}
          disabled={loading}
          style={{
            padding: '10px 20px',
            background: loading ? '#ccc' : '#2196f3',
            color: 'white',
            border: 'none',
            borderRadius: '6px',
            cursor: loading ? 'not-allowed' : 'pointer',
            fontSize: '16px',
            fontWeight: 'bold',
            transition: 'all 0.3s'
          }}
        >
          {loading ? 'åŠ è½½ä¸­...' : 'ğŸš€ è·å–æ•°æ®'}
        </button>
      </div>

      {renderContent({ data, loading, error })}

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å·¥ä½œåŸç†</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.6', fontSize: '14px' }}>
          <li>DataProviderç®¡ç†æ•°æ®çŠ¶æ€ï¼ˆdata, loading, errorï¼‰</li>
          <li>é€šè¿‡render propä¼ é€’çŠ¶æ€ç»™æ¸²æŸ“å‡½æ•°</li>
          <li>æ¸²æŸ“å‡½æ•°å†³å®šå¦‚ä½•æ˜¾ç¤ºè¿™äº›çŠ¶æ€</li>
          <li>å®ç°äº†é€»è¾‘å¤ç”¨å’Œè§†å›¾åˆ†ç¦»</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 2.2 å‡½æ•°ç»„ä»¶å®ç°

<LiveCode
  code={`
function FunctionDataProviderDemo() {
  // æ¨¡æ‹Ÿæ•°æ®è·å–å‡½æ•°
  const fetchUser = () => {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve({ name: 'Alice', email: 'alice@example.com', role: 'Developer' });
      }, 1000);
    });
  };

  // å®ç°DataProviderï¼ˆå‡½æ•°ç»„ä»¶ç‰ˆæœ¬ï¼‰
  const DataProvider = ({ render, fetcher }) => {
    const [data, setData] = React.useState(null);
    const [loading, setLoading] = React.useState(false);
    const [error, setError] = React.useState(null);

    React.useEffect(() => {
      setLoading(true);
      setError(null);

      fetcher()
        .then((result) => {
          setData(result);
          setLoading(false);
        })
        .catch((err) => {
          setError(err);
          setLoading(false);
        });
    }, [fetcher]);

    // ä¼ é€’æ•°æ®ç»™renderå‡½æ•°
    return render({ data, loading, error });
  };

  // æ¨¡æ‹Ÿç”¨æˆ·ç•Œé¢
  const UserProfile = ({ data, loading, error }) => {
    if (loading) {
      return (
        <div style={{
          padding: '20px',
          background: '#fff3e0',
          borderRadius: '8px',
          textAlign: 'center',
          border: '2px solid #ff9800'
        }}>
          <div style={{ fontSize: '24px', marginBottom: '10px' }}>â³</div>
          <p style={{ margin: 0, color: '#e65100' }}>æ­£åœ¨åŠ è½½ç”¨æˆ·ä¿¡æ¯...</p>
        </div>
      );
    }

    if (error) {
      return (
        <div style={{
          padding: '20px',
          background: '#ffebee',
          borderRadius: '8px',
          textAlign: 'center',
          border: '2px solid #f44336'
        }}>
          <div style={{ fontSize: '24px', marginBottom: '10px' }}>âŒ</div>
          <p style={{ margin: 0, color: '#c62828' }}>åŠ è½½å¤±è´¥: {error.message}</p>
        </div>
      );
    }

    if (data) {
      return (
        <div style={{
          padding: '20px',
          background: '#e8f5e9',
          borderRadius: '8px',
          border: '2px solid #4caf50'
        }}>
          <h4 style={{ margin: '0 0 15px 0', color: '#2e7d32' }}>âœ… æˆåŠŸåŠ è½½</h4>
          <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>
            <div style={{
              width: '50px',
              height: '50px',
              borderRadius: '50%',
              background: '#4caf50',
              color: 'white',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              fontSize: '24px',
              marginRight: '15px'
            }}>
              {data.name.charAt(0)}
            </div>
            <div>
              <h3 style={{ margin: '0 0 5px 0', color: '#2e7d32' }}>{data.name}</h3>
              <p style={{ margin: 0, color: '#666' }}>{data.email}</p>
            </div>
          </div>
          <div style={{
            marginTop: '10px',
            padding: '8px',
            background: 'white',
            borderRadius: '4px',
            display: 'inline-block'
          }}>
            <span style={{ color: '#666', fontSize: '14px' }}>è§’è‰²: </span>
            <span style={{ color: '#4caf50', fontWeight: 'bold' }}>{data.role}</span>
          </div>
        </div>
      );
    }

    return (
      <div style={{
        padding: '20px',
        background: '#f5f5f5',
        borderRadius: '8px',
        textAlign: 'center',
        border: '2px solid #ddd'
      }}>
        <p style={{ margin: 0, color: '#999' }}>ç‚¹å‡»æŒ‰é’®åŠ è½½æ•°æ®</p>
      </div>
    );
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ”„ å‡½æ•°ç»„ä»¶DataProvideræ¼”ç¤º</h3>

      <DataProvider
        fetcher={fetchUser}
        render={({ data, loading, error }) => {
          return <UserProfile data={data} loading={loading} error={error} />;
        }}
      />

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å‡½æ•°å¼å®ç°ç‰¹ç‚¹</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.6', fontSize: '14px' }}>
          <li>ä½¿ç”¨<strong>useState</strong>ç®¡ç†çŠ¶æ€</li>
          <li>ä½¿ç”¨<strong>useEffect</strong>å¤„ç†å‰¯ä½œç”¨</li>
          <li>å°†çŠ¶æ€é€šè¿‡render propä¼ é€’ç»™æ¸²æŸ“å‡½æ•°</li>
          <li>å‡½æ•°ç»„ä»¶æ›´ç®€æ´ï¼Œæ˜“äºæµ‹è¯•</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 2.3 ä½¿ç”¨childrenä½œä¸ºå‡½æ•°

<LiveCode
  code={`
function ChildrenAsFunctionDemo() {
  // æ¨¡æ‹Ÿæ•°æ®è·å–
  const fetchUserData = () => {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve({
          id: 1,
          name: 'Alice Johnson',
          email: 'alice@example.com',
          role: 'Administrator',
          joinDate: '2022-03-15',
          avatar: 'ğŸ‘©â€ğŸ’»'
        });
      }, 1200);
    });
  };

  // ä½¿ç”¨childrenä½œä¸ºå‡½æ•°çš„DataProvider
  const DataProvider = ({ fetcher, children }) => {
    const [data, setData] = React.useState(null);
    const [loading, setLoading] = React.useState(false);
    const [error, setError] = React.useState(null);

    React.useEffect(() => {
      setLoading(true);
      fetcher()
        .then((result) => {
          setData(result);
          setLoading(false);
        })
        .catch((err) => {
          setError(err);
          setLoading(false);
        });
    }, [fetcher]);

    // childrenæ˜¯ä¸€ä¸ªå‡½æ•°
    return children({ data, loading, error });
  };

  // å®šä¹‰ä¸€ä¸ªå¤æ‚çš„ç”¨æˆ·å±•ç¤ºç»„ä»¶ä½œä¸ºchildren
  const userProfile = ({ data, loading, error }) => {
    if (loading) {
      return (
        <div style={{
          padding: '30px',
          background: '#fff3e0',
          borderRadius: '8px',
          border: '2px solid #ff9800',
          textAlign: 'center'
        }}>
          <div style={{ fontSize: '32px', marginBottom: '15px' }}>â³</div>
          <h3 style={{ margin: '0 0 10px 0', color: '#e65100' }}>
            æ­£åœ¨åŠ è½½ç”¨æˆ·ä¿¡æ¯...
          </h3>
          <p style={{ margin: 0, color: '#666' }}>
            æ­£åœ¨ä»æœåŠ¡å™¨è·å–æœ€æ–°æ•°æ®
          </p>
        </div>
      );
    }

    if (error) {
      return (
        <div style={{
          padding: '30px',
          background: '#ffebee',
          borderRadius: '8px',
          border: '2px solid #f44336',
          textAlign: 'center'
        }}>
          <div style={{ fontSize: '32px', marginBottom: '15px' }}>âŒ</div>
          <h3 style={{ margin: '0 0 10px 0', color: '#c62828' }}>
            åŠ è½½å¤±è´¥
          </h3>
          <p style={{ margin: '5px 0', color: '#666' }}>
            é”™è¯¯ç±»å‹: {error.name}
          </p>
          <p style={{ margin: '5px 0 15px 0', color: '#666' }}>
            {error.message}
          </p>
          <button
            onClick={() => window.location.reload()}
            style={{
              padding: '8px 16px',
              background: '#f44336',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer',
              fontSize: '14px'
            }}
          >
            ğŸ”„ é‡è¯•
          </button>
        </div>
      );
    }

    if (data) {
      return (
        <div style={{
          padding: '30px',
          background: '#e8f5e9',
          borderRadius: '8px',
          border: '2px solid #4caf50',
          maxWidth: '500px',
          margin: '0 auto'
        }}>
          <div style={{
            display: 'flex',
            alignItems: 'center',
            marginBottom: '20px',
            paddingBottom: '20px',
            borderBottom: '2px solid #4caf50'
          }}>
            <div style={{
              width: '80px',
              height: '80px',
              borderRadius: '50%',
              background: '#4caf50',
              color: 'white',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              fontSize: '40px',
              marginRight: '20px',
              boxShadow: '0 4px 8px rgba(0,0,0,0.1)'
            }}>
              {data.avatar}
            </div>
            <div>
              <h2 style={{ margin: '0 0 8px 0', color: '#2e7d32' }}>
                {data.name}
              </h2>
              <p style={{ margin: '0 0 5px 0', color: '#666' }}>
                ğŸ“§ {data.email}
              </p>
              <div style={{
                display: 'inline-block',
                padding: '4px 12px',
                background: data.role === 'Administrator' ? '#f44336' : '#2196f3',
                color: 'white',
                borderRadius: '12px',
                fontSize: '12px',
                fontWeight: 'bold',
                textTransform: 'uppercase'
              }}>
                {data.role}
              </div>
            </div>
          </div>

          <div style={{
            display: 'grid',
            gridTemplateColumns: '1fr 1fr',
            gap: '15px'
          }}>
            <div style={{
              padding: '12px',
              background: 'white',
              borderRadius: '6px',
              boxShadow: '0 2px 4px rgba(0,0,0,0.05)'
            }}>
              <div style={{ fontSize: '12px', color: '#999', marginBottom: '4px' }}>
                ç”¨æˆ·ID
              </div>
              <div style={{ fontWeight: 'bold', color: '#333' }}>
                #{data.id}
              </div>
            </div>
            <div style={{
              padding: '12px',
              background: 'white',
              borderRadius: '6px',
              boxShadow: '0 2px 4px rgba(0,0,0,0.05)'
            }}>
              <div style={{ fontSize: '12px', color: '#999', marginBottom: '4px' }}>
                åŠ å…¥æ—¥æœŸ
              </div>
              <div style={{ fontWeight: 'bold', color: '#333' }}>
                {data.joinDate}
              </div>
            </div>
          </div>

          <div style={{
            marginTop: '20px',
            padding: '15px',
            background: 'white',
            borderRadius: '6px',
            boxShadow: '0 2px 4px rgba(0,0,0,0.05)',
            textAlign: 'center'
          }}>
            <p style={{ margin: 0, color: '#2e7d32', fontSize: '14px' }}>
              âœ… æ•°æ®åŠ è½½å®Œæˆï¼æ¬¢è¿ä½¿ç”¨Reactå­¦ä¹ ä¸­å¿ƒ
            </p>
          </div>
        </div>
      );
    }

    return (
      <div style={{
        padding: '30px',
        background: '#f5f5f5',
        borderRadius: '8px',
        textAlign: 'center',
        border: '2px dashed #ccc'
      }}>
        <p style={{ margin: 0, color: '#999' }}>
          ç‚¹å‡»"è·å–ç”¨æˆ·æ•°æ®"å¼€å§‹åŠ è½½
        </p>
      </div>
    );
  };

  // æ‰‹åŠ¨è§¦å‘æ•°æ®è·å–
  const [shouldFetch, setShouldFetch] = React.useState(false);

  const handleFetch = () => {
    setShouldFetch(true);
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ”„ childrenä½œä¸ºå‡½æ•°æ¨¡å¼æ¼”ç¤º</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1565c0' }}>
          ğŸ’¡ children as function æ¨¡å¼
        </h4>
        <p style={{ margin: '5px 0', fontSize: '14px', lineHeight: '1.6' }}>
          è¿™ç§æ¨¡å¼å°† <strong>children</strong> ä½œä¸ºå‡½æ•°ä½¿ç”¨ï¼Œæä¾›äº†æ›´è‡ªç„¶ã€ç®€æ´çš„APIã€‚
          ç»„ä»¶å†…éƒ¨åªè´Ÿè´£ç®¡ç†çŠ¶æ€å’Œé€»è¾‘ï¼Œæ¸²æŸ“å®Œå…¨ç”±å¤–éƒ¨æ§åˆ¶ã€‚
        </p>
        <ul style={{ margin: '10px 0 0 20px', fontSize: '14px', lineHeight: '1.6' }}>
          <li>è¯­æ³•æ›´ç®€æ´ï¼ŒåµŒå¥—å±‚çº§æ›´å°‘</li>
          <li>childrenå¯ä»¥æ˜¯ä»»ä½•Reactç»„ä»¶</li>
          <li>å®Œå…¨æ§åˆ¶æ¸²æŸ“é€»è¾‘</li>
          <li>æ˜“äºç†è§£å’Œç»´æŠ¤</li>
        </ul>
      </div>

      <div style={{ marginBottom: '20px' }}>
        <button
          onClick={handleFetch}
          style={{
            padding: '10px 20px',
            background: '#2196f3',
            color: 'white',
            border: 'none',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '16px',
            fontWeight: 'bold',
            boxShadow: '0 2px 4px rgba(0,0,0,0.2)',
            transition: 'all 0.2s'
          }}
        >
          ğŸ“¡ è·å–ç”¨æˆ·æ•°æ®
        </button>
      </div>

      <DataProvider fetcher={fetchUserData}>
        {userProfile}
      </DataProvider>

      <div style={{
        marginTop: '25px',
        padding: '15px',
        background: '#fff3e0',
        borderRadius: '8px',
        border: '2px solid #ff9800'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>
          ğŸ“ å…³é”®ä¼˜åŠ¿
        </h4>
        <ul style={{ margin: '0', paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>çµæ´»æ¸²æŸ“</strong> - æ¸²æŸ“é€»è¾‘å®Œå…¨ç”±childrenæ§åˆ¶</li>
          <li><strong>ç±»å‹å®‰å…¨</strong> - TypeScriptå¯ä»¥å®Œç¾æ¨æ–­childrençš„ç±»å‹</li>
          <li><strong>æ˜“äºæµ‹è¯•</strong> - å¯ä»¥è½»æ¾mock childrenå‡½æ•°è¿›è¡Œæµ‹è¯•</li>
          <li><strong>ç»„åˆå‹å¥½</strong> - éå¸¸é€‚åˆæ„å»ºå¯ç»„åˆçš„API</li>
          <li><strong>è¯­ä¹‰åŒ–</strong> - childrenæœ¬èº«å°±æš—ç¤º"ç»„ä»¶çš„å†…å®¹"</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

---

## 3. å¸¸è§Render Propsæ¨¡å¼

### 3.1 çŠ¶æ€ç®¡ç†Render Props

<LiveCode
  code={`
function CounterRenderPropsDemo() {
  // çŠ¶æ€ç®¡ç†ç»„ä»¶
  const Counter = ({ initialCount = 0, render }) => {
    const [count, setCount] = React.useState(initialCount);

    const increment = () => {
      setCount(prev => prev + 1);
    };

    const decrement = () => {
      setCount(prev => prev - 1);
    };

    const reset = () => {
      setCount(initialCount);
    };

    // ä¼ é€’çŠ¶æ€å’Œæ–¹æ³•ç»™æ¸²æŸ“å‡½æ•°
    return render({ count, increment, decrement, reset });
  };

  // ä½¿ç”¨Counterç»„ä»¶
  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ”¢ çŠ¶æ€ç®¡ç†Render Props</h3>

      <Counter initialCount={0}>
        {({ count, increment, decrement, reset }) => (
          <div style={{
            padding: '20px',
            background: '#f5f5f5',
            borderRadius: '8px',
            border: '2px solid #2196f3',
            maxWidth: '300px'
          }}>
            <h4 style={{ margin: '0 0 15px 0', color: '#1976d2' }}>è®¡æ•°å™¨</h4>

            <div style={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              gap: '15px',
              marginBottom: '20px'
            }}>
              <button
                onClick={decrement}
                style={{
                  padding: '10px 20px',
                  fontSize: '24px',
                  fontWeight: 'bold',
                  background: '#f44336',
                  color: 'white',
                  border: 'none',
                  borderRadius: '6px',
                  cursor: 'pointer',
                  minWidth: '50px'
                }}
              >
                âˆ’
              </button>

              <div style={{
                fontSize: '48px',
                fontWeight: 'bold',
                color: '#2196f3',
                minWidth: '80px',
                textAlign: 'center'
              }}>
                {count}
              </div>

              <button
                onClick={increment}
                style={{
                  padding: '10px 20px',
                  fontSize: '24px',
                  fontWeight: 'bold',
                  background: '#4caf50',
                  color: 'white',
                  border: 'none',
                  borderRadius: '6px',
                  cursor: 'pointer',
                  minWidth: '50px'
                }}
              >
                +
              </button>
            </div>

            <button
              onClick={reset}
              style={{
                width: '100%',
                padding: '10px',
                fontSize: '16px',
                background: '#ff9800',
                color: 'white',
                border: 'none',
                borderRadius: '6px',
                cursor: 'pointer',
                fontWeight: 'bold'
              }}
            >
              ğŸ”„ é‡ç½®ä¸º 0
            </button>
          </div>
        )}
      </Counter>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å·¥ä½œåŸç†</h4>
        <ul style={{ margin: '0', paddingLeft: '20px', lineHeight: '1.6', fontSize: '14px' }}>
          <li>Counterç»„ä»¶ç®¡ç†çŠ¶æ€ï¼ˆcountï¼‰</li>
          <li>é€šè¿‡render propä¼ é€’çŠ¶æ€å’Œæ“ä½œæ–¹æ³•</li>
          <li>å¤–éƒ¨æ§åˆ¶å¦‚ä½•æ¸²æŸ“è¿™äº›æ•°æ®</li>
          <li>å®ç°äº†çŠ¶æ€é€»è¾‘ä¸è§†å›¾çš„åˆ†ç¦»</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 3.2 åˆ—è¡¨æ¸²æŸ“Render Props

<LiveCode
  code={`
function VirtualListDemo() {
  // æ¨¡æ‹Ÿå¤§é‡ç”¨æˆ·æ•°æ®
  const [users] = React.useState(
    Array.from({ length: 1000 }, (_, i) => ({
      id: i + 1,
      name: \`ç”¨æˆ· \${i + 1}\`,
      email: \`user\${i + 1}@example.com\`,
      role: ['Admin', 'User', 'Guest'][i % 3]
    }))
  );

  // è™šæ‹Ÿåˆ—è¡¨ç»„ä»¶
  const VirtualList = ({ items, itemHeight = 50, visibleCount = 10, renderItem }) => {
    const [scrollTop, setScrollTop] = React.useState(0);

    const startIndex = Math.floor(scrollTop / itemHeight);
    const endIndex = Math.min(startIndex + visibleCount + 5, items.length); // å¤šæ¸²æŸ“ä¸€äº›é¿å…ç©ºç™½
    const visibleItems = items.slice(startIndex, endIndex);
    const totalHeight = items.length * itemHeight;

    return (
      <div
        style={{
          height: visibleCount * itemHeight,
          overflow: 'auto',
          border: '2px solid #4caf50',
          borderRadius: '8px',
          position: 'relative',
          background: 'white'
        }}
        onScroll={(e) => setScrollTop(e.target.scrollTop)}
      >
        <div style={{ height: totalHeight, position: 'relative' }}>
          <div style={{ transform: \`translateY(\${startIndex * itemHeight}px)\` }}>
            {visibleItems.map((item, index) =>
              renderItem(item, startIndex + index)
            )}
          </div>
        </div>
      </div>
    );
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ“‹ è™šæ‹Ÿåˆ—è¡¨Render Props</h3>

      <div style={{ marginBottom: '20px' }}>
        <p style={{ margin: '5px 0', fontSize: '14px', color: '#666' }}>
          <strong>æ•°æ®é‡ï¼š</strong>1000ä¸ªç”¨æˆ·é¡¹ç›®
        </p>
        <p style={{ margin: '5px 0', fontSize: '14px', color: '#666' }}>
          <strong>å¯è§é¡¹ç›®ï¼š</strong>10ä¸ªï¼ˆä»…æ¸²æŸ“å¯è§é¡¹ç›®ï¼Œæå‡æ€§èƒ½ï¼‰
        </p>
      </div>

      <VirtualList
        items={users}
        itemHeight={60}
        visibleCount={10}
        renderItem={(user, index) => (
          <div
            key={user.id}
            style={{
              height: 60,
              padding: '10px 15px',
              borderBottom: '1px solid #e0e0e0',
              display: 'flex',
              alignItems: 'center',
              background: index % 2 === 0 ? '#f9f9f9' : 'white',
              transition: 'background 0.2s'
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.background = '#e3f2fd';
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.background = index % 2 === 0 ? '#f9f9f9' : 'white';
            }}
          >
            <div style={{
              width: '40px',
              height: '40px',
              borderRadius: '50%',
              background: '#4caf50',
              color: 'white',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              fontWeight: 'bold',
              marginRight: '15px',
              fontSize: '16px'
            }}>
              {user.id}
            </div>
            <div style={{ flex: 1 }}>
              <div style={{ fontWeight: 'bold', color: '#333', marginBottom: '4px' }}>
                {user.name}
              </div>
              <div style={{ fontSize: '12px', color: '#666' }}>
                {user.email}
              </div>
            </div>
            <div style={{
              padding: '4px 12px',
              background: user.role === 'Admin' ? '#f44336' :
                        user.role === 'User' ? '#2196f3' : '#9e9e9e',
              color: 'white',
              borderRadius: '12px',
              fontSize: '12px',
              fontWeight: 'bold'
            }}>
              {user.role}
            </div>
          </div>
        )}
      />

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e8f5e9',
        borderRadius: '8px',
        border: '2px solid #4caf50'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>ğŸ’¡ æ€§èƒ½ä¼˜åŒ–åŸç†</h4>
        <ul style={{ margin: '0', paddingLeft: '20px', lineHeight: '1.6', fontSize: '14px' }}>
          <li><strong>è™šæ‹Ÿæ»šåŠ¨</strong> - åªæ¸²æŸ“å¯è§åŒºåŸŸçš„åˆ—è¡¨é¡¹</li>
          <li><strong>åŠ¨æ€è®¡ç®—</strong> - æ ¹æ®æ»šåŠ¨ä½ç½®è®¡ç®—å¯è§é¡¹ç›®</li>
          <li><strong>å†…å­˜ä¼˜åŒ–</strong> - é¿å…æ¸²æŸ“å¤§é‡DOMèŠ‚ç‚¹</li>
          <li><strong>renderItem</strong> - å¤–éƒ¨æ§åˆ¶åˆ—è¡¨é¡¹çš„æ¸²æŸ“é€»è¾‘</li>
        </ul>
      </div>

      <div style={{
        marginTop: '15px',
        padding: '10px 15px',
        background: '#fff3e0',
        borderRadius: '6px',
        fontSize: '13px',
        color: '#e65100'
      }}>
        <strong>ğŸ’¡ æç¤ºï¼š</strong>å°è¯•æ»šåŠ¨æŸ¥çœ‹æ€§èƒ½è¡¨ç°ï¼Œå³ä½¿æ»šåŠ¨åˆ°åº•éƒ¨ä¹Ÿåªæ¸²æŸ“äº†å°‘é‡DOMå…ƒç´ 
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 3.3 å¼‚æ­¥æ•°æ®Render Props

<LiveCode
  code={`
function AsyncDataRenderPropsDemo() {
  // æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®
  const mockUsers = [
    { id: 1, name: 'Alice Johnson', email: 'alice@example.com', role: 'Admin' },
    { id: 2, name: 'Bob Smith', email: 'bob@example.com', role: 'User' },
    { id: 3, name: 'Charlie Brown', email: 'charlie@example.com', role: 'Moderator' }
  ];

  // æ¨¡æ‹ŸAPIè°ƒç”¨
  const fetchUser = (userId) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        if (userId && userId <= 3) {
          resolve(mockUsers[userId - 1]);
        } else {
          reject(new Error('ç”¨æˆ·ä¸å­˜åœ¨'));
        }
      }, 1000);
    });
  };

  // å®ç°AsyncDataç»„ä»¶ (ä½¿ç”¨Render Props)
  const AsyncData = ({ userId, children, render }) => {
    const [data, setData] = React.useState(null);
    const [loading, setLoading] = React.useState(false);
    const [error, setError] = React.useState(null);

    React.useEffect(() => {
      if (!userId) {
        setData(null);
        setLoading(false);
        setError(null);
        return;
      }

      setLoading(true);
      setError(null);

      fetchUser(userId)
        .then((result) => {
          setData(result);
          setLoading(false);
        })
        .catch((err) => {
          setError(err);
          setLoading(false);
        });
    }, [userId]);

    return children ? children({ data, loading, error }) : render({ data, loading, error });
  };

  // çŠ¶æ€ç®¡ç†
  const [selectedUserId, setSelectedUserId] = React.useState(1);

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ”„ å¼‚æ­¥æ•°æ®Render Props</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px',
        display: 'flex',
        gap: '10px',
        flexWrap: 'wrap'
      }}>
        <button
          onClick={() => setSelectedUserId(null)}
          style={{
            padding: '8px 16px',
            background: selectedUserId === null ? '#2196f3' : 'white',
            color: selectedUserId === null ? 'white' : '#333',
            border: '2px solid #2196f3',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          æ¸…ç©ºé€‰æ‹©
        </button>
        <button
          onClick={() => setSelectedUserId(1)}
          style={{
            padding: '8px 16px',
            background: selectedUserId === 1 ? '#2196f3' : 'white',
            color: selectedUserId === 1 ? 'white' : '#333',
            border: '2px solid #2196f3',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          ğŸ‘¤ ç”¨æˆ· 1
        </button>
        <button
          onClick={() => setSelectedUserId(2)}
          style={{
            padding: '8px 16px',
            background: selectedUserId === 2 ? '#2196f3' : 'white',
            color: selectedUserId === 2 ? 'white' : '#333',
            border: '2px solid #2196f3',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          ğŸ‘¤ ç”¨æˆ· 2
        </button>
        <button
          onClick={() => setSelectedUserId(3)}
          style={{
            padding: '8px 16px',
            background: selectedUserId === 3 ? '#2196f3' : 'white',
            color: selectedUserId === 3 ? 'white' : '#333',
            border: '2px solid #2196f3',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          ğŸ‘¤ ç”¨æˆ· 3
        </button>
        <button
          onClick={() => setSelectedUserId(4)}
          style={{
            padding: '8px 16px',
            background: selectedUserId === 4 ? '#f44336' : 'white',
            color: selectedUserId === 4 ? 'white' : '#333',
            border: '2px solid #f44336',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          âŒ é”™è¯¯ç”¨æˆ·
        </button>
      </div>

      <div style={{ marginBottom: '20px' }}>
        <h4>å½“å‰é€‰ä¸­ç”¨æˆ·ID: {selectedUserId || 'æ— '}</h4>
      </div>

      {/* ä½¿ç”¨AsyncDataç»„ä»¶ - Render Propsæ¨¡å¼ */}
      <AsyncData userId={selectedUserId}>
        {({ data, loading, error }) => {
          if (loading) {
            return (
              <div style={{
                padding: '30px',
                background: '#fff3e0',
                borderRadius: '8px',
                border: '2px solid #ff9800',
                textAlign: 'center'
              }}>
                <div style={{ fontSize: '32px', marginBottom: '15px' }}>â³</div>
                <p style={{ margin: 0, color: '#e65100', fontSize: '16px' }}>
                  æ­£åœ¨åŠ è½½ç”¨æˆ·ä¿¡æ¯...
                </p>
              </div>
            );
          }

          if (error) {
            return (
              <div style={{
                padding: '30px',
                background: '#ffebee',
                borderRadius: '8px',
                border: '2px solid #f44336',
                textAlign: 'center'
              }}>
                <div style={{ fontSize: '32px', marginBottom: '15px' }}>âŒ</div>
                <h4 style={{ margin: '0 0 10px 0', color: '#c62828' }}>åŠ è½½å¤±è´¥</h4>
                <p style={{ margin: '5px 0', color: '#666' }}>
                  {error.message}
                </p>
              </div>
            );
          }

          if (!data) {
            return (
              <div style={{
                padding: '30px',
                background: '#f5f5f5',
                borderRadius: '8px',
                border: '2px solid #ddd',
                textAlign: 'center'
              }}>
                <p style={{ margin: 0, color: '#999' }}>
                  è¯·é€‰æ‹©ä¸€ä¸ªç”¨æˆ·æ¥æŸ¥çœ‹è¯¦æƒ…
                </p>
              </div>
            );
          }

          return (
            <div style={{
              padding: '30px',
              background: '#e8f5e9',
              borderRadius: '8px',
              border: '2px solid #4caf50'
            }}>
              <h4 style={{ margin: '0 0 20px 0', color: '#2e7d32' }}>
                âœ… ç”¨æˆ·ä¿¡æ¯åŠ è½½æˆåŠŸ
              </h4>
              <div style={{
                display: 'flex',
                alignItems: 'center',
                gap: '20px'
              }}>
                <div style={{
                  width: '80px',
                  height: '80px',
                  borderRadius: '50%',
                  background: '#4caf50',
                  color: 'white',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  fontSize: '36px'
                }}>
                  {data.role === 'Admin' ? 'ğŸ‘‘' :
                   data.role === 'Moderator' ? 'ğŸ›¡ï¸' : 'ğŸ‘¤'}
                </div>
                <div style={{ flex: 1 }}>
                  <h4 style={{ margin: '0 0 5px 0', color: '#2e7d32' }}>
                    {data.name}
                  </h4>
                  <p style={{ margin: '5px 0', color: '#666' }}>
                    ğŸ“§ {data.email}
                  </p>
                  <p style={{ margin: '5px 0', color: '#666' }}>
                    ğŸ·ï¸ è§’è‰²: {data.role}
                  </p>
                </div>
              </div>
            </div>
          );
        }}
      </AsyncData>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ Render Propsä¼˜åŠ¿</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.6', fontSize: '14px' }}>
          <li><strong>çŠ¶æ€ç®¡ç†</strong> - AsyncDataç»„ä»¶è´Ÿè´£æ‰€æœ‰å¼‚æ­¥é€»è¾‘</li>
          <li><strong>çµæ´»æ¸²æŸ“</strong> - é€šè¿‡childrenå‡½æ•°è‡ªå®šä¹‰UI</li>
          <li><strong>é”™è¯¯å¤„ç†</strong> - ç»Ÿä¸€çš„é”™è¯¯å’ŒåŠ è½½çŠ¶æ€å¤„ç†</li>
          <li><strong>å¤ç”¨æ€§å¼º</strong> - ç›¸åŒçš„é€»è¾‘ï¼Œä¸åŒçš„UIå±•ç¤º</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 3.4 ä¸»é¢˜ç³»ç»ŸRender Props

<LiveCode
  code={`
function ThemeSystemDemo() {
  // ä¸»é¢˜Provider
  const ThemeProvider = ({ children, initialTheme = 'light' }) => {
    const [theme, setTheme] = React.useState(() => {
      // åœ¨çœŸå®ç¯å¢ƒä¸­ä½¿ç”¨localStorage
      return initialTheme;
    });

    const toggleTheme = () => {
      setTheme(prev => {
        const newTheme = prev === 'light' ? 'dark' : 'light';
        return newTheme;
      });
    };

    return children({
      theme,
      toggleTheme,
      isDark: theme === 'dark'
    });
  };

  // ç¤ºä¾‹åº”ç”¨
  return (
    <ThemeProvider>
      {({ theme, toggleTheme, isDark }) => (
        <div style={{
          padding: '20px',
          border: '2px solid #2196f3',
          borderRadius: '8px',
          background: isDark ? '#2d2d2d' : '#ffffff',
          color: isDark ? '#ffffff' : '#333333',
          transition: 'all 0.3s ease'
        }}>
          <div style={{
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'space-between',
            marginBottom: '20px',
            paddingBottom: '15px',
            borderBottom: \`2px solid ${isDark ? '#444' : '#e0e0e0'}\`
          }}>
            <h3 style={{ margin: 0, color: isDark ? '#fff' : '#1976d2' }}>
              ğŸ¨ ä¸»é¢˜ç³»ç»Ÿæ¼”ç¤º
            </h3>
            <button
              onClick={toggleTheme}
              style={{
                padding: '10px 20px',
                background: isDark ? '#4caf50' : '#2196f3',
                color: 'white',
                border: 'none',
                borderRadius: '6px',
                cursor: 'pointer',
                fontSize: '14px',
                fontWeight: 'bold',
                transition: 'all 0.2s',
                boxShadow: '0 2px 4px rgba(0,0,0,0.2)'
              }}
            >
              {isDark ? 'â˜€ï¸ åˆ‡æ¢åˆ°æµ…è‰²' : 'ğŸŒ™ åˆ‡æ¢åˆ°æ·±è‰²'}
            </button>
          </div>

          <div style={{
            background: isDark ? '#1a1a1a' : '#f5f5f5',
            padding: '20px',
            borderRadius: '8px',
            marginBottom: '20px'
          }}>
            <h4 style={{
              margin: '0 0 10px 0',
              color: isDark ? '#4caf50' : '#2e7d32'
            }}>
              å½“å‰ä¸»é¢˜ä¿¡æ¯
            </h4>
            <p style={{ margin: '5px 0' }}>
              <strong>ä¸»é¢˜æ¨¡å¼:</strong>
              <span style={{
                marginLeft: '8px',
                padding: '4px 12px',
                background: isDark ? '#4caf50' : '#2196f3',
                color: 'white',
                borderRadius: '12px',
                fontSize: '12px',
                fontWeight: 'bold'
              }}>
                {theme.toUpperCase()}
              </span>
            </p>
            <p style={{ margin: '5px 0' }}>
              <strong>æ˜¯å¦æ·±è‰²:</strong>
              <span style={{ marginLeft: '8px', color: isDark ? '#4caf50' : '#f44336' }}>
                {isDark ? 'âœ“ æ˜¯' : 'âœ— å¦'}
              </span>
            </p>
          </div>

          <div style={{
            display: 'grid',
            gridTemplateColumns: '1fr 1fr',
            gap: '15px'
          }}>
            <div style={{
              padding: '15px',
              background: isDark ? '#1a1a1a' : '#e3f2fd',
              borderRadius: '6px',
              border: \`1px solid ${isDark ? '#444' : '#2196f3'}\`
            }}>
              <h4 style={{
                margin: '0 0 8px 0',
                color: isDark ? '#4caf50' : '#1976d2'
              }}>
                å¡ç‰‡ 1
              </h4>
              <p style={{ margin: 0, fontSize: '14px', color: isDark ? '#ccc' : '#666' }}>
                è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹å¡ç‰‡ï¼Œå±•ç¤ºä¸»é¢˜æ•ˆæœã€‚
              </p>
            </div>
            <div style={{
              padding: '15px',
              background: isDark ? '#1a1a1a' : '#e8f5e9',
              borderRadius: '6px',
              border: \`1px solid ${isDark ? '#444' : '#4caf50'}\`
            }}>
              <h4 style={{
                margin: '0 0 8px 0',
                color: isDark ? '#4caf50' : '#2e7d32'
              }}>
                å¡ç‰‡ 2
              </h4>
              <p style={{ margin: 0, fontSize: '14px', color: isDark ? '#ccc' : '#666' }}>
                ç‚¹å‡»æŒ‰é’®å¯ä»¥åˆ‡æ¢ä¸»é¢˜æ¨¡å¼ã€‚
              </p>
            </div>
          </div>

          <div style={{
            marginTop: '20px',
            padding: '15px',
            background: isDark ? '#1a1a1a' : '#fff3e0',
            borderRadius: '6px',
            border: \`1px solid ${isDark ? '#444' : '#ff9800'}\`
          }}>
            <h4 style={{
              margin: '0 0 10px 0',
              color: isDark ? '#ff9800' : '#e65100'
            }}>
              ğŸ’¡ å·¥ä½œåŸç†
            </h4>
            <ul style={{
              margin: 0,
              paddingLeft: '20px',
              lineHeight: '1.8',
              fontSize: '13px',
              color: isDark ? '#ccc' : '#666'
            }}>
              <li><strong>ThemeProvider</strong> è´Ÿè´£ç®¡ç†ä¸»é¢˜çŠ¶æ€</li>
              <li>é€šè¿‡ <strong>children as function</strong> ä¼ é€’ä¸»é¢˜ä¿¡æ¯</li>
              <li>ç»„ä»¶å†…éƒ¨å¯ä»¥æ ¹æ® <strong>theme</strong> å’Œ <strong>isDark</strong> è°ƒæ•´æ ·å¼</li>
              <li>å®ç°äº†é€»è¾‘ä¸UIçš„å®Œå…¨åˆ†ç¦»</li>
            </ul>
          </div>
        </div>
      )}
    </ThemeProvider>
  );
}
`}
  scope={{ React }}
/>

### 3.5 è¡¨å•Render Props

<LiveCode
  code={`
function FormRenderPropsDemo() {
  // è¡¨å•çŠ¶æ€ç®¡ç†ç»„ä»¶
  const Form = ({ initialValues, onSubmit, children }) => {
    const [values, setValues] = React.useState(initialValues);
    const [touched, setTouched] = React.useState({});
    const [errors, setErrors] = React.useState({});
    const [isSubmitting, setIsSubmitting] = React.useState(false);

    const handleChange = (name, value) => {
      setValues(prev => ({ ...prev, [name]: value }));
    };

    const handleBlur = (name) => {
      setTouched(prev => ({ ...prev, [name]: true }));
    };

    const handleSubmit = (e) => {
      e.preventDefault();
      setIsSubmitting(true);

      // æ¨¡æ‹Ÿè¡¨å•éªŒè¯
      const newErrors = {};
      if (!values.name || values.name.trim() === '') {
        newErrors.name = 'è¯·è¾“å…¥å§“å';
      }
      if (!values.email || values.email.trim() === '') {
        newErrors.email = 'è¯·è¾“å…¥é‚®ç®±';
      } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(values.email)) {
        newErrors.email = 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®';
      }

      setErrors(newErrors);

      if (Object.keys(newErrors).length === 0) {
        onSubmit(values);
        setTimeout(() => {
          setIsSubmitting(false);
        }, 1500);
      } else {
        setIsSubmitting(false);
      }
    };

    return children({
      values,
      touched,
      errors,
      handleChange,
      handleBlur,
      handleSubmit,
      isSubmitting
    });
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ“ è¡¨å•Render Propsæ¼”ç¤º</h3>

      <Form
        initialValues={{ name: '', email: '', message: '' }}
        onSubmit={(values) => {
          alert(\`è¡¨å•æäº¤æˆåŠŸï¼\\n\${JSON.stringify(values, null, 2)}\`);
        }}
      >
        {({
          values,
          touched,
          errors,
          handleChange,
          handleBlur,
          handleSubmit,
          isSubmitting
        }) => (
          <form
            onSubmit={handleSubmit}
            style={{
              maxWidth: '500px',
              background: '#f9f9f9',
              padding: '30px',
              borderRadius: '8px',
              border: '2px solid #2196f3'
            }}
          >
            <h4 style={{
              margin: '0 0 20px 0',
              color: '#1976d2',
              textAlign: 'center'
            }}>
              è”ç³»æˆ‘ä»¬
            </h4>

            <div style={{ marginBottom: '20px' }}>
              <label style={{
                display: 'block',
                marginBottom: '8px',
                fontWeight: 'bold',
                color: '#333'
              }}>
                å§“å *
              </label>
              <input
                type="text"
                value={values.name}
                onChange={(e) => handleChange('name', e.target.value)}
                onBlur={() => handleBlur('name')}
                placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å"
                style={{
                  width: '100%',
                  padding: '10px',
                  fontSize: '14px',
                  border: touched.name && errors.name ? '2px solid #f44336' : '1px solid #ccc',
                  borderRadius: '4px',
                  boxSizing: 'border-box',
                  transition: 'border-color 0.3s'
                }}
              />
              {touched.name && errors.name && (
                <span style={{
                  color: '#f44336',
                  fontSize: '12px',
                  marginTop: '4px',
                  display: 'block'
                }}>
                  {errors.name}
                </span>
              )}
            </div>

            <div style={{ marginBottom: '20px' }}>
              <label style={{
                display: 'block',
                marginBottom: '8px',
                fontWeight: 'bold',
                color: '#333'
              }}>
                é‚®ç®± *
              </label>
              <input
                type="email"
                value={values.email}
                onChange={(e) => handleChange('email', e.target.value)}
                onBlur={() => handleBlur('email')}
                placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±"
                style={{
                  width: '100%',
                  padding: '10px',
                  fontSize: '14px',
                  border: touched.email && errors.email ? '2px solid #f44336' : '1px solid #ccc',
                  borderRadius: '4px',
                  boxSizing: 'border-box',
                  transition: 'border-color 0.3s'
                }}
              />
              {touched.email && errors.email && (
                <span style={{
                  color: '#f44336',
                  fontSize: '12px',
                  marginTop: '4px',
                  display: 'block'
                }}>
                  {errors.email}
                </span>
              )}
            </div>

            <div style={{ marginBottom: '20px' }}>
              <label style={{
                display: 'block',
                marginBottom: '8px',
                fontWeight: 'bold',
                color: '#333'
              }}>
                ç•™è¨€
              </label>
              <textarea
                value={values.message}
                onChange={(e) => handleChange('message', e.target.value)}
                onBlur={() => handleBlur('message')}
                placeholder="è¯·è¾“å…¥æ‚¨çš„ç•™è¨€ï¼ˆå¯é€‰ï¼‰"
                rows="4"
                style={{
                  width: '100%',
                  padding: '10px',
                  fontSize: '14px',
                  border: '1px solid #ccc',
                  borderRadius: '4px',
                  boxSizing: 'border-box',
                  fontFamily: 'inherit',
                  resize: 'vertical'
                }}
              />
            </div>

            <button
              type="submit"
              disabled={isSubmitting}
              style={{
                width: '100%',
                padding: '12px',
                fontSize: '16px',
                fontWeight: 'bold',
                background: isSubmitting ? '#ccc' : '#2196f3',
                color: 'white',
                border: 'none',
                borderRadius: '4px',
                cursor: isSubmitting ? 'not-allowed' : 'pointer',
                transition: 'background 0.3s'
              }}
            >
              {isSubmitting ? 'æäº¤ä¸­...' : 'æäº¤è¡¨å•'}
            </button>
          </form>
        )}
      </Form>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ Render Propsä¼˜åŠ¿</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>çŠ¶æ€ç®¡ç†</strong> - Formç»„ä»¶è´Ÿè´£æ‰€æœ‰è¡¨å•çŠ¶æ€ç®¡ç†</li>
          <li><strong>éªŒè¯é€»è¾‘</strong> - é›†ä¸­å¤„ç†è¡¨å•éªŒè¯</li>
          <li><strong>çµæ´»æ¸²æŸ“</strong> - å®Œå…¨è‡ªå®šä¹‰è¡¨å•UI</li>
          <li><strong>å¯å¤ç”¨æ€§å¼º</strong> - ç›¸åŒçš„é€»è¾‘ï¼Œä¸åŒçš„è¡¨å•</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

---

## 4. é«˜çº§Render Propsæ¨¡å¼

### 4.1 ç»„åˆå¤šä¸ªRender Props

<LiveCode
  code={`
function DataComposerDemo() {
  // æ¨¡æ‹Ÿæ•°æ®è·å–
  const fetchUsers = () => {
    return new Promise((resolve) => {
      setTimeout(() => resolve([
        { id: 1, name: 'Alice', email: 'alice@example.com' },
        { id: 2, name: 'Bob', email: 'bob@example.com' }
      ]), 800);
    });
  };

  const fetchPosts = () => {
    return new Promise((resolve) => {
      setTimeout(() => resolve([
        { id: 1, title: 'Reactå­¦ä¹ æŒ‡å—', author: 'Alice' },
        { id: 2, title: 'JavaScriptè¿›é˜¶', author: 'Bob' }
      ]), 1200);
    });
  };

  const fetchComments = () => {
    return new Promise((resolve) => {
      setTimeout(() => resolve([
        { id: 1, text: 'å¾ˆå¥½çš„æ–‡ç« ï¼', author: 'Charlie' },
        { id: 2, text: 'å­¦åˆ°äº†å¾ˆå¤š', author: 'David' }
      ]), 600);
    });
  };

  // ç»„åˆæ•°æ®ç»„ä»¶
  const DataComposer = ({ composers, children }) => {
    const [allData, setAllData] = React.useState([]);

    React.useEffect(() => {
      let mounted = true;

      const loadData = async () => {
        const results = await Promise.all(
          composers.map(async (composer) => {
            try {
              const data = await composer.fetcher();
              return {
                name: composer.name,
                data,
                loading: false,
                error: null
              };
            } catch (err) {
              return {
                name: composer.name,
                data: null,
                loading: false,
                error: err.message
              };
            }
          })
        );

        if (mounted) {
          setAllData(results);
        }
      };

      loadData();

      return () => {
        mounted = false;
      };
    }, [composers]);

    const dataMap = allData.reduce((acc, curr) => {
      acc[curr.name] = curr;
      return acc;
    }, {});

    return children({ results: dataMap, allData });
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ”— ç»„åˆå¤šä¸ªRender Props</h3>

      <DataComposer
        composers={[
          { name: 'users', fetcher: fetchUsers },
          { name: 'posts', fetcher: fetchPosts },
          { name: 'comments', fetcher: fetchComments }
        ]}
      >
        {({ results, allData }) => {
          const isLoading = allData.some(item => item.loading);
          const hasError = allData.some(item => item.error);

          return (
            <div>
              {isLoading && (
                <div style={{
                  padding: '20px',
                  background: '#fff3e0',
                  borderRadius: '8px',
                  border: '2px solid #ff9800',
                  marginBottom: '20px',
                  textAlign: 'center'
                }}>
                  <div style={{ fontSize: '24px', marginBottom: '10px' }}>â³</div>
                  <p style={{ margin: 0, color: '#e65100' }}>æ­£åœ¨åŠ è½½æ•°æ®...</p>
                </div>
              )}

              {hasError && (
                <div style={{
                  padding: '20px',
                  background: '#ffebee',
                  borderRadius: '8px',
                  border: '2px solid #f44336',
                  marginBottom: '20px',
                  textAlign: 'center'
                }}>
                  <div style={{ fontSize: '24px', marginBottom: '10px' }}>âŒ</div>
                  <p style={{ margin: 0, color: '#c62828' }}>éƒ¨åˆ†æ•°æ®åŠ è½½å¤±è´¥</p>
                </div>
              )}

              {!isLoading && !hasError && (
                <div style={{
                  display: 'grid',
                  gridTemplateColumns: '1fr 1fr 1fr',
                  gap: '20px'
                }}>
                  <div style={{
                    padding: '20px',
                    background: '#e3f2fd',
                    borderRadius: '8px',
                    border: '2px solid #2196f3'
                  }}>
                    <h4 style={{ margin: '0 0 15px 0', color: '#1976d2' }}>
                      ğŸ‘¥ ç”¨æˆ· ({results.users?.data?.length || 0})
                    </h4>
                    {results.users?.data?.map(user => (
                      <div key={user.id} style={{
                        marginBottom: '10px',
                        padding: '10px',
                        background: 'white',
                        borderRadius: '4px'
                      }}>
                        <div style={{ fontWeight: 'bold', color: '#333' }}>{user.name}</div>
                        <div style={{ fontSize: '12px', color: '#666' }}>{user.email}</div>
                      </div>
                    ))}
                  </div>

                  <div style={{
                    padding: '20px',
                    background: '#e8f5e9',
                    borderRadius: '8px',
                    border: '2px solid #4caf50'
                  }}>
                    <h4 style={{ margin: '0 0 15px 0', color: '#2e7d32' }}>
                      ğŸ“ æ–‡ç«  ({results.posts?.data?.length || 0})
                    </h4>
                    {results.posts?.data?.map(post => (
                      <div key={post.id} style={{
                        marginBottom: '10px',
                        padding: '10px',
                        background: 'white',
                        borderRadius: '4px'
                      }}>
                        <div style={{ fontWeight: 'bold', color: '#333' }}>{post.title}</div>
                        <div style={{ fontSize: '12px', color: '#666' }}>ä½œè€…: {post.author}</div>
                      </div>
                    ))}
                  </div>

                  <div style={{
                    padding: '20px',
                    background: '#f3e5f5',
                    borderRadius: '8px',
                    border: '2px solid #9c27b0'
                  }}>
                    <h4 style={{ margin: '0 0 15px 0', color: '#7b1fa2' }}>
                      ğŸ’¬ è¯„è®º ({results.comments?.data?.length || 0})
                    </h4>
                    {results.comments?.data?.map(comment => (
                      <div key={comment.id} style={{
                        marginBottom: '10px',
                        padding: '10px',
                        background: 'white',
                        borderRadius: '4px'
                      }}>
                        <div style={{ fontWeight: 'bold', color: '#333' }}>{comment.text}</div>
                        <div style={{ fontSize: '12px', color: '#666' }}>â€” {comment.author}</div>
                      </div>
                    ))}
                  </div>
                </div>
              )}

              <div style={{
                marginTop: '20px',
                padding: '15px',
                background: '#e3f2fd',
                borderRadius: '8px',
                border: '2px solid #2196f3'
              }}>
                <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ ç»„åˆæ¨¡å¼ä¼˜åŠ¿</h4>
                <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
                  <li><strong>ç»Ÿä¸€ç®¡ç†</strong> - é›†ä¸­å¤„ç†å¤šä¸ªæ•°æ®æº</li>
                  <li><strong>å¹¶å‘åŠ è½½</strong> - åŒæ—¶è·å–å¤šä¸ªAPIæ•°æ®</li>
                  <li><strong>çŠ¶æ€èšåˆ</strong> - ç»Ÿä¸€ç®¡ç†åŠ è½½å’Œé”™è¯¯çŠ¶æ€</li>
                  <li><strong>çµæ´»æ¸²æŸ“</strong> - å®Œå…¨è‡ªå®šä¹‰æ•°æ®å±•ç¤ºæ–¹å¼</li>
                </ul>
              </div>
            </div>
          );
        }}
      </DataComposer>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 4.2 æ¡ä»¶Render Props

<LiveCode
  code={`
function ConditionalRenderDemo() {
  // æ¡ä»¶æ¸²æŸ“ç»„ä»¶
  const ConditionalRender = ({ condition, ifRender, elseRender, props }) => {
    if (!condition) {
      return elseRender ? elseRender(props) : null;
    }

    return ifRender ? ifRender(props) : null;
  };

  // æ¨¡æ‹Ÿç”¨æˆ·çŠ¶æ€
  const [user, setUser] = React.useState({
    name: 'Alice',
    isAdmin: true,
    isLoggedIn: true
  });

  const [hasPermission, setHasPermission] = React.useState(true);

  // æ¨¡æ‹Ÿç»„ä»¶
  const AdminPanel = () => (
    <div style={{
      padding: '20px',
      background: '#e8f5e9',
      border: '2px solid #4caf50',
      borderRadius: '8px',
      marginBottom: '20px'
    }}>
      <h3 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>ğŸ›¡ï¸ ç®¡ç†å‘˜é¢æ¿</h3>
      <p style={{ margin: '5px 0' }}>âœ“ ç”¨æˆ·ç®¡ç†</p>
      <p style={{ margin: '5px 0' }}>âœ“ ç³»ç»Ÿè®¾ç½®</p>
      <p style={{ margin: '5px 0' }}>âœ“ æ•°æ®åˆ†æ</p>
    </div>
  );

  const UserPanel = () => (
    <div style={{
      padding: '20px',
      background: '#e3f2fd',
      border: '2px solid #2196f3',
      borderRadius: '8px',
      marginBottom: '20px'
    }}>
      <h3 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ‘¤ ç”¨æˆ·é¢æ¿</h3>
      <p style={{ margin: '5px 0' }}>â€¢ ä¸ªäººèµ„æ–™</p>
      <p style={{ margin: '5px 0' }}>â€¢ æˆ‘çš„è®¢å•</p>
      <p style={{ margin: '5px 0' }}>â€¢ è®¾ç½®</p>
    </div>
  );

  const GuestPanel = () => (
    <div style={{
      padding: '20px',
      background: '#fff3e0',
      border: '2px solid #ff9800',
      borderRadius: '8px',
      marginBottom: '20px'
    }}>
      <h3 style={{ margin: '0 0 10px 0', color: '#e65100' }}>ğŸ‘¥ è®¿å®¢</h3>
      <p style={{ margin: '5px 0' }}>è¯·ç™»å½•ä»¥è®¿é—®æ›´å¤šåŠŸèƒ½</p>
    </div>
  );

  const PremiumButton = (props) => (
    <button
      {...props}
      style={{
        padding: '10px 20px',
        background: '#4caf50',
        color: 'white',
        border: 'none',
        borderRadius: '6px',
        cursor: 'pointer',
        fontSize: '14px',
        fontWeight: 'bold',
        ...props.style
      }}
    >
      {props.children || 'Premium åŠŸèƒ½'}
    </button>
  );

  const LockedButton = () => (
    <button
      disabled
      style={{
        padding: '10px 20px',
        background: '#ccc',
        color: '#666',
        border: 'none',
        borderRadius: '6px',
        cursor: 'not-allowed',
        fontSize: '14px',
        fontWeight: 'bold'
      }}
    >
      ğŸ”’ æ²¡æœ‰æƒé™
    </button>
  );

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ”€ æ¡ä»¶Render Props</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px'
      }}>
        <h4 style={{ margin: '0 0 10px 0' }}>æ¨¡æ‹ŸçŠ¶æ€æ§åˆ¶</h4>
        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
          <button
            onClick={() => setUser({ ...user, isAdmin: !user.isAdmin })}
            style={{
              padding: '8px 16px',
              background: '#2196f3',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer'
            }}
          >
            {user.isAdmin ? 'ğŸ‘‘ å–æ¶ˆç®¡ç†å‘˜' : 'ğŸ‘‘ è®¾ä¸ºç®¡ç†å‘˜'}
          </button>
          <button
            onClick={() => setUser({ ...user, isLoggedIn: !user.isLoggedIn })}
            style={{
              padding: '8px 16px',
              background: '#4caf50',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer'
            }}
          >
            {user.isLoggedIn ? 'ğŸšª ç™»å‡º' : 'ğŸ”‘ ç™»å½•'}
          </button>
          <button
            onClick={() => setHasPermission(!hasPermission)}
            style={{
              padding: '8px 16px',
              background: hasPermission ? '#f44336' : '#4caf50',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer'
            }}
          >
            {hasPermission ? 'âŒ å–æ¶ˆæƒé™' : 'âœ… æˆäºˆæƒé™'}
          </button>
        </div>
        <div style={{ marginTop: '10px', fontSize: '14px', color: '#666' }}>
          <strong>å½“å‰çŠ¶æ€:</strong>
          <span style={{ marginLeft: '8px' }}>ç®¡ç†å‘˜: {user.isAdmin ? 'âœ“' : 'âœ—'}</span>
          <span style={{ marginLeft: '12px' }}>å·²ç™»å½•: {user.isLoggedIn ? 'âœ“' : 'âœ—'}</span>
          <span style={{ marginLeft: '12px' }}>æœ‰æƒé™: {hasPermission ? 'âœ“' : 'âœ—'}</span>
        </div>
      </div>

      <h4 style={{ margin: '0 0 10px 0' }}>ç¤ºä¾‹1: ç”¨æˆ·è§’è‰²æ¡ä»¶æ¸²æŸ“</h4>
      <ConditionalRender
        condition={user.isLoggedIn}
        ifRender={() => (
          <ConditionalRender
            condition={user.isAdmin}
            ifRender={AdminPanel}
            elseRender={UserPanel}
          />
        )}
        elseRender={GuestPanel}
      />

      <h4 style={{ margin: '20px 0 10px 0' }}>ç¤ºä¾‹2: æƒé™æ¡ä»¶æ¸²æŸ“</h4>
      <div style={{
        padding: '20px',
        background: '#f9f9f9',
        borderRadius: '8px',
        border: '2px solid #2196f3',
        display: 'flex',
        alignItems: 'center',
        gap: '15px'
      }}>
        <span style={{ fontWeight: 'bold' }}>æ“ä½œæŒ‰é’®:</span>
        <ConditionalRender
          condition={hasPermission}
          ifRender={() => <PremiumButton>ğŸš€ é«˜çº§åŠŸèƒ½</PremiumButton>}
          elseRender={LockedButton}
        />
        <ConditionalRender
          condition={hasPermission}
          ifRender={(props) => <PremiumButton {...props}>âœ¨ ç‰¹æ®Šæ“ä½œ</PremiumButton>}
          elseRender={LockedButton}
        />
      </div>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ æ¡ä»¶æ¸²æŸ“ä¼˜åŠ¿</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>çµæ´»æ¡ä»¶</strong> - æ”¯æŒå¤æ‚æ¡ä»¶é€»è¾‘</li>
          <li><strong>ç»„ä»¶å¤ç”¨</strong> - ç›¸åŒçš„æ¡ä»¶ç»„ä»¶ï¼Œä¸åŒçš„æ¸²æŸ“å†…å®¹</li>
          <li><strong>æ”¯æŒProps</strong> - å¯ä»¥å°†propsä¼ é€’ç»™æ¸²æŸ“å‡½æ•°</li>
          <li><strong>å¯ç»„åˆæ€§</strong> - æ”¯æŒåµŒå¥—æ¡ä»¶æ¸²æŸ“</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 4.3 åŠ¨æ€Render Props

<LiveCode
  code={`
function DynamicRendererDemo() {
  // åŠ¨æ€æ¸²æŸ“ç»„ä»¶
  const DynamicRenderer = ({ type, props }) => {
    const renderers = {
      'user-card': ({ user }) => (
        <div style={{
          padding: '20px',
          background: '#e3f2fd',
          border: '2px solid #2196f3',
          borderRadius: '8px',
          maxWidth: '300px'
        }}>
          <div style={{
            width: '60px',
            height: '60px',
            borderRadius: '50%',
            background: '#2196f3',
            color: 'white',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            fontSize: '24px',
            fontWeight: 'bold',
            margin: '0 auto 15px'
          }}>
            {user.name.charAt(0)}
          </div>
          <h4 style={{ margin: '0 0 5px 0', textAlign: 'center', color: '#1976d2' }}>
            {user.name}
          </h4>
          <p style={{ margin: '0 0 5px 0', textAlign: 'center', color: '#666', fontSize: '14px' }}>
            ğŸ“§ {user.email}
          </p>
          <p style={{ margin: '0', textAlign: 'center', color: '#999', fontSize: '12px' }}>
            {user.role}
          </p>
        </div>
      ),
      'product-card': ({ product }) => (
        <div style={{
          padding: '20px',
          background: '#e8f5e9',
          border: '2px solid #4caf50',
          borderRadius: '8px',
          maxWidth: '300px'
        }}>
          <div style={{
            width: '100%',
            height: '150px',
            background: '#c8e6c9',
            borderRadius: '4px',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            fontSize: '48px',
            marginBottom: '15px'
          }}>
            ğŸ“¦
          </div>
          <h4 style={{ margin: '0 0 5px 0', color: '#2e7d32' }}>
            {product.name}
          </h4>
          <p style={{ margin: '0 0 10px 0', color: '#666', fontSize: '14px' }}>
            {product.description}
          </p>
          <div style={{
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
            marginTop: '10px'
          }}>
            <span style={{ fontSize: '20px', fontWeight: 'bold', color: '#4caf50' }}>
              Â¥{product.price}
            </span>
            <span style={{
              padding: '4px 8px',
              background: '#4caf50',
              color: 'white',
              borderRadius: '4px',
              fontSize: '12px'
            }}>
              {product.stock > 0 ? 'âœ“ æœ‰åº“å­˜' : 'âœ— ç¼ºè´§'}
            </span>
          </div>
        </div>
      ),
      'article-card': ({ article }) => (
        <div style={{
          padding: '20px',
          background: '#f3e5f5',
          border: '2px solid #9c27b0',
          borderRadius: '8px',
          maxWidth: '300px'
        }}>
          <h4 style={{ margin: '0 0 10px 0', color: '#7b1fa2' }}>
            ğŸ“° {article.title}
          </h4>
          <p style={{
            margin: '0 0 10px 0',
            color: '#666',
            fontSize: '14px',
            lineHeight: '1.5'
          }}>
            {article.excerpt}
          </p>
          <div style={{
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
            marginTop: '15px',
            paddingTop: '10px',
            borderTop: '1px solid #ce93d8',
            fontSize: '12px',
            color: '#999'
          }}>
            <span>ğŸ‘¤ {article.author}</span>
            <span>ğŸ“… {article.date}</span>
          </div>
          <div style={{ marginTop: '10px' }}>
            {article.tags.map(tag => (
              <span
                key={tag}
                style={{
                  display: 'inline-block',
                  padding: '2px 8px',
                  background: '#9c27b0',
                  color: 'white',
                  borderRadius: '10px',
                  fontSize: '11px',
                  marginRight: '4px'
                }}
              >
                {tag}
              </span>
            ))}
          </div>
        </div>
      )
    };

    const renderComponent = renderers[type] || (() => (
      <div style={{
        padding: '20px',
        background: '#ffebee',
        border: '2px solid #f44336',
        borderRadius: '8px',
        color: '#c62828'
      }}>
        âŒ æœªçŸ¥ç±»å‹: {type}
      </div>
    ));

    return renderComponent(props);
  };

  // æ¨¡æ‹Ÿæ•°æ®
  const [currentType, setCurrentType] = React.useState('user-card');
  const [userData] = React.useState({
    name: 'Alice Johnson',
    email: 'alice@example.com',
    role: 'Administrator'
  });
  const [productData] = React.useState({
    name: 'Reactå­¦ä¹ æŒ‡å—',
    description: 'æ·±å…¥ç†è§£Reactçš„å®Œæ•´æ•™ç¨‹',
    price: 99.99,
    stock: 50
  });
  const [articleData] = React.useState({
    title: 'React Hookså®Œå…¨æŒ‡å—',
    excerpt: 'æ¢ç´¢React Hooksçš„å¼ºå¤§åŠŸèƒ½ï¼Œå­¦ä¹ å¦‚ä½•åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨å®ƒä»¬...',
    author: 'å¼ ä¸‰',
    date: '2024-01-15',
    tags: ['React', 'Hooks', 'å‰ç«¯å¼€å‘']
  });

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>âš¡ åŠ¨æ€Render Props</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px'
      }}>
        <h4 style={{ margin: '0 0 10px 0' }}>é€‰æ‹©å¡ç‰‡ç±»å‹</h4>
        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
          <button
            onClick={() => setCurrentType('user-card')}
            style={{
              padding: '8px 16px',
              background: currentType === 'user-card' ? '#2196f3' : '#ccc',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer',
              fontSize: '14px'
            }}
          >
            ğŸ‘¤ ç”¨æˆ·å¡ç‰‡
          </button>
          <button
            onClick={() => setCurrentType('product-card')}
            style={{
              padding: '8px 16px',
              background: currentType === 'product-card' ? '#2196f3' : '#ccc',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer',
              fontSize: '14px'
            }}
          >
            ğŸ“¦ äº§å“å¡ç‰‡
          </button>
          <button
            onClick={() => setCurrentType('article-card')}
            style={{
              padding: '8px 16px',
              background: currentType === 'article-card' ? '#2196f3' : '#ccc',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer',
              fontSize: '14px'
            }}
          >
            ğŸ“° æ–‡ç« å¡ç‰‡
          </button>
          <button
            onClick={() => setCurrentType('invalid-type')}
            style={{
              padding: '8px 16px',
              background: currentType === 'invalid-type' ? '#f44336' : '#ccc',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: 'pointer',
              fontSize: '14px'
            }}
          >
            âŒ é”™è¯¯ç±»å‹
          </button>
        </div>
        <div style={{ marginTop: '10px', fontSize: '14px', color: '#666' }}>
          <strong>å½“å‰ç±»å‹:</strong>
          <span style={{ marginLeft: '8px', fontFamily: 'monospace' }}>
            {currentType}
          </span>
        </div>
      </div>

      <div style={{
        display: 'flex',
        justifyContent: 'center',
        marginBottom: '20px'
      }}>
        <DynamicRenderer
          type={currentType}
          props={{
            user: userData,
            product: productData,
            article: articleData
          }}
        />
      </div>

      <div style={{
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ åŠ¨æ€æ¸²æŸ“ä¼˜åŠ¿</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>ç±»å‹æ˜ å°„</strong> - æ ¹æ®typeå±æ€§åŠ¨æ€é€‰æ‹©æ¸²æŸ“å‡½æ•°</li>
          <li><strong>çµæ´»æ‰©å±•</strong> - å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ç»„ä»¶ç±»å‹</li>
          <li><strong>ç»Ÿä¸€æ¥å£</strong> - ç›¸åŒçš„APIï¼Œä¸åŒçš„æ¸²æŸ“</li>
          <li><strong>é”™è¯¯å¤„ç†</strong> - æä¾›é»˜è®¤çš„fallbackæ¸²æŸ“</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 4.4 æ¸²æŸ“ç­–ç•¥æ¨¡å¼

<LiveCode
  code={`
function RenderStrategyDemo() {
  // æ¨¡æ‹Ÿæ•°æ®
  const sampleData = [
    { id: 1, name: 'äº§å“ A', price: 99, category: 'ç”µå­äº§å“' },
    { id: 2, name: 'äº§å“ B', price: 199, category: 'æœè£…' },
    { id: 3, name: 'äº§å“ C', price: 299, category: 'ç”µå­äº§å“' },
    { id: 4, name: 'äº§å“ D', price: 399, category: 'å®¶å±…' },
    { id: 5, name: 'äº§å“ E', price: 499, category: 'ç”µå­äº§å“' },
    { id: 6, name: 'äº§å“ F', price: 599, category: 'æœè£…' }
  ];

  // æ¸²æŸ“ç­–ç•¥Provider
  const RenderStrategyProvider = ({ data, children }) => {
    const [currentStrategy, setCurrentStrategy] = React.useState('grid');

    const strategies = {
      grid: (data) => (
        <div style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',
          gap: '20px'
        }}>
          {data.map(item => (
            <div key={item.id} style={{
              padding: '15px',
              background: '#e3f2fd',
              border: '2px solid #2196f3',
              borderRadius: '8px',
              textAlign: 'center'
            }}>
              <div style={{ fontSize: '32px', marginBottom: '10px' }}>ğŸ“¦</div>
              <h4 style={{ margin: '0 0 5px 0', color: '#1976d2' }}>{item.name}</h4>
              <p style={{ margin: '5px 0', fontSize: '14px', color: '#666' }}>{item.category}</p>
              <p style={{ margin: '5px 0', fontSize: '18px', fontWeight: 'bold', color: '#2196f3' }}>
                Â¥{item.price}
              </p>
            </div>
          ))}
        </div>
      ),
      list: (data) => (
        <div>
          {data.map(item => (
            <div key={item.id} style={{
              padding: '15px',
              marginBottom: '10px',
              background: '#e8f5e9',
              border: '2px solid #4caf50',
              borderRadius: '8px',
              display: 'flex',
              alignItems: 'center',
              gap: '20px'
            }}>
              <div style={{ fontSize: '24px' }}>ğŸ“¦</div>
              <div style={{ flex: 1 }}>
                <h4 style={{ margin: '0 0 5px 0', color: '#2e7d32' }}>{item.name}</h4>
                <p style={{ margin: '0', fontSize: '14px', color: '#666' }}>{item.category}</p>
              </div>
              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#4caf50' }}>
                Â¥{item.price}
              </div>
            </div>
          ))}
        </div>
      ),
      compact: (data) => (
        <div>
          {data.map(item => (
            <div key={item.id} style={{
              padding: '8px 12px',
              marginBottom: '5px',
              background: '#fff3e0',
              border: '1px solid #ff9800',
              borderRadius: '4px',
              display: 'flex',
              justifyContent: 'space-between',
              fontSize: '14px'
            }}>
              <span style={{ color: '#e65100' }}>{item.name}</span>
              <span style={{ color: '#666' }}>Â¥{item.price}</span>
            </div>
          ))}
        </div>
      ),
      card: (data) => (
        <div style={{
          display: 'flex',
          flexDirection: 'column',
          gap: '15px'
        }}>
          {data.map(item => (
            <div key={item.id} style={{
              padding: '20px',
              background: '#f3e5f5',
              border: '2px solid #9c27b0',
              borderRadius: '8px',
              display: 'flex',
              alignItems: 'center',
              gap: '20px'
            }}>
              <div style={{
                width: '60px',
                height: '60px',
                background: '#9c27b0',
                color: 'white',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '30px',
                borderRadius: '8px'
              }}>
                ğŸ“¦
              </div>
              <div style={{ flex: 1 }}>
                <h4 style={{ margin: '0 0 5px 0', color: '#7b1fa2' }}>{item.name}</h4>
                <p style={{ margin: '0', fontSize: '14px', color: '#666' }}>{item.category}</p>
              </div>
              <div style={{ textAlign: 'right' }}>
                <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#9c27b0' }}>
                  Â¥{item.price}
                </div>
              </div>
            </div>
          ))}
        </div>
      )
    };

    const setStrategy = (strategy) => {
      if (strategies[strategy]) {
        setCurrentStrategy(strategy);
      }
    };

    const renderStrategy = strategies[currentStrategy];

    return children({
      currentStrategy,
      setStrategy,
      render: renderStrategy,
      data
    });
  };

  const strategyButtons = [
    { key: 'grid', label: 'ç½‘æ ¼è§†å›¾', icon: 'ğŸŸ¦' },
    { key: 'list', label: 'åˆ—è¡¨è§†å›¾', icon: 'ğŸ“‹' },
    { key: 'card', label: 'å¡ç‰‡è§†å›¾', icon: 'ğŸƒ' },
    { key: 'compact', label: 'ç´§å‡‘è§†å›¾', icon: 'ğŸ“„' }
  ];

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ¨ æ¸²æŸ“ç­–ç•¥æ¨¡å¼</h3>

      <RenderStrategyProvider data={sampleData}>
        {({ currentStrategy, setStrategy, render, data }) => (
          <div>
            <div style={{
              marginBottom: '20px',
              padding: '15px',
              background: '#f5f5f5',
              borderRadius: '8px',
              display: 'flex',
              gap: '10px',
              flexWrap: 'wrap',
              alignItems: 'center'
            }}>
              <span style={{ fontWeight: 'bold', marginRight: '10px' }}>é€‰æ‹©è§†å›¾æ¨¡å¼:</span>
              {strategyButtons.map(btn => (
                <button
                  key={btn.key}
                  onClick={() => setStrategy(btn.key)}
                  style={{
                    padding: '8px 16px',
                    background: currentStrategy === btn.key ? '#2196f3' : 'white',
                    color: currentStrategy === btn.key ? 'white' : '#333',
                    border: '2px solid #2196f3',
                    borderRadius: '6px',
                    cursor: 'pointer',
                    fontSize: '14px',
                    fontWeight: currentStrategy === btn.key ? 'bold' : 'normal',
                    transition: 'all 0.2s'
                  }}
                >
                  <span style={{ marginRight: '5px' }}>{btn.icon}</span>
                  {btn.label}
                </button>
              ))}
            </div>

            <div style={{
              padding: '20px',
              background: '#f9f9f9',
              borderRadius: '8px',
              border: '2px solid #2196f3',
              minHeight: '300px'
            }}>
              {render(data)}
            </div>

            <div style={{
              marginTop: '20px',
              padding: '15px',
              background: '#e3f2fd',
              borderRadius: '8px',
              border: '2px solid #2196f3'
            }}>
              <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ ç­–ç•¥æ¨¡å¼ä¼˜åŠ¿</h4>
              <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
                <li><strong>ç­–ç•¥åˆ‡æ¢</strong> - è¿è¡Œæ—¶åŠ¨æ€åˆ‡æ¢æ¸²æŸ“ç­–ç•¥</li>
                <li><strong>ç­–ç•¥å°è£…</strong> - æ¯ç§ç­–ç•¥ç‹¬ç«‹å®ç°å’Œæµ‹è¯•</li>
                <li><strong>æ˜“æ‰©å±•</strong> - æ·»åŠ æ–°ç­–ç•¥æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç </li>
                <li><strong>ç»Ÿä¸€æ¥å£</strong> - ç›¸åŒçš„APIï¼Œä¸åŒçš„æ¸²æŸ“å®ç°</li>
              </ul>
            </div>
          </div>
        )}
      </RenderStrategyProvider>
    </div>
  );
}
`}
  scope={{ React }}
/>

---

## 5. Render Props vs HOC vs Hooks

### 5.1 æ¨¡å¼å¯¹æ¯”

<LiveCode
  code={`
function PatternComparisonDemo() {
  const [selectedPattern, setSelectedPattern] = React.useState('render-props');

  const patterns = {
    'hoc': {
      name: 'HOC (é«˜é˜¶ç»„ä»¶)',
      code: \`// HOC - åŒ…è£…ç»„ä»¶
const EnhancedComponent = withData(WrappedComponent);\`,
      pros: ['è¯­æ³•ç®€å•', 'æ˜“äºç†è§£', 'å¹¿æ³›ä½¿ç”¨'],
      cons: ['é¢å¤–ç»„ä»¶å±‚çº§', 'å‘½åå†²çªé£é™©', 'è°ƒè¯•å›°éš¾'],
      color: '#2196f3'
    },
    'render-props': {
      name: 'Render Props',
      code: \`// Render Props - ä¼ é€’æ¸²æŸ“å‡½æ•°
<DataProvider
  render={(data) => <WrappedComponent data={data} />}
/>\`,
      pros: ['æ¸…æ™°æ•°æ®æµ', 'çµæ´»æ§åˆ¶', 'æ— å±‚çº§å¢åŠ '],
      cons: ['åµŒå¥—åœ°ç‹±', 'å­¦ä¹ æ›²çº¿', 'ç±»å‹æ”¯æŒå¼±'],
      color: '#4caf50'
    },
    'hooks': {
      name: 'Hooks (æ¨è)',
      code: \`// è‡ªå®šä¹‰Hook
function useData() {
  const [data, setData] = useState(null);
  return data;
}

function WrappedComponent() {
  const data = useData();
}\`,
      pros: ['æœ€ä½³æ€§èƒ½', 'çµæ´»ç»„åˆ', 'ç±»å‹å‹å¥½', 'æ˜“æµ‹è¯•'],
      cons: ['è§„åˆ™é™åˆ¶', 'å­¦ä¹ æ›²çº¿', 'ä¾èµ–ä¾èµ–æ•°ç»„'],
      color: '#9c27b0'
    }
  };

  const currentPattern = patterns[selectedPattern];

  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ”„ ä¸‰ç§æ¨¡å¼å¯¹æ¯”</h3>

      <div style={{ marginBottom: '20px', display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
        <button
          onClick={() => setSelectedPattern('hoc')}
          style={{
            padding: '10px 20px',
            background: selectedPattern === 'hoc' ? '#2196f3' : 'white',
            color: selectedPattern === 'hoc' ? 'white' : '#333',
            border: '2px solid #2196f3',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          HOC
        </button>
        <button
          onClick={() => setSelectedPattern('render-props')}
          style={{
            padding: '10px 20px',
            background: selectedPattern === 'render-props' ? '#4caf50' : 'white',
            color: selectedPattern === 'render-props' ? 'white' : '#333',
            border: '2px solid #4caf50',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          Render Props
        </button>
        <button
          onClick={() => setSelectedPattern('hooks')}
          style={{
            padding: '10px 20px',
            background: selectedPattern === 'hooks' ? '#9c27b0' : 'white',
            color: selectedPattern === 'hooks' ? 'white' : '#333',
            border: '2px solid #9c27b0',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          Hooks
        </button>
      </div>

      <div style={{
        background: '#f8f9fa',
        borderRadius: '8px',
        border: \`2px solid \${currentPattern.color}\`,
        padding: '20px',
        marginBottom: '20px'
      }}>
        <h4 style={{ margin: '0 0 15px 0', color: currentPattern.color }}>
          {currentPattern.name}
        </h4>
        <pre style={{
          background: '#2d2d2d',
          color: '#f8f8f2',
          padding: '15px',
          borderRadius: '6px',
          overflow: 'auto',
          fontSize: '13px',
          lineHeight: '1.5'
        }}>
          <code>{currentPattern.code}</code>
        </pre>
      </div>

      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>
        <div style={{
          padding: '15px',
          background: '#e8f5e9',
          borderRadius: '8px',
          border: '2px solid #4caf50'
        }}>
          <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>
            âœ… ä¼˜åŠ¿
          </h4>
          <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8' }}>
            {currentPattern.pros.map((pro, index) => (
              <li key={index} style={{ color: '#333', fontSize: '14px' }}>{pro}</li>
            ))}
          </ul>
        </div>

        <div style={{
          padding: '15px',
          background: '#ffebee',
          borderRadius: '8px',
          border: '2px solid #f44336'
        }}>
          <h4 style={{ margin: '0 0 10px 0', color: '#c62828' }}>
            âŒ åŠ£åŠ¿
          </h4>
          <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8' }}>
            {currentPattern.cons.map((con, index) => (
              <li key={index} style={{ color: '#333', fontSize: '14px' }}>{con}</li>
            ))}
          </ul>
        </div>
      </div>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ é€‰æ‹©å»ºè®®</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>æ–°é¡¹ç›®</strong> - ä¼˜å…ˆä½¿ç”¨ Hooks</li>
          <li><strong>åº“å¼€å‘</strong> - HOC ä»ç„¶æœ‰ä»·å€¼ï¼ˆå¦‚ Redux connectï¼‰</li>
          <li><strong>Render Props</strong> - é€‚åˆçŠ¶æ€æå‡å’Œæ¡ä»¶æ¸²æŸ“</li>
          <li><strong>æ—§é¡¹ç›®è¿ç§»</strong> - é€æ­¥ä» HOC/Render Props è¿ç§»åˆ° Hooks</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 5.2 é€‰æ‹©æŒ‡å—

<LiveCode
  code={`
function SelectionGuideDemo() {
  const [useCase, setUseCase] = React.useState('new-project');

  const useCases = {
    'new-project': {
      title: 'æ–°é¡¹ç›®å¼€å‘',
      recommended: 'hooks',
      description: 'ç°ä»£Reacté¡¹ç›®å»ºè®®ä¼˜å…ˆä½¿ç”¨Hooks',
      details: {
        hooks: {
          title: 'âœ… æ¨è: Hooks',
          reasons: [
            'ç°ä»£Reactæ ‡å‡†å†™æ³•',
            'æ›´å¥½çš„TypeScriptæ”¯æŒ',
            'æ›´ç®€æ´çš„ä»£ç ',
            'æ›´å®¹æ˜“æµ‹è¯•å’Œå¤ç”¨',
            'æ›´å¥½çš„å¼€å‘ä½“éªŒ'
          ],
          color: '#4caf50'
        },
        'render-props': {
          title: 'âš ï¸ å¯é€‰: Render Props',
          reasons: [
            'éœ€è¦çŠ¶æ€æå‡',
            'å¤æ‚çš„æ¡ä»¶æ¸²æŸ“',
            'å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€'
          ],
          color: '#ff9800'
        },
        hoc: {
          title: 'âŒ ä¸æ¨è: HOC',
          reasons: [
            'ä»£ç å±‚çº§å¢åŠ ',
            'è°ƒè¯•å›°éš¾',
            'é€æ¸è¢«Hooksæ›¿ä»£'
          ],
          color: '#f44336'
        }
      }
    },
    'library': {
      title: 'åº“å¼€å‘',
      recommended: 'hoc',
      description: 'å¼€å‘å¯å¤ç”¨åº“æ—¶HOCä»æœ‰ä»·å€¼',
      details: {
        hoc: {
          title: 'âœ… æ¨è: HOC',
          reasons: [
            'Redux connectçš„æˆåŠŸå®è·µ',
            'æˆç†Ÿçš„APIè®¾è®¡',
            'æ˜“äºç†è§£å’Œä½¿ç”¨',
            'å¹¿æ³›çš„ç¤¾åŒºæ”¯æŒ',
            'å‘åå…¼å®¹æ€§å¥½'
          ],
          color: '#4caf50'
        },
        hooks: {
          title: 'âš ï¸ å¤æ‚: Hooks',
          reasons: [
            'éœ€è¦ç”¨æˆ·å­¦ä¹ Hookæ¨¡å¼',
            'è‡ªå®šä¹‰Hookè®¾è®¡å¤æ‚',
            'ç±»å‹æ¨æ–­æŒ‘æˆ˜'
          ],
          color: '#ff9800'
        },
        'render-props': {
          title: 'âš ï¸ å¯é€‰: Render Props',
          reasons: [
            'éœ€è¦ç†è§£å‡½æ•°å¼æ€ç»´',
            'åµŒå¥—å¯èƒ½è¿‡æ·±'
          ],
          color: '#ff9800'
        }
      }
    },
    'legacy': {
      title: 'æ—§é¡¹ç›®ç»´æŠ¤',
      recommended: 'render-props',
      description: 'ç»´æŠ¤æˆ–å‡çº§æ—§é¡¹ç›®æ—¶çš„é€‰æ‹©',
      details: {
        'render-props': {
          title: 'âœ… æ¨è: Render Props',
          reasons: [
            'ä»ç±»ç»„ä»¶è¿ç§»çš„ä¸­é—´é€‰æ‹©',
            'æ¯”HOCæ›´çµæ´»',
            'æ˜“äºç†è§£',
            'è¿ç§»æˆæœ¬è¾ƒä½'
          ],
          color: '#4caf50'
        },
        hoc: {
          title: 'âš ï¸ ç»´æŒ: HOC',
          reasons: [
            'å·²æœ‰å¤§é‡HOCä»£ç ',
            'é€æ­¥è¿ç§»ç­–ç•¥',
            'ä¿æŒä¸€è‡´æ€§'
          ],
          color: '#ff9800'
        },
        hooks: {
          title: 'ğŸ¯ ç›®æ ‡: Hooks',
          reasons: [
            'é•¿æœŸå‘å±•æ–¹å‘',
            'æœ€ç»ˆè¿ç§»ç›®æ ‡',
            'ç°ä»£åŒ–ä»£ç åº“'
          ],
          color: '#2196f3'
        }
      }
    },
    'complex-state': {
      title: 'å¤æ‚çŠ¶æ€ç®¡ç†',
      recommended: 'hooks',
      description: 'å¤„ç†å¤æ‚çŠ¶æ€é€»è¾‘æ—¶çš„é€‰æ‹©',
      details: {
        hooks: {
          title: 'âœ… æ¨è: Hooks',
          reasons: [
            'useReducerå¤„ç†å¤æ‚çŠ¶æ€',
            'useContextå…±äº«çŠ¶æ€',
            'è‡ªå®šä¹‰Hookå°è£…é€»è¾‘',
            'æ›´å¥½çš„æ€§èƒ½æ§åˆ¶'
          ],
          color: '#4caf50'
        },
        'render-props': {
          title: 'âš ï¸ å¯é€‰: Render Props',
          reasons: [
            'çŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶',
            'éœ€è¦æ¡ä»¶æ¸²æŸ“',
            'å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€'
          ],
          color: '#ff9800'
        },
        hoc: {
          title: 'âŒ ä¸æ¨è: HOC',
          reasons: [
            'HOCçŠ¶æ€ç®¡ç†å¤æ‚',
            'propä»£ç†å®¹æ˜“å‡ºé”™',
            'è°ƒè¯•å›°éš¾'
          ],
          color: '#f44336'
        }
      }
    }
  };

  const currentUseCase = useCases[useCase];
  const recommendedPattern = currentUseCase.details[currentUseCase.recommended];

  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ“‹ æ¨¡å¼é€‰æ‹©æŒ‡å—</h3>

      <div style={{ marginBottom: '20px' }}>
        <p style={{ margin: '0 0 15px 0', color: '#666', fontSize: '14px' }}>
          {currentUseCase.description}
        </p>

        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
          {Object.entries(useCases).map(([key, uc]) => (
            <button
              key={key}
              onClick={() => setUseCase(key)}
              style={{
                padding: '10px 20px',
                background: useCase === key ? '#2196f3' : 'white',
                color: useCase === key ? 'white' : '#333',
                border: '2px solid #2196f3',
                borderRadius: '6px',
                cursor: 'pointer',
                fontSize: '14px',
                fontWeight: 'bold',
                transition: 'all 0.2s'
              }}
            >
              {uc.title}
            </button>
          ))}
        </div>
      </div>

      <div style={{
        background: '#f8f9fa',
        borderRadius: '8px',
        padding: '20px',
        marginBottom: '20px'
      }}>
        <h4 style={{ margin: '0 0 15px 0', color: '#333' }}>
          ğŸ“Œ åœºæ™¯: {currentUseCase.title}
        </h4>

        {Object.entries(currentUseCase.details).map(([pattern, info]) => {
          const isRecommended = pattern === currentUseCase.recommended;
          return (
            <div
              key={pattern}
              style={{
                marginBottom: '15px',
                padding: '15px',
                background: 'white',
                borderRadius: '6px',
                border: \`2px solid \${info.color}\`,
                opacity: isRecommended ? 1 : 0.85
              }}
            >
              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>
                <h5 style={{ margin: '0', color: info.color, flex: 1 }}>
                  {info.title}
                </h5>
                {isRecommended && (
                  <span style={{
                    padding: '4px 12px',
                    background: '#4caf50',
                    color: 'white',
                    borderRadius: '12px',
                    fontSize: '12px',
                    fontWeight: 'bold'
                  }}>
                    æ¨è
                  </span>
                )}
              </div>
              <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8' }}>
                {info.reasons.map((reason, index) => (
                  <li key={index} style={{ fontSize: '14px', color: '#666' }}>
                    {reason}
                  </li>
                ))}
              </ul>
            </div>
          );
        })}
      </div>

      <div style={{
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å†³ç­–åŸåˆ™</h4>
        <ol style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>æ–°é¡¹ç›®</strong> - ä¼˜å…ˆä½¿ç”¨ Hooksï¼Œè¿™æ˜¯ React çš„æœªæ¥</li>
          <li><strong>åº“å¼€å‘</strong> - ç»§ç»­ä½¿ç”¨ HOCï¼Œå› ä¸ºå®ƒä»¬å·²è¢«å¹¿æ³›æ¥å—</li>
          <li><strong>æ—§é¡¹ç›®</strong> - é€æ­¥ä» HOC è¿ç§»åˆ° Hooks</li>
          <li><strong>ç®€å•é€»è¾‘</strong> - ä½¿ç”¨è‡ªå®šä¹‰ Hook</li>
          <li><strong>å¤æ‚é€»è¾‘</strong> - è€ƒè™‘ Render Props æˆ– HOC</li>
        </ol>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 5.3 æ€§èƒ½å¯¹æ¯”

<LiveCode
  code={`
function PerformanceComparisonDemo() {
  const [pattern, setPattern] = React.useState('hoc');
  const [updateCount, setUpdateCount] = React.useState(0);

  const patterns = {
    hoc: {
      name: 'HOC (é«˜é˜¶ç»„ä»¶)',
      implementation: \`
// HOCå®ç°
class withData extends React.Component {
  render() {
    return <WrappedComponent {...this.props} {...this.state} />;
  }
}

class WrappedComponent extends React.Component {
  render() {
    return <div>Data: {this.props.data}</div>;
  }
}
\`,
      color: '#f44336',
      performance: 'âš ï¸ ä¸­ç­‰',
      issues: [
        'æ¯æ¬¡çˆ¶ç»„ä»¶æ›´æ–°ï¼ŒHOCéƒ½ä¼šé‡æ–°æ¸²æŸ“',
        'æ‰€æœ‰å­ç»„ä»¶éƒ½ä¼šæ”¶åˆ°æ–°props',
        'React.memoéœ€è¦é¢å¤–é…ç½®',
        'è°ƒè¯•å›°éš¾ï¼Œéš¾ä»¥è¿½è¸ªæ›´æ–°æ¥æº'
      ],
      score: 2
    },
    'render-props': {
      name: 'Render Props',
      implementation: \`
// Render Propså®ç°
function DataProvider({ render }) {
  return render(data);
}

function MyComponent() {
  return (
    <DataProvider
      render={({ data }) => <div>Data: {data}</div>}
    />
  );
}
\`,
      color: '#ff9800',
      performance: 'âœ… è‰¯å¥½',
      issues: [
        'å¯ä»¥ç²¾ç¡®æ§åˆ¶æ¸²æŸ“',
        'åªåœ¨ä¾èµ–å˜åŒ–æ—¶æ›´æ–°',
        'é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“',
        'renderå‡½æ•°å¯ä»¥ä¼˜åŒ–'
      ],
      score: 3
    },
    hooks: {
      name: 'Hooks (æ¨è)',
      implementation: \`
// Hookså®ç°
function useData() {
  const [data, setData] = useState(null);
  return data;
}

function MyComponent() {
  const data = useData();
  return <div>Data: {data}</div>;
}
\`,
      color: '#4caf50',
      performance: 'âœ… æœ€ä½³',
      issues: [
        'ç²¾ç¡®çš„ä¾èµ–è¿½è¸ª',
        'åªåœ¨ä¾èµ–å˜åŒ–æ—¶æ›´æ–°',
        'useMemoå’ŒuseCallbackä¼˜åŒ–',
        'æœ€å°åŒ–é‡æ¸²æŸ“èŒƒå›´',
        'React compilerè‡ªåŠ¨ä¼˜åŒ–'
      ],
      score: 5
    }
  };

  const currentPattern = patterns[pattern];
  const [renderLog, setRenderLog] = React.useState([]);

  const triggerUpdate = () => {
    const newLogEntry = {
      id: Date.now(),
      pattern: currentPattern.name,
      timestamp: new Date().toLocaleTimeString()
    };
    setRenderLog([newLogEntry, ...renderLog.slice(0, 4)]);
    setUpdateCount(count => count + 1);
  };

  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h3 style={{ marginTop: 0 }}>âš¡ æ€§èƒ½å¯¹æ¯”åˆ†æ</h3>

      <div style={{ marginBottom: '20px' }}>
        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '15px' }}>
          {Object.entries(patterns).map(([key, p]) => (
            <button
              key={key}
              onClick={() => {
                setPattern(key);
                setRenderLog([]);
                setUpdateCount(0);
              }}
              style={{
                padding: '10px 20px',
                background: pattern === key ? p.color : 'white',
                color: pattern === key ? 'white' : '#333',
                border: \`2px solid \${p.color}\`,
                borderRadius: '6px',
                cursor: 'pointer',
                fontSize: '14px',
                fontWeight: 'bold',
                transition: 'all 0.2s'
              }}
            >
              {p.name}
            </button>
          ))}
        </div>

        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>
          <button
            onClick={triggerUpdate}
            style={{
              padding: '10px 20px',
              background: '#2196f3',
              color: 'white',
              border: '2px solid #2196f3',
              borderRadius: '6px',
              cursor: 'pointer',
              fontSize: '14px',
              fontWeight: 'bold'
            }}
          >
            è§¦å‘æ›´æ–° ({updateCount})
          </button>
          <span style={{ color: '#666', fontSize: '14px' }}>
            ç‚¹å‡»æŸ¥çœ‹æ¸²æŸ“è¡Œä¸º
          </span>
        </div>
      </div>

      <div style={{
        background: '#f8f9fa',
        borderRadius: '8px',
        border: \`2px solid \${currentPattern.color}\`,
        padding: '20px',
        marginBottom: '20px'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: currentPattern.color }}>
          {currentPattern.name} - æ€§èƒ½ç­‰çº§: {currentPattern.performance}
        </h4>
        <pre style={{
          background: '#2d2d2d',
          color: '#f8f8f2',
          padding: '15px',
          borderRadius: '6px',
          overflow: 'auto',
          fontSize: '12px',
          lineHeight: '1.5'
        }}>
          <code>{currentPattern.implementation}</code>
        </pre>
      </div>

      {renderLog.length > 0 && (
        <div style={{
          background: '#fff3e0',
          borderRadius: '8px',
          border: '2px solid #ff9800',
          padding: '15px',
          marginBottom: '20px'
        }}>
          <h5 style={{ margin: '0 0 10px 0', color: '#e65100' }}>
            ğŸ“Š æœ€è¿‘æ¸²æŸ“è®°å½•
          </h5>
          {renderLog.map((entry, index) => (
            <div key={entry.id} style={{
              padding: '8px',
              background: index === 0 ? '#ffe0b2' : '#ffe0b280',
              borderRadius: '4px',
              marginBottom: '5px',
              fontSize: '13px'
            }}>
              <strong>{entry.timestamp}</strong> - {entry.pattern} é‡æ–°æ¸²æŸ“
            </div>
          ))}
        </div>
      )}

      <div style={{
        padding: '15px',
        background: '#ffebee',
        borderRadius: '8px',
        border: '2px solid #f44336'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#c62828' }}>
          âš ï¸ æ€§èƒ½é—®é¢˜
        </h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8' }}>
          {currentPattern.issues.map((issue, index) => (
            <li key={index} style={{ fontSize: '14px', color: '#333' }}>
              {issue}
            </li>
          ))}
        </ul>
      </div>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e8f5e9',
        borderRadius: '8px',
        border: '2px solid #4caf50'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>ğŸ’¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>HOC</strong> - ä½¿ç”¨React.memoåŒ…è£…ï¼Œè°¨æ…ä¼ é€’props</li>
          <li><strong>Render Props</strong> - ä½¿ç”¨useCallbackä¼˜åŒ–renderå‡½æ•°</li>
          <li><strong>Hooks</strong> - åˆç†ä½¿ç”¨useMemoå’ŒuseCallback</li>
          <li><strong>é€šç”¨</strong> - é¿å…åœ¨renderä¸­åˆ›å»ºæ–°å¯¹è±¡æˆ–å‡½æ•°</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

---

## 6. å®é™…åº”ç”¨æ¡ˆä¾‹

### 6.1 ç”¨æˆ·è®¤è¯Render Props

<LiveCode
  code={`
function AuthProviderDemo() {
  // æ¨¡æ‹ŸAPIè°ƒç”¨
  const mockCheckAuth = () => {
    return new Promise((resolve) => {
      setTimeout(() => {
        const savedUser = localStorage.getItem('mockUser');
        resolve(savedUser ? JSON.parse(savedUser) : null);
      }, 800);
    });
  };

  const mockLoginUser = (credentials) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        if (credentials.username === 'admin' && credentials.password === 'password') {
          const user = { id: 1, username: 'admin', email: 'admin@example.com' };
          localStorage.setItem('mockUser', JSON.stringify(user));
          resolve(user);
        } else {
          reject(new Error('Invalid credentials'));
        }
      }, 1000);
    });
  };

  const mockLogoutUser = () => {
    return new Promise((resolve) => {
      setTimeout(() => {
        localStorage.removeItem('mockUser');
        resolve();
      }, 500);
    });
  };

  // AuthProviderå®ç°
  const AuthProvider = ({ children }) => {
    const [user, setUser] = React.useState(null);
    const [loading, setLoading] = React.useState(true);

    React.useEffect(() => {
      mockCheckAuth().then((userData) => {
        setUser(userData);
        setLoading(false);
      });
    }, []);

    const login = (credentials) => {
      return mockLoginUser(credentials).then(setUser);
    };

    const logout = () => {
      return mockLogoutUser().then(() => setUser(null));
    };

    return children({
      user,
      loading,
      isAuthenticated: !!user,
      login,
      logout
    });
  };

  // ç™»å½•è¡¨å•ç»„ä»¶
  const LoginForm = ({ onLogin }) => {
    const [username, setUsername] = React.useState('');
    const [password, setPassword] = React.useState('');
    const [error, setError] = React.useState('');
    const [isLogging, setIsLogging] = React.useState(false);

    const handleSubmit = async (e) => {
      e.preventDefault();
      setIsLogging(true);
      setError('');

      try {
        await onLogin({ username, password });
      } catch (err) {
        setError(err.message);
      } finally {
        setIsLogging(false);
      }
    };

    return (
      <div style={{
        padding: '30px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3',
        maxWidth: '400px',
        margin: '0 auto'
      }}>
        <h3 style={{ margin: '0 0 20px 0', color: '#1976d2', textAlign: 'center' }}>
          ğŸ” ç”¨æˆ·ç™»å½•
        </h3>

        <form onSubmit={handleSubmit}>
          <div style={{ marginBottom: '15px' }}>
            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>
              ç”¨æˆ·å
            </label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              placeholder="è¾“å…¥ç”¨æˆ·å"
              disabled={isLogging}
              style={{
                width: '100%',
                padding: '10px',
                borderRadius: '4px',
                border: '2px solid #2196f3',
                fontSize: '14px',
                boxSizing: 'border-box'
              }}
            />
          </div>

          <div style={{ marginBottom: '15px' }}>
            <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>
              å¯†ç 
            </label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              placeholder="è¾“å…¥å¯†ç "
              disabled={isLogging}
              style={{
                width: '100%',
                padding: '10px',
                borderRadius: '4px',
                border: '2px solid #2196f3',
                fontSize: '14px',
                boxSizing: 'border-box'
              }}
            />
          </div>

          {error && (
            <div style={{
              padding: '10px',
              background: '#ffebee',
              border: '2px solid #f44336',
              borderRadius: '4px',
              color: '#c62828',
              marginBottom: '15px',
              textAlign: 'center'
            }}>
              âŒ {error}
            </div>
          )}

          <button
            type="submit"
            disabled={isLogging}
            style={{
              width: '100%',
              padding: '12px',
              fontSize: '16px',
              fontWeight: 'bold',
              background: isLogging ? '#ccc' : '#2196f3',
              color: 'white',
              border: 'none',
              borderRadius: '4px',
              cursor: isLogging ? 'not-allowed' : 'pointer',
              transition: 'background 0.3s'
            }}
          >
            {isLogging ? 'ç™»å½•ä¸­...' : 'ç™»å½•'}
          </button>

          <div style={{
            marginTop: '15px',
            padding: '10px',
            background: '#fff',
            borderRadius: '4px',
            fontSize: '12px',
            color: '#666'
          }}>
            <strong>æµ‹è¯•è´¦å·ï¼š</strong> admin / password
          </div>
        </form>
      </div>
    );
  };

  // ä»ªè¡¨ç›˜ç»„ä»¶
  const Dashboard = ({ user, onLogout }) => {
    return (
      <div style={{
        padding: '30px',
        background: '#e8f5e9',
        borderRadius: '8px',
        border: '2px solid #4caf50',
        maxWidth: '500px',
        margin: '0 auto'
      }}>
        <div style={{
          display: 'flex',
          alignItems: 'center',
          marginBottom: '20px',
          paddingBottom: '20px',
          borderBottom: '2px solid #4caf50'
        }}>
          <div style={{
            width: '80px',
            height: '80px',
            borderRadius: '50%',
            background: '#4caf50',
            color: 'white',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            fontSize: '36px',
            marginRight: '20px'
          }}>
            ğŸ‘¤
          </div>
          <div>
            <h3 style={{ margin: '0 0 5px 0', color: '#2e7d32' }}>
              {user.username}
            </h3>
            <p style={{ margin: '0', color: '#666' }}>{user.email}</p>
          </div>
        </div>

        <div style={{ marginBottom: '20px' }}>
          <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>ä»ªè¡¨ç›˜</h4>
          <div style={{
            display: 'grid',
            gridTemplateColumns: '1fr 1fr',
            gap: '10px'
          }}>
            <div style={{
              padding: '15px',
              background: 'white',
              borderRadius: '4px',
              textAlign: 'center'
            }}>
              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#2196f3' }}>42</div>
              <div style={{ fontSize: '12px', color: '#666' }}>å¾…åŠäº‹é¡¹</div>
            </div>
            <div style={{
              padding: '15px',
              background: 'white',
              borderRadius: '4px',
              textAlign: 'center'
            }}>
              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#4caf50' }}>8</div>
              <div style={{ fontSize: '12px', color: '#666' }}>å·²å®Œæˆ</div>
            </div>
          </div>
        </div>

        <button
          onClick={onLogout}
          style={{
            width: '100%',
            padding: '12px',
            fontSize: '16px',
            fontWeight: 'bold',
            background: '#f44336',
            color: 'white',
            border: 'none',
            borderRadius: '4px',
            cursor: 'pointer'
          }}
        >
          ğŸšª é€€å‡ºç™»å½•
        </button>
      </div>
    );
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ” ç”¨æˆ·è®¤è¯Render Propsæ¼”ç¤º</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å·¥ä½œåŸç†</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>AuthProvider</strong> ç®¡ç†è®¤è¯çŠ¶æ€ï¼ˆuser, loading, isAuthenticatedï¼‰</li>
          <li>é€šè¿‡ <strong>children as function</strong> ä¼ é€’è®¤è¯ä¿¡æ¯</li>
          <li>å¤–éƒ¨å†³å®šå¦‚ä½•æ¸²æŸ“ç™»å½•è¡¨å•æˆ–ä»ªè¡¨ç›˜</li>
          <li>å®Œå…¨åˆ†ç¦»è®¤è¯é€»è¾‘å’ŒUIå±•ç¤º</li>
        </ul>
      </div>

      <AuthProvider>
        {({ user, loading, isAuthenticated, login, logout }) => {
          if (loading) {
            return (
              <div style={{
                padding: '40px',
                background: '#fff3e0',
                borderRadius: '8px',
                border: '2px solid #ff9800',
                textAlign: 'center'
              }}>
                <div style={{ fontSize: '48px', marginBottom: '10px' }}>â³</div>
                <p style={{ margin: 0, color: '#e65100', fontSize: '18px' }}>
                  æ­£åœ¨éªŒè¯èº«ä»½...
                </p>
              </div>
            );
          }

          return (
            <div>
              {isAuthenticated ? (
                <Dashboard user={user} onLogout={logout} />
              ) : (
                <LoginForm onLogin={login} />
              )}
            </div>
          );
        }}
      </AuthProvider>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e8f5e9',
        borderRadius: '8px',
        border: '2px solid #4caf50'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>âœ¨ å…³é”®ä¼˜åŠ¿</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>çŠ¶æ€é›†ä¸­ç®¡ç†</strong> - æ‰€æœ‰è®¤è¯é€»è¾‘åœ¨AuthProviderä¸­</li>
          <li><strong>çµæ´»æ¸²æŸ“</strong> - å®Œå…¨è‡ªå®šä¹‰ç™»å½•å’Œä»ªè¡¨ç›˜UI</li>
          <li><strong>æ˜“äºæµ‹è¯•</strong> - å¯ä»¥è½»æ¾æ¨¡æ‹Ÿè®¤è¯æµç¨‹</li>
          <li><strong>å¯å¤ç”¨æ€§é«˜</strong> - è®¤è¯é€»è¾‘ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„ä½¿ç”¨</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 6.2 åª’ä½“æŸ¥è¯¢Render Props

<LiveCode
  code={`
function MediaQueryDemo() {
  // æ¨¡æ‹Ÿåª’ä½“æŸ¥è¯¢ç»„ä»¶
  const [currentQuery, setCurrentQuery] = React.useState('(min-width: 768px)');
  const [viewportSize, setViewportSize] = React.useState({ width: 800, height: 600 });

  // åª’ä½“æŸ¥è¯¢ç»„ä»¶
  const MediaQuery = ({ query, children }) => {
    const [matches, setMatches] = React.useState(() => {
      // æ¨¡æ‹Ÿåª’ä½“æŸ¥è¯¢ç»“æœ
      const width = viewportSize.width;
      if (query.includes('min-width')) {
        const minWidth = parseInt(query.match(/(\d+)px/)[1]);
        return width >= minWidth;
      } else if (query.includes('max-width')) {
        const maxWidth = parseInt(query.match(/(\d+)px/)[1]);
        return width <= maxWidth;
      }
      return false;
    });

    React.useEffect(() => {
      const width = viewportSize.width;
      let result = false;

      if (query.includes('min-width')) {
        const minWidth = parseInt(query.match(/(\d+)px/)[1]);
        result = width >= minWidth;
      } else if (query.includes('max-width')) {
        const maxWidth = parseInt(query.match(/(\d+)px/)[1]);
        result = width <= maxWidth;
      }

      setMatches(result);
    }, [query, viewportSize.width]);

    return children({ matches });
  };

  // æ¡Œé¢å¸ƒå±€ç»„ä»¶
  const DesktopLayout = () => (
    <div style={{
      padding: '20px',
      background: '#e8f5e9',
      borderRadius: '8px',
      border: '2px solid #4caf50'
    }}>
      <h3 style={{ margin: '0 0 15px 0', color: '#2e7d32' }}>
        ğŸ–¥ï¸ æ¡Œé¢å¸ƒå±€
      </h3>
      <div style={{
        display: 'grid',
        gridTemplateColumns: '1fr 1fr 1fr',
        gap: '15px'
      }}>
        <div style={{
          padding: '20px',
          background: 'white',
          borderRadius: '6px',
          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
          textAlign: 'center'
        }}>
          <div style={{ fontSize: '36px', marginBottom: '10px' }}>ğŸ“Š</div>
          <div style={{ fontWeight: 'bold', marginBottom: '5px' }}>æ•°æ®æ¦‚è§ˆ</div>
          <div style={{ fontSize: '12px', color: '#666' }}>å®Œæ•´çš„ç»Ÿè®¡ä¿¡æ¯</div>
        </div>
        <div style={{
          padding: '20px',
          background: 'white',
          borderRadius: '6px',
          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
          textAlign: 'center'
        }}>
          <div style={{ fontSize: '36px', marginBottom: '10px' }}>ğŸ“ˆ</div>
          <div style={{ fontWeight: 'bold', marginBottom: '5px' }}>å›¾è¡¨åˆ†æ</div>
          <div style={{ fontSize: '12px', color: '#666' }}>è¯¦ç»†æ•°æ®å›¾è¡¨</div>
        </div>
        <div style={{
          padding: '20px',
          background: 'white',
          borderRadius: '6px',
          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
          textAlign: 'center'
        }}>
          <div style={{ fontSize: '36px', marginBottom: '10px' }}>âš™ï¸</div>
          <div style={{ fontWeight: 'bold', marginBottom: '5px' }}>ç³»ç»Ÿè®¾ç½®</div>
          <div style={{ fontSize: '12px', color: '#666' }}>é«˜çº§é…ç½®é€‰é¡¹</div>
        </div>
      </div>
    </div>
  );

  // ç§»åŠ¨å¸ƒå±€ç»„ä»¶
  const MobileLayout = () => (
    <div style={{
      padding: '20px',
      background: '#e3f2fd',
      borderRadius: '8px',
      border: '2px solid #2196f3'
    }}>
      <h3 style={{ margin: '0 0 15px 0', color: '#1976d2' }}>
        ğŸ“± ç§»åŠ¨å¸ƒå±€
      </h3>
      <div style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '10px'
      }}>
        <div style={{
          padding: '15px',
          background: 'white',
          borderRadius: '6px',
          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
          display: 'flex',
          alignItems: 'center',
          gap: '15px'
        }}>
          <div style={{ fontSize: '32px' }}>ğŸ“Š</div>
          <div style={{ flex: 1 }}>
            <div style={{ fontWeight: 'bold', marginBottom: '2px' }}>æ•°æ®æ¦‚è§ˆ</div>
            <div style={{ fontSize: '12px', color: '#666' }}>ç»Ÿè®¡ä¿¡æ¯</div>
          </div>
        </div>
        <div style={{
          padding: '15px',
          background: 'white',
          borderRadius: '6px',
          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
          display: 'flex',
          alignItems: 'center',
          gap: '15px'
        }}>
          <div style={{ fontSize: '32px' }}>ğŸ“ˆ</div>
          <div style={{ flex: 1 }}>
            <div style={{ fontWeight: 'bold', marginBottom: '2px' }}>å›¾è¡¨</div>
            <div style={{ fontSize: '12px', color: '#666' }}>æ•°æ®å¯è§†åŒ–</div>
          </div>
        </div>
        <div style={{
          padding: '15px',
          background: 'white',
          borderRadius: '6px',
          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
          display: 'flex',
          alignItems: 'center',
          gap: '15px'
        }}>
          <div style={{ fontSize: '32px' }}>âš™ï¸</div>
          <div style={{ flex: 1 }}>
            <div style={{ fontWeight: 'bold', marginBottom: '2px' }}>è®¾ç½®</div>
            <div style={{ fontSize: '12px', color: '#666' }}>ç³»ç»Ÿé…ç½®</div>
          </div>
        </div>
      </div>
    </div>
  );

  const queries = [
    { label: 'æ¡Œé¢è®¾å¤‡ (â‰¥768px)', query: '(min-width: 768px)' },
    { label: 'å¹³æ¿è®¾å¤‡ (768-1024px)', query: '(min-width: 768px) and (max-width: 1024px)' },
    { label: 'ç§»åŠ¨è®¾å¤‡ (â‰¤767px)', query: '(max-width: 767px)' }
  ];

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ“± åª’ä½“æŸ¥è¯¢Render Propsæ¼”ç¤º</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#fff3e0',
        borderRadius: '8px',
        border: '2px solid #ff9800'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>
          ğŸ® æ¨¡æ‹Ÿè®¾å¤‡å°ºå¯¸
        </h4>
        <div style={{ marginBottom: '15px' }}>
          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>
            å±å¹•å®½åº¦: {viewportSize.width}px
          </label>
          <input
            type="range"
            min="320"
            max="1200"
            value={viewportSize.width}
            onChange={(e) => setViewportSize({ ...viewportSize, width: parseInt(e.target.value) })}
            style={{ width: '100%' }}
          />
        </div>
        <div style={{
          display: 'flex',
          gap: '10px',
          flexWrap: 'wrap'
        }}>
          {['320px', '768px', '1024px', '1200px'].map(size => (
            <button
              key={size}
              onClick={() => setViewportSize({ ...viewportSize, width: parseInt(size) })}
              style={{
                padding: '5px 10px',
                background: viewportSize.width === parseInt(size) ? '#ff9800' : 'white',
                color: viewportSize.width === parseInt(size) ? 'white' : '#333',
                border: '2px solid #ff9800',
                borderRadius: '4px',
                cursor: 'pointer',
                fontSize: '12px'
              }}
            >
              {size}
            </button>
          ))}
        </div>
      </div>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å·¥ä½œåŸç†</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>MediaQuery</strong> ç»„ä»¶ç›‘å¬å±å¹•å°ºå¯¸å˜åŒ–</li>
          <li>é€šè¿‡ <strong>window.matchMedia</strong> æ£€æµ‹åª’ä½“æŸ¥è¯¢</li>
          <li>å°†åŒ¹é…ç»“æœä¼ é€’ç»™ <strong>children as function</strong></li>
          <li>å¤–éƒ¨æ ¹æ®åŒ¹é…ç»“æœå†³å®šæ¸²æŸ“æ¡Œé¢æˆ–ç§»åŠ¨å¸ƒå±€</li>
        </ul>
      </div>

      <MediaQuery query={currentQuery}>
        {({ matches }) => (
          <div>
            <div style={{
              marginBottom: '15px',
              padding: '10px',
              background: matches ? '#e8f5e9' : '#e3f2fd',
              border: '2px solid ' + (matches ? '#4caf50' : '#2196f3'),
              borderRadius: '6px',
              textAlign: 'center'
            }}>
              <strong style={{ color: matches ? '#2e7d32' : '#1976d2' }}>
                {matches ? 'âœ… åŒ¹é…æ¡Œé¢å¸ƒå±€' : 'âœ… åŒ¹é…ç§»åŠ¨å¸ƒå±€'}
              </strong>
            </div>
            {matches ? <DesktopLayout /> : <MobileLayout />}
          </div>
        )}
      </MediaQuery>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px'
      }}>
        <h4 style={{ margin: '0 0 10px 0' }}>é€‰æ‹©åª’ä½“æŸ¥è¯¢</h4>
        <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
          {queries.map(q => (
            <label key={q.query} style={{
              display: 'flex',
              alignItems: 'center',
              padding: '8px',
              background: 'white',
              borderRadius: '4px',
              cursor: 'pointer'
            }}>
              <input
                type="radio"
                name="query"
                value={q.query}
                checked={currentQuery === q.query}
                onChange={(e) => setCurrentQuery(e.target.value)}
                style={{ marginRight: '10px' }}
              />
              <span>{q.label}</span>
            </label>
          ))}
        </div>
      </div>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e8f5e9',
        borderRadius: '8px',
        border: '2px solid #4caf50'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>âœ¨ å®é™…åº”ç”¨åœºæ™¯</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>å“åº”å¼è®¾è®¡</strong> - æ ¹æ®å±å¹•å°ºå¯¸è°ƒæ•´å¸ƒå±€</li>
          <li><strong>ç»„ä»¶åˆ‡æ¢</strong> - æ¡Œé¢å’Œç§»åŠ¨ç«¯ä½¿ç”¨ä¸åŒç»„ä»¶</li>
          <li><strong>åŠŸèƒ½é™çº§</strong> - åœ¨å°å±å¹•ä¸Šç¦ç”¨å¤æ‚åŠŸèƒ½</li>
          <li><strong>æ€§èƒ½ä¼˜åŒ–</strong> - æ ¹æ®è®¾å¤‡æ€§èƒ½åŠ è½½ä¸åŒèµ„æº</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 6.3 æ— é™æ»šåŠ¨Render Props

<LiveCode
  code={`
function InfiniteScrollDemo() {
  // ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
  const generateItems = (start, count) => {
    return Array.from({ length: count }, (_, i) => ({
      id: start + i + 1,
      name: \`Item \${start + i + 1}\`,
      description: \`This is item number \${start + i + 1}\`,
      timestamp: new Date(Date.now() - (start + i) * 60000).toLocaleTimeString()
    }));
  };

  const [items, setItems] = React.useState(() => generateItems(0, 20));
  const [hasMore, setHasMore] = React.useState(true);
  const [nextId, setNextId] = React.useState(20);

  // æ¨¡æ‹ŸåŠ è½½æ›´å¤šæ•°æ®
  const loadMore = () => {
    return new Promise((resolve) => {
      setTimeout(() => {
        const newItems = generateItems(nextId, 10);
        setItems(prev => [...prev, ...newItems]);
        setNextId(prev => prev + 10);

        // æ¨¡æ‹Ÿæ•°æ®ç»“æŸ
        if (nextId >= 90) {
          setHasMore(false);
        }
        resolve();
      }, 1000);
    });
  };

  // æ— é™æ»šåŠ¨ç»„ä»¶
  const InfiniteScroll = ({ hasMore, loadMore, children, threshold = 100 }) => {
    const [isLoading, setIsLoading] = React.useState(false);
    const [scrollPosition, setScrollPosition] = React.useState(0);
    const containerRef = React.useRef(null);

    const handleScroll = React.useCallback(() => {
      if (isLoading || !hasMore || !containerRef.current) return;

      const { scrollTop, scrollHeight, clientHeight } = containerRef.current;

      if (scrollTop + clientHeight >= scrollHeight - threshold) {
        setIsLoading(true);
        setScrollPosition(scrollTop);
        loadMore().finally(() => {
          setIsLoading(false);
          // æ¢å¤æ»šåŠ¨ä½ç½®
          if (containerRef.current) {
            containerRef.current.scrollTop = scrollPosition;
          }
        });
      }
    }, [isLoading, hasMore, loadMore, threshold, scrollPosition]);

    React.useEffect(() => {
      const container = containerRef.current;
      if (!container) return;

      container.addEventListener('scroll', handleScroll);
      return () => container.removeEventListener('scroll', handleScroll);
    }, [handleScroll]);

    return children({ isLoading, containerRef });
  };

  // é¡¹ç›®åˆ—è¡¨ç»„ä»¶
  const ItemList = ({ items }) => (
    <div style={{
      display: 'grid',
      gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',
      gap: '15px'
    }}>
      {items.map(item => (
        <div
          key={item.id}
          style={{
            padding: '15px',
            background: 'white',
            borderRadius: '8px',
            border: '2px solid #e0e0e0',
            boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
            transition: 'transform 0.2s, box-shadow 0.2s'
          }}
          onMouseEnter={(e) => {
            e.currentTarget.style.transform = 'translateY(-2px)';
            e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';
          }}
          onMouseLeave={(e) => {
            e.currentTarget.style.transform = 'translateY(0)';
            e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
          }}
        >
          <div style={{
            display: 'flex',
            alignItems: 'center',
            marginBottom: '10px'
          }}>
            <div style={{
              width: '40px',
              height: '40px',
              borderRadius: '50%',
              background: '#2196f3',
              color: 'white',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              fontWeight: 'bold',
              marginRight: '10px'
            }}>
              {item.id}
            </div>
            <div style={{ fontWeight: 'bold', color: '#333' }}>
              {item.name}
            </div>
          </div>
          <p style={{
            margin: '0 0 8px 0',
            color: '#666',
            fontSize: '14px',
            lineHeight: '1.4'
          }}>
            {item.description}
          </p>
          <div style={{
            fontSize: '12px',
            color: '#999',
            display: 'flex',
            alignItems: 'center'
          }}>
            <span>â°</span>
            <span style={{ marginLeft: '5px' }}>{item.timestamp}</span>
          </div>
        </div>
      ))}
    </div>
  );

  // åŠ è½½æŒ‡ç¤ºå™¨
  const LoadingIndicator = () => (
    <div style={{
      padding: '30px',
      textAlign: 'center',
      background: '#e3f2fd',
      borderRadius: '8px',
      marginTop: '20px',
      border: '2px solid #2196f3'
    }}>
      <div style={{ fontSize: '32px', marginBottom: '10px' }}>â³</div>
      <p style={{ margin: '0', color: '#1976d2', fontSize: '16px', fontWeight: 'bold' }}>
        æ­£åœ¨åŠ è½½æ›´å¤šé¡¹ç›®...
      </p>
    </div>
  );

  // ç»“æŸæŒ‡ç¤ºå™¨
  const EndIndicator = () => (
    <div style={{
      padding: '20px',
      textAlign: 'center',
      background: '#e8f5e9',
      borderRadius: '8px',
      marginTop: '20px',
      border: '2px solid #4caf50'
    }}>
      <div style={{ fontSize: '24px', marginBottom: '8px' }}>ğŸ‰</div>
      <p style={{ margin: '0', color: '#2e7d32', fontSize: '14px' }}>
        å·²åŠ è½½æ‰€æœ‰é¡¹ç›®
      </p>
    </div>
  );

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ“œ æ— é™æ»šåŠ¨Render Propsæ¼”ç¤º</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å·¥ä½œåŸç†</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>æ»šåŠ¨æ£€æµ‹</strong> - ç›‘å¬å®¹å™¨æ»šåŠ¨äº‹ä»¶</li>
          <li><strong>é˜ˆå€¼åˆ¤æ–­</strong> - æ»šåŠ¨åˆ°åº•éƒ¨é™„è¿‘æ—¶è§¦å‘åŠ è½½</li>
          <li><strong>çŠ¶æ€ä¼ é€’</strong> - é€šè¿‡render propsä¼ é€’åŠ è½½çŠ¶æ€</li>
          <li><strong>æ€§èƒ½ä¼˜åŒ–</strong> - é¿å…ä¸€æ¬¡æ€§æ¸²æŸ“æ‰€æœ‰é¡¹ç›®</li>
        </ul>
      </div>

      <div style={{
        marginBottom: '20px',
        padding: '10px',
        background: '#fff3e0',
        borderRadius: '6px',
        border: '2px solid #ff9800'
      }}>
        <strong>å½“å‰çŠ¶æ€:</strong> å·²åŠ è½½ {items.length} ä¸ªé¡¹ç›®
        {hasMore ? ' | è¿˜æœ‰æ›´å¤š...' : ' | å·²å…¨éƒ¨åŠ è½½å®Œæˆ'}
      </div>

      <InfiniteScroll hasMore={hasMore} loadMore={loadMore}>
        {({ isLoading, containerRef }) => (
          <div
            ref={containerRef}
            style={{
              maxHeight: '500px',
              overflowY: 'auto',
              padding: '15px',
              background: '#f5f5f5',
              borderRadius: '8px',
              border: '2px solid #ddd'
            }}
          >
            <ItemList items={items} />
            {isLoading && <LoadingIndicator />}
            {!isLoading && !hasMore && <EndIndicator />}
          </div>
        )}
      </InfiniteScroll>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e8f5e9',
        borderRadius: '8px',
        border: '2px solid #4caf50'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>âœ¨ å®é™…åº”ç”¨åœºæ™¯</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>ç¤¾äº¤åª’ä½“</strong> - æ— é™æ»šåŠ¨æ–°é—»feed</li>
          <li><strong>ç”µå•†å¹³å°</strong> - å•†å“åˆ—è¡¨åˆ†é¡µåŠ è½½</li>
          <li><strong>æœç´¢å¼•æ“</strong> - æœç´¢ç»“æœåˆ†é¡µ</li>
          <li><strong>æ•°æ®å¯è§†åŒ–</strong> - å¤§æ•°æ®é›†åˆ†æ‰¹åŠ è½½</li>
        </ul>
      </div>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#fff3e0',
        borderRadius: '8px',
        border: '2px solid #ff9800'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>âš ï¸ æ³¨æ„äº‹é¡¹</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li>åˆç†è®¾ç½® <strong>threshold</strong> é¿å…é¢‘ç¹è§¦å‘</li>
          <li>åœ¨ <strong>loadMore</strong> ä¸­å¤„ç†é”™è¯¯æƒ…å†µ</li>
          <li>ä¿æŒæ»šåŠ¨ä½ç½®é¿å…ä½“éªŒè·³è·ƒ</li>
          <li>è€ƒè™‘åœ¨ç§»åŠ¨ç«¯ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨ä¼˜åŒ–æ€§èƒ½</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 6.4 é”™è¯¯è¾¹ç•ŒRender Props

<LiveCode
  code={`
function ErrorBoundaryDemo() {
  // é”™è¯¯è¾¹ç•ŒRender Propsç»„ä»¶
  class ErrorBoundary extends React.Component {
    constructor(props) {
      super(props);
      this.state = {
        hasError: false,
        error: null,
        errorInfo: null,
        errorId: null
      };
    }

    static getDerivedStateFromError(error) {
      return {
        hasError: true,
        error,
        errorId: Date.now()
      };
    }

    componentDidCatch(error, errorInfo) {
      this.setState({
        errorInfo: {
          componentStack: errorInfo.componentStack
        }
      });

      if (this.props.onError) {
        this.props.onError(error, errorInfo);
      }
    }

    reset = () => {
      this.setState({
        hasError: false,
        error: null,
        errorInfo: null,
        errorId: null
      });
    }

    render() {
      if (this.state.hasError) {
        return this.props.render({
          error: this.state.error,
          errorInfo: this.state.errorInfo,
          reset: this.reset,
          errorId: this.state.errorId
        });
      }

      return this.props.children;
    }
  }

  // æ¨¡æ‹Ÿæ­£å¸¸ç»„ä»¶
  const WorkingComponent = ({ onSuccess }) => (
    <div style={{
      padding: '30px',
      background: '#e8f5e9',
      borderRadius: '8px',
      border: '2px solid #4caf50',
      textAlign: 'center'
    }}>
      <div style={{ fontSize: '48px', marginBottom: '15px' }}>âœ…</div>
      <h3 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>
        ç»„ä»¶æ­£å¸¸å·¥ä½œ
      </h3>
      <p style={{ margin: '0 0 15px 0', color: '#666' }}>
        è¿™ä¸ªç»„ä»¶è¿è¡Œæ­£å¸¸ï¼Œæ²¡æœ‰é”™è¯¯
      </p>
      <button
        onClick={onSuccess}
        style={{
          padding: '10px 20px',
          background: '#4caf50',
          color: 'white',
          border: 'none',
          borderRadius: '6px',
          cursor: 'pointer',
          fontSize: '14px',
          fontWeight: 'bold'
        }}
      >
        è§¦å‘æˆåŠŸäº‹ä»¶
      </button>
    </div>
  );

  // æ¨¡æ‹Ÿæœ‰é”™è¯¯çš„ç»„ä»¶
  const BuggyComponent = ({ shouldThrow, onTrigger }) => {
    if (shouldThrow) {
      // æ•…æ„æŠ›å‡ºé”™è¯¯
      throw new Error('è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé”™è¯¯ï¼ç»„ä»¶æ¸²æŸ“å¤±è´¥ã€‚');
    }

    return (
      <div style={{
        padding: '30px',
        background: '#ffebee',
        borderRadius: '8px',
        border: '2px solid #f44336',
        textAlign: 'center'
      }}>
        <div style={{ fontSize: '48px', marginBottom: '15px' }}>âš ï¸</div>
        <h3 style={{ margin: '0 0 10px 0', color: '#c62828' }}>
          è¿™ä¸ªç»„ä»¶å¯èƒ½ä¼šå‡ºé”™
        </h3>
        <p style={{ margin: '0 0 15px 0', color: '#666' }}>
          ç‚¹å‡»æŒ‰é’®ä¼šè§¦å‘ä¸€ä¸ªé”™è¯¯
        </p>
        <button
          onClick={onTrigger}
          style={{
            padding: '10px 20px',
            background: '#f44336',
            color: 'white',
            border: 'none',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '14px',
            fontWeight: 'bold'
          }}
        >
          è§¦å‘é”™è¯¯
        </button>
      </div>
    );
  };

  // é”™è¯¯æ˜¾ç¤ºç»„ä»¶
  const ErrorDisplay = ({ error, errorInfo, reset, errorId }) => (
    <div style={{
      padding: '30px',
      background: '#ffebee',
      borderRadius: '8px',
      border: '2px solid #f44336',
      maxWidth: '600px',
      margin: '0 auto'
    }}>
      <div style={{
        fontSize: '48px',
        marginBottom: '15px',
        textAlign: 'center'
      }}>
        âŒ
      </div>
      <h3 style={{
        margin: '0 0 15px 0',
        color: '#c62828',
        textAlign: 'center'
      }}>
        å‡ºç°äº†é”™è¯¯
      </h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: 'white',
        borderRadius: '6px',
        border: '1px solid #f44336'
      }}>
        <h4 style={{
          margin: '0 0 10px 0',
          color: '#c62828',
          fontSize: '16px'
        }}>
          é”™è¯¯ä¿¡æ¯:
        </h4>
        <div style={{
          fontFamily: 'monospace',
          fontSize: '13px',
          color: '#d32f2f',
          background: '#ffebee',
          padding: '10px',
          borderRadius: '4px',
          overflow: 'auto'
        }}>
          {error?.toString()}
        </div>
      </div>

      {errorInfo?.componentStack && (
        <div style={{
          marginBottom: '20px',
          padding: '15px',
          background: 'white',
          borderRadius: '6px',
          border: '1px solid #f44336'
        }}>
          <h4 style={{
            margin: '0 0 10px 0',
            color: '#c62828',
            fontSize: '16px'
          }}>
            ç»„ä»¶å †æ ˆ:
          </h4>
          <pre style={{
            fontFamily: 'monospace',
            fontSize: '12px',
            color: '#666',
            background: '#f5f5f5',
            padding: '10px',
            borderRadius: '4px',
            overflow: 'auto',
            margin: 0,
            whiteSpace: 'pre-wrap'
          }}>
            {errorInfo.componentStack}
          </pre>
        </div>
      )}

      <div style={{
        display: 'flex',
        gap: '10px',
        justifyContent: 'center'
      }}>
        <button
          onClick={reset}
          style={{
            padding: '12px 24px',
            background: '#4caf50',
            color: 'white',
            border: 'none',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '16px',
            fontWeight: 'bold',
            transition: 'background 0.3s'
          }}
        >
          ğŸ”„ é‡è¯•
        </button>
        <button
          onClick={() => window.location.reload()}
          style={{
            padding: '12px 24px',
            background: '#2196f3',
            color: 'white',
            border: 'none',
            borderRadius: '6px',
            cursor: 'pointer',
            fontSize: '16px',
            fontWeight: 'bold'
          }}
        >
          ğŸ” é‡æ–°åŠ è½½é¡µé¢
        </button>
      </div>

      <div style={{
        marginTop: '15px',
        padding: '10px',
        background: '#fff3e0',
        borderRadius: '4px',
        textAlign: 'center',
        fontSize: '12px',
        color: '#e65100'
      }}>
        <strong>é”™è¯¯ID:</strong> {errorId}
      </div>
    </div>
  );

  // ä¸»åº”ç”¨çŠ¶æ€
  const [mode, setMode] = React.useState('working'); // 'working' or 'buggy'
  const [errorCount, setErrorCount] = React.useState(0);

  const handleError = (error, errorInfo) => {
    console.error('Error caught by boundary:', error, errorInfo);
    setErrorCount(prev => prev + 1);
  };

  const successMessage = () => (
    <div style={{
      padding: '20px',
      background: '#e8f5e9',
      borderRadius: '6px',
      marginTop: '15px',
      textAlign: 'center',
      border: '2px solid #4caf50'
    }}>
      <div style={{ fontSize: '32px', marginBottom: '8px' }}>ğŸ‰</div>
      <p style={{ margin: 0, color: '#2e7d32', fontWeight: 'bold' }}>
        å¤ªå¥½äº†ï¼ç»„ä»¶æ­£å¸¸å·¥ä½œï¼
      </p>
    </div>
  );

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ›¡ï¸ é”™è¯¯è¾¹ç•ŒRender Propsæ¼”ç¤º</h3>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#e3f2fd',
        borderRadius: '8px',
        border: '2px solid #2196f3'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>ğŸ’¡ å·¥ä½œåŸç†</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>é”™è¯¯æ•è·</strong> - é€šè¿‡componentDidCatchæ•è·æ¸²æŸ“é”™è¯¯</li>
          <li><strong>çŠ¶æ€ç®¡ç†</strong> - åœ¨stateä¸­å­˜å‚¨é”™è¯¯ä¿¡æ¯</li>
          <li><strong>æ¸²æŸ“é”™è¯¯UI</strong> - é€šè¿‡render propè‡ªå®šä¹‰é”™è¯¯å±•ç¤º</li>
          <li><strong>é”™è¯¯æ¢å¤</strong> - æä¾›resetæ–¹æ³•é‡ç½®çŠ¶æ€</li>
        </ul>
      </div>

      <div style={{
        marginBottom: '20px',
        padding: '15px',
        background: '#fff3e0',
        borderRadius: '6px',
        border: '2px solid #ff9800'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>
          ğŸ® æ§åˆ¶é¢æ¿
        </h4>
        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
          <button
            onClick={() => setMode('working')}
            disabled={mode === 'working'}
            style={{
              padding: '8px 16px',
              background: mode === 'working' ? '#4caf50' : 'white',
              color: mode === 'working' ? 'white' : '#333',
              border: '2px solid #4caf50',
              borderRadius: '6px',
              cursor: mode === 'working' ? 'not-allowed' : 'pointer',
              fontSize: '14px',
              fontWeight: 'bold',
              transition: 'all 0.2s'
            }}
          >
            âœ… æ­£å¸¸æ¨¡å¼
          </button>
          <button
            onClick={() => setMode('buggy')}
            disabled={mode === 'buggy'}
            style={{
              padding: '8px 16px',
              background: mode === 'buggy' ? '#f44336' : 'white',
              color: mode === 'buggy' ? 'white' : '#333',
              border: '2px solid #f44336',
              borderRadius: '6px',
              cursor: mode === 'buggy' ? 'not-allowed' : 'pointer',
              fontSize: '14px',
              fontWeight: 'bold'
            }}
          >
            âš ï¸ é”™è¯¯æ¨¡å¼
          </button>
        </div>
        <div style={{
          marginTop: '10px',
          fontSize: '14px',
          color: '#666'
        }}>
          <strong>å·²è§¦å‘é”™è¯¯æ¬¡æ•°:</strong> {errorCount}
        </div>
      </div>

      <ErrorBoundary onError={handleError}>
        {mode === 'working' ? (
          <WorkingComponent onSuccess={successMessage} />
        ) : (
          <BuggyComponent
            shouldThrow={true}
            onTrigger={() => {}}
          />
        )}
      </ErrorBoundary>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#e8f5e9',
        borderRadius: '8px',
        border: '2px solid #4caf50'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#2e7d32' }}>âœ¨ å®é™…åº”ç”¨åœºæ™¯</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li><strong>é”™è¯¯ç›‘æ§</strong> - æ•è·å¹¶æŠ¥å‘Šç”Ÿäº§ç¯å¢ƒé”™è¯¯</li>
          <li><strong>ä¼˜é›…é™çº§</strong> - é”™è¯¯æ—¶æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯é¡µé¢</li>
          <li><strong>é”™è¯¯æ¢å¤</strong> - å…è®¸ç”¨æˆ·é‡è¯•æˆ–åˆ·æ–°</li>
          <li><strong>é”™è¯¯åˆ†æ</strong> - æ”¶é›†é”™è¯¯ä¿¡æ¯ç”¨äºè°ƒè¯•</li>
        </ul>
      </div>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#fff3e0',
        borderRadius: '8px',
        border: '2px solid #ff9800'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>âš ï¸ æ³¨æ„äº‹é¡¹</h4>
        <ul style={{ margin: 0, paddingLeft: '20px', lineHeight: '1.8', fontSize: '14px' }}>
          <li>é”™è¯¯è¾¹ç•Œ<strong>ä¸èƒ½</strong>æ•è·å¼‚æ­¥é”™è¯¯ï¼ˆå¦‚setTimeoutï¼‰</li>
          <li>é”™è¯¯è¾¹ç•Œ<strong>ä¸èƒ½</strong>æ•è·äº‹ä»¶å¤„ç†ä¸­çš„é”™è¯¯</li>
          <li>é”™è¯¯è¾¹ç•Œ<strong>å¯ä»¥</strong>æ•è·å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé”™è¯¯</li>
          <li>åœ¨render propsä¸­æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯æœ‰åŠ©äºè°ƒè¯•</li>
        </ul>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

---

## 7. æœ€ä½³å®è·µ

### 7.1 å‘½åçº¦å®š

<CodeBlock>

```jsx
// âœ… å¥½çš„å‘½å
<Provider
  render={(data) => <Component data={data} />}
/>

<Component>
  {(data) => <div>{data}</div>}
</Component>

// âœ… æ¸…æ™°çš„å‚æ•°å
<DataProvider
  render={({ data, loading, error }) => {
    // æ¸…æ™°çš„çŠ¶æ€
  }}
/>

// âœ… æè¿°æ€§çš„renderå‡½æ•°
<RenderPropsComponent
  renderUser={(user) => <UserCard user={user} />}
  renderError={(error) => <ErrorMessage error={error} />}
/>
```

</CodeBlock>

### 7.2 Propsä¼ é€’

<CodeBlock>

```jsx
// âœ… ä¼ é€’æ‰€æœ‰å¿…è¦çš„çŠ¶æ€
<Counter>
  {({ count, increment, decrement, reset }) => (
    <div>
      <span>{count}</span>
      <button onClick={increment}>+</button>
      <button onClick={decrement}>-</button>
      <button onClick={reset}>Reset</button>
    </div>
  )}
</Counter>

// âœ… é¿å…åœ¨renderä¸­åˆ›å»ºå¯¹è±¡
<Counter>
  {({ count, increment }) => (
    <button onClick={() => increment()}>{count}</button>
    // é”™è¯¯: ä¸åº”è¯¥åœ¨renderä¸­åˆ›å»ºæ–°å‡½æ•°
  )}
</Counter>
```

</CodeBlock>

### 7.3 é”™è¯¯å¤„ç†

<CodeBlock>

```jsx
// âœ… æä¾›é»˜è®¤æ¸²æŸ“
<AsyncData
  url="/api/data"
  render={({ data, loading, error }) => {
    if (loading) return <DefaultLoader />; // é»˜è®¤
    if (error) return <DefaultError onRetry={refetch} />; // é»˜è®¤
    return <CustomView data={data} />; // è‡ªå®šä¹‰
  }}
/>

// âœ… è¾¹ç•Œæƒ…å†µå¤„ç†
<DataProvider
  render={({ data }) => {
    if (!data) return <div>No data available</div>;
    return <div>{data}</div>;
  }}
/>
```

</CodeBlock>

### 7.4 TypeScriptæ”¯æŒ

<CodeBlock>

```tsx
// TypeScriptç±»å‹å®šä¹‰
interface RenderProps<T> {
  data: T;
  loading: boolean;
  error: Error | null;
}

interface DataProviderProps {
  render: (props: RenderProps<any>) => React.ReactNode;
}

function DataProvider({ render }: DataProviderProps) {
  // å®ç°
}

// æ³›å‹ç‰ˆæœ¬
function DataProvider<T>({
  render,
  fetcher
}: {
  render: (props: RenderProps<T>) => React.ReactNode;
  fetcher: () => Promise<T>;
}) {
  // å®ç°
}

// ä½¿ç”¨
<DataProvider<{ name: string }>
  render={({ data, loading, error }) => {
    // dataå…·æœ‰ç±»å‹ { name: string }
    if (loading) return <div>Loading...</div>;
    return <div>{data.name}</div>;
  }}
/>
```

</CodeBlock>

---

## 8. å¸¸è§é™·é˜±

### é™·é˜±1ï¼šæ¸²æŸ“å‡½æ•°ä¸­çš„å¯¹è±¡åˆ›å»º

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - åœ¨renderä¸­åˆ›å»ºæ–°å¯¹è±¡
<Counter>
  {({ count, increment }) => (
    <button onClick={() => increment()}>{count}</button>
    // æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å‡½æ•°
  )}
</Counter>

// âœ… æ­£ç¡® - å‡½æ•°å·²ä¼˜åŒ–
function MyComponent() {
  const handleClick = useCallback(() => {
    increment();
  }, [increment]);

  return (
    <Counter>
      {({ count, increment }) => (
        <button onClick={handleClick}>{count}</button>
      )}
    </Counter>
  );
}
```

</ErrorBox>

### é™·é˜±2ï¼šæ·±å±‚åµŒå¥—

<ErrorBox>

```jsx
// âŒ ä¸å¥½ - è¿‡å¤šåµŒå¥—
<AuthProvider>
  {({ user }) => (
    <ThemeProvider>
      {({ theme }) => (
        <DataProvider>
          {({ data }) => (
            <Router>
              {({ route }) => (
                <div>{/* å®é™…å†…å®¹ */}</div>
              )}
            </Router>
          )}
        </DataProvider>
      )}
    </ThemeProvider>
  )}
</AuthProvider>

// âœ… æ›´å¥½ - ç»„ä»¶ç»„åˆ
function AppProviders() {
  return (
    <AuthProvider>
      <ThemeProvider>
        <DataProvider>
          <AppContent />
        </DataProvider>
      </ThemeProvider>
    </AuthProvider>
  );
}

function AppContent() {
  const { user } = useAuth();
  const { theme } = useTheme();
  const { data } = useData();
  // æ¸²æŸ“å†…å®¹
}
```

</ErrorBox>

### é™·é˜±3ï¼šå¿˜è®°æ¸…ç†å‰¯ä½œç”¨

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - æ²¡æœ‰æ¸…ç†å‰¯ä½œç”¨
function DataProvider({ url }) {
  const [data, setData] = useState(null);

  useEffect(() => {
    fetch(url).then(res => res.json()).then(setData);
  }, [url]);

  return <>{/* æ¸²æŸ“ */}</>;
}

// âœ… æ­£ç¡® - æ·»åŠ æ¸…ç†
function DataProvider({ url }) {
  const [data, setData] = useState(null);

  useEffect(() => {
    const controller = new AbortController();

    fetch(url, { signal: controller.signal })
      .then(res => res.json())
      .then(setData)
      .catch(err => {
        if (err.name !== 'AbortError') {
          console.error(err);
        }
      });

    return () => controller.abort();
  }, [url]);

  return <>{/* æ¸²æŸ“ */}</>;
}
```

</ErrorBox>

### é™·é˜±4ï¼šä¸ä¸€è‡´çš„æ¸²æŸ“é€»è¾‘

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ä¸åŒçš„æ¸²æŸ“æ¡ä»¶
<ConditionalRender
  condition={hasPermission}
  ifRender={() => <Component1 />}
  elseRender={() => <Component2 />}
/>

// æœ‰æ—¶ç›´æ¥è¿”å›
{hasPermission && <Component1 />}

// âœ… ä¸€è‡´ - ç»Ÿä¸€ä½¿ç”¨Render Props
<ConditionalRender
  condition={hasPermission}
  ifRender={() => <Component1 />}
  elseRender={() => <Component2 />}
/>
```

</ErrorBox>

---

## 9. å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šåˆ›å»ºMouseTracker Render Props

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- è·Ÿè¸ªé¼ æ ‡ä½ç½®
- å°†åæ ‡ä¼ é€’ç»™æ¸²æŸ“å‡½æ•°
- æ”¯æŒå¯é€‰çš„åæ ‡å˜æ¢ï¼ˆå¦‚ç›¸å¯¹ä½ç½®ã€åç§»ï¼‰

**å®ç°è¦æ±‚**ï¼š
```jsx
<MouseTracker
  render={({ x, y, relativeX, relativeY }) => (
    <div>
      <div>Absolute: {x}, {y}</div>
      <div>Relative: {relativeX}, {relativeY}</div>
    </div>
  )}
/>
```

**æç¤º**ï¼š
- ä½¿ç”¨mousemoveäº‹ä»¶ç›‘å¬
- ä½¿ç”¨useRefå­˜å‚¨å®¹å™¨å¼•ç”¨
- è®¡ç®—ç›¸å¯¹ä½ç½®

</Expandable>

### ç»ƒä¹ 2ï¼šåˆ›å»ºModal Render Props

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æ§åˆ¶æ¨¡æ€æ¡†çš„å¼€å…³
- ä¼ é€’æ§åˆ¶å‡½æ•°ç»™æ¸²æŸ“å‡½æ•°
- æ”¯æŒèƒŒæ™¯ç‚¹å‡»å…³é—­å’ŒESCé”®å…³é—­

**å®ç°è¦æ±‚**ï¼š
```jsx
<Modal
  isOpen={isModalOpen}
  onClose={() => setIsModalOpen(false)}
  render={({ isOpen, onClose }) => (
    <div className={`modal ${isOpen ? 'open' : ''}`}>
      <div className="modal-content">
        <button onClick={onClose}>Ã—</button>
        <h2>Modal Content</h2>
      </div>
    </div>
  )}
/>
```

**æç¤º**ï¼š
- ä½¿ç”¨é”®ç›˜äº‹ä»¶ç›‘å¬
- é˜»æ­¢å†’æ³¡
- CSSè¿‡æ¸¡åŠ¨ç”»

</Expandable>

### ç»ƒä¹ 3ï¼šåˆ›å»ºTabs Render Props

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æ ‡ç­¾é¡µåˆ‡æ¢
- ä¼ é€’å½“å‰æ ‡ç­¾å’Œåˆ‡æ¢å‡½æ•°
- æ”¯æŒé”®ç›˜å¯¼èˆª
- å¯é…ç½®é»˜è®¤æ ‡ç­¾

**å®ç°è¦æ±‚**ï¼š
```jsx
<Tabs defaultTab="tab1">
  {({ activeTab, setActiveTab, tabs }) => (
    <>
      <div className="tab-headers">
        {tabs.map(tab => (
          <button
            key={tab.id}
            className={activeTab === tab.id ? 'active' : ''}
            onClick={() => setActiveTab(tab.id)}
          >
            {tab.label}
          </button>
        ))}
      </div>
      <div className="tab-content">
        {tabs.find(tab => tab.id === activeTab)?.content}
      </div>
    </>
  )}
</Tabs>
```

**æç¤º**ï¼š
- ä½¿ç”¨useStateç®¡ç†å½“å‰æ ‡ç­¾
- æ·»åŠ å·¦å³ç®­å¤´é”®ç›˜å¯¼èˆª
- ä½¿ç”¨useRefä¿å­˜tabsé…ç½®

</Expandable>

### ç»ƒä¹ 4ï¼šåˆ›å»ºDrag and Drop Render Props

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**åŠŸèƒ½è¦æ±‚**ï¼š
- æ‹–æ‹½åŠŸèƒ½
- ä¼ é€’æ‹–æ‹½çŠ¶æ€å’Œäº‹ä»¶å¤„ç†å™¨
- æ”¯æŒè‡ªå®šä¹‰æ‹–æ‹½åé¦ˆ
- è¾¹ç•Œæ£€æµ‹

**å®ç°è¦æ±‚**ï¼š
```jsx
<DragDrop
  onDragEnd={(data) => console.log('Dropped:', data)}
  render={({
    isDragging,
    dragProps,
    dropProps
  }) => (
    <div {...dropProps}>
      <div
        {...dragProps}
        className={`draggable ${isDragging ? 'dragging' : ''}`}
      >
        Drag me
      </div>
    </div>
  )}
/>
```

**æç¤º**ï¼š
- ä½¿ç”¨mousedown, mousemove, mouseupäº‹ä»¶
- è®°å½•åˆå§‹ä½ç½®
- è®¡ç®—æ‹–æ‹½åç§»é‡
- æ·»åŠ è§†è§‰åé¦ˆ

</Expandable>

---

## 10. æœ¬ç« å°ç»“

### å…³é”®è¦ç‚¹

<Checklist>

- âœ… Render Propsæ˜¯ä¸€ä¸ªpropï¼Œå€¼ä¸ºå‡½æ•°ï¼Œå‘Šè¯‰ç»„ä»¶å¦‚ä½•æ¸²æŸ“
- âœ… ä¼˜åŠ¿ï¼šæ— é¢å¤–ç»„ä»¶å±‚çº§ã€æ¸…æ™°çš„æ•°æ®æµã€çµæ´»çš„æ§åˆ¶
- âœ… ä½¿ç”¨children as functionä½¿è¯­æ³•æ›´è‡ªç„¶
- âœ… é€‚ç”¨åœºæ™¯ï¼šçŠ¶æ€æå‡ã€é€»è¾‘å¤ç”¨ã€æ¡ä»¶æ¸²æŸ“
- âœ… ç›¸æ¯”HOCï¼šæ›´å¥½çš„è°ƒè¯•ä½“éªŒã€é¿å…å‘½åå†²çª
- âœ… ç›¸æ¯”Hooksï¼šæ›´å¥½çš„ç±»å‹æ”¯æŒã€æ—§é¡¹ç›®å‹å¥½
- âœ… é¿å…åœ¨renderå‡½æ•°ä¸­åˆ›å»ºæ–°å¯¹è±¡æˆ–å‡½æ•°
- âœ… æ·±å±‚åµŒå¥—æ—¶è€ƒè™‘ç»„ä»¶ç»„åˆ
- âœ… è®°ä½æ¸…ç†å‰¯ä½œç”¨
- âœ… TypeScriptä¸­å¯ä»¥ä½¿ç”¨æ³›å‹å¢å¼ºç±»å‹å®‰å…¨

</Checklist>

### æ¨¡å¼é€‰æ‹©æŒ‡å—

<BestPractices>

1. **æ–°é¡¹ç›®** - ä¼˜å…ˆä½¿ç”¨Hooks
2. **ç®€å•é€»è¾‘** - ä½¿ç”¨è‡ªå®šä¹‰Hook
3. **å¤æ‚çŠ¶æ€** - ä½¿ç”¨useReduceræˆ–Context
4. **Render Props** - çŠ¶æ€æå‡ã€æ¡ä»¶æ¸²æŸ“ã€æ—§é¡¹ç›®
5. **HOC** - åº“å¼€å‘ã€æ ·å¼å¢å¼ºã€ç±»ç»„ä»¶

</BestPractices>

### å¸¸è§Render Propsç±»å‹

**çŠ¶æ€ç®¡ç†**ï¼š
- `<Counter>{({ count, increment }) => ...}</Counter>`
- `<Form>{({ values, handleChange }) => ...}</Form>`

**æ•°æ®è·å–**ï¼š
- `<AsyncData>{({ data, loading }) => ...}</AsyncData>`
- `<InfiniteScroll>{({ isLoading }) => ...}</InfiniteScroll>`

**ç³»ç»Ÿé›†æˆ**ï¼š
- `<AuthProvider>{({ user }) => ...}</AuthProvider>`
- `<ThemeProvider>{({ theme }) => ...}</ThemeProvider>`

**äº¤äº’**ï¼š
- `<MouseTracker>{({ x, y }) => ...}</MouseTracker>`
- `<Draggable>{({ dragProps }) => ...}</Draggable>`

### ä¸‹ä¸€æ­¥å­¦ä¹ 

ç°åœ¨ä½ å·²ç»æŒæ¡äº†Render Propsï¼Œæ¥ä¸‹æ¥å¯ä»¥å­¦ä¹ ï¼š

1. **[å¤åˆç»„ä»¶](compound-components)** - å­¦ä¹ ç»„ä»¶ç»„åˆçš„é«˜çº§æŠ€å·§
2. **[å®¹å™¨-å±•ç¤ºæ¨¡å¼](container-presentational)** - æŒæ¡çŠ¶æ€ç®¡ç†æœ€ä½³å®è·µ
3. **[é”™è¯¯è¾¹ç•Œ](../advanced/error-boundaries)** - æ·±å…¥Reacté”™è¯¯å¤„ç†
4. **[Hooksæ¨¡å¼](../advanced/hooks-patterns)** - ç°ä»£Reactå¼€å‘

---

## 11. å»¶ä¼¸é˜…è¯»

### å®˜æ–¹èµ„æº

- [Render Props](https://react.dev/reference/react) - Reactå®˜æ–¹æ–‡æ¡£
- [Composition vs Inheritance](https://react.dev/learn/thinking-in-react) - ç»„åˆæ¨¡å¼
- [Children as Function](https://react.dev/reference/react) - childrenä½œä¸ºå‡½æ•°

### æ¨èé˜…è¯»

- [Render Props vs HOCs](https://kentcdodds.com/blog/aha-moments-when-learning-react) - æ¨¡å¼å¯¹æ¯”
- [Recomposeåº“](https://github.com/acdlite/recompose) - Render Propså·¥å…·åº“
- [React Patterns](https://reactpatterns.com/) - Reactæ¨¡å¼é›†åˆ

### ç›¸å…³è¯é¢˜

- [React Composition](https://react.dev/learn/thinking-in-react) - ç»„åˆæ€ç»´
- [PropGettersæ¨¡å¼](../advanced/props-getters) - Propsä¼ é€’
- [Controlled vs Uncontrolled](../advanced/controlled-uncontrolled) - å—æ§æ¨¡å¼

---

[â† ä¸Šä¸€ç« ï¼šé«˜é˜¶ç»„ä»¶](higher-order-components) | [ä¸‹ä¸€ç« ï¼šå¤åˆç»„ä»¶ â†’](compound-components)
