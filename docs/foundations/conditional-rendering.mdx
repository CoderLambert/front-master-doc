# æ¡ä»¶æ¸²æŸ“

import { Tabs, TabItem } from '@docusaurus/theme-common';

æ¡ä»¶æ¸²æŸ“æ˜¯Reactä¸­æ ¹æ®ä¸åŒæ¡ä»¶æ˜¾ç¤ºä¸åŒå†…å®¹çš„æ ¸å¿ƒæŠ€èƒ½ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å„ç§æ¡ä»¶æ¸²æŸ“çš„æ–¹æ³•ã€é€‚ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µã€‚

## æœ¬ç« å­¦ä¹ ç›®æ ‡

- æŒæ¡å¤šç§æ¡ä»¶æ¸²æŸ“çš„å®ç°æ–¹æ³•
- ç†è§£ifè¯­å¥ã€ä¸‰å…ƒè¿ç®—ç¬¦ã€é€»è¾‘ä¸è¿ç®—ç¬¦çš„ä½¿ç”¨åœºæ™¯
- å­¦ä¼šä½¿ç”¨&&è¿ç®—ç¬¦å’ŒçŸ­è·¯æ±‚å€¼
- æŒæ¡æ¡ä»¶æ¸²æŸ“ä¸åˆ—è¡¨æ¸²æŸ“çš„ç»“åˆ
- ç†è§£æ—©æœŸè¿”å›ï¼ˆGuard Clausesï¼‰çš„ä¼˜åŠ¿
- å­¦ä¼šé¿å…æ¡ä»¶æ¸²æŸ“çš„å¸¸è§é”™è¯¯

---

## 1. ä»€ä¹ˆæ˜¯æ¡ä»¶æ¸²æŸ“ï¼Ÿ

æ¡ä»¶æ¸²æŸ“æ˜¯æŒ‡æ ¹æ®ç»„ä»¶çš„stateã€propsæˆ–å…¶ä»–æ¡ä»¶ï¼ŒåŠ¨æ€å†³å®šæ˜¾ç¤ºå“ªäº›å†…å®¹ã€‚

<Box style={{ padding: '20px', background: '#e3f2fd', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#1976d2' }}>ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    æ¡ä»¶æ¸²æŸ“æ˜¯Reactå£°æ˜å¼ç¼–ç¨‹çš„ä½“ç°ï¼šæè¿°<strong>UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­</strong>ï¼ŒReactè´Ÿè´£æ ¹æ®æ¡ä»¶æ›´æ–°UIã€‚
  </p>
</Box>

<Example>

```jsx
function Greeting({ isLoggedIn }) {
  if (isLoggedIn) {
    return <h1>æ¬¢è¿å›æ¥ï¼</h1>;
  }
  return <h1>è¯·ç™»å½•</h1>;
}
```

</Example>

---

## 2. æ¡ä»¶æ¸²æŸ“çš„å®ç°æ–¹æ³•

### 2.1 ifè¯­å¥

æœ€ç›´è§‚çš„æ¡ä»¶æ¸²æŸ“æ–¹æ³•ã€‚

<CodeBlock>

```jsx
function Message({ user }) {
  if (user.isAdmin) {
    return <h1>ç®¡ç†å‘˜é¢æ¿</h1>;
  }
  if (user.isLoggedIn) {
    return <h1>ç”¨æˆ·ä»ªè¡¨æ¿</h1>;
  }
  return <h1>è¯·ç™»å½•</h1>;
}
```

</CodeBlock>

### 2.2 ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆ? :ï¼‰

é€‚åˆç®€å•çš„æ¡ä»¶åˆ¤æ–­ã€‚

<Compare>

```jsx
// åŸºæœ¬çš„ä¸‰å…ƒè¿ç®—ç¬¦
function Status({ isOnline }) {
  return (
    <span>
      {isOnline ? 'åœ¨çº¿' : 'ç¦»çº¿'}
    </span>
  );
}

// åµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
function UserType({ role }) {
  return (
    <div>
      {role === 'admin' ? (
        <AdminPanel />
      ) : role === 'user' ? (
        <UserPanel />
      ) : (
        <GuestPanel />
      )}
    </div>
  );
}
```

</Compare>

<Box style={{ padding: '15px', background: '#fff3e0', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#e65100' }}>ğŸ’¡ æç¤º</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    é¿å…è¿‡å¤šçš„åµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨<strong>æ—©æœŸè¿”å›</strong>æˆ–<strong>ç­–ç•¥æ¨¡å¼</strong>æ›¿ä»£ã€‚
  </p>
</Box>

### 2.3 é€»è¾‘ä¸è¿ç®—ç¬¦ï¼ˆ&&ï¼‰

å½“æ¡ä»¶ä¸ºçœŸæ—¶æ˜¾ç¤ºå†…å®¹ï¼Œæ¡ä»¶ä¸ºå‡æ—¶æ˜¾ç¤ºnullã€‚

<CodeBlock>

```jsx
function NotificationList({ notifications, showNotifications }) {
  return (
    <div>
      <h1>é€šçŸ¥</h1>
      {/* åªæœ‰å½“showNotificationsä¸ºtrueæ—¶æ‰æ¸²æŸ“åˆ—è¡¨ */}
      {showNotifications && notifications.length > 0 && (
        <ul>
          {notifications.map(notification => (
            <li key={notification.id}>{notification.message}</li>
          ))}
        </ul>
      )}
    </div>
  );
}
```

</CodeBlock>

<Diagram>

```
çŸ­è·¯æ±‚å€¼ï¼ˆShort-circuit Evaluationï¼‰

condition && <Component />
â””â”€ å¦‚æœ condition ä¸º falseï¼šç›´æ¥è¿”å› falseï¼Œä¸æ¸²æŸ“
â””â”€ å¦‚æœ condition ä¸º trueï¼šè¿”å› <Component /> å¹¶æ¸²æŸ“
```

</Diagram>

### 2.4 æ—©æœŸè¿”å›ï¼ˆGuard Clausesï¼‰

åœ¨ç»„ä»¶é¡¶éƒ¨å¤„ç†ç‰¹æ®Šæƒ…å†µï¼Œç®€åŒ–ä¸»è¦é€»è¾‘ã€‚

<Compare>

```jsx
// âŒ åµŒå¥—çš„æ¡ä»¶
function UserProfile({ user }) {
  if (user) {
    if (user.isActive) {
      if (user.profile) {
        return <div>{user.profile.name}</div>;
      }
    }
  }
  return <div>åŠ è½½ä¸­...</div>;
}

// âœ… æ—©æœŸè¿”å›
function UserProfile({ user }) {
  // æ—©æœŸè¿”å›å¤„ç†ç‰¹æ®Šæƒ…å†µ
  if (!user) {
    return <div>åŠ è½½ä¸­...</div>;
  }
  if (!user.isActive) {
    return <div>è´¦æˆ·æœªæ¿€æ´»</div>;
  }
  if (!user.profile) {
    return <div>èµ„æ–™ä¸å®Œæ•´</div>;
  }

  // ä¸»è¦é€»è¾‘
  return <div>{user.profile.name}</div>;
}
```

</Compare>

---

## 3. æ¡ä»¶æ¸²æŸ“çš„å®è·µåº”ç”¨

### 3.1 ç™»å½•çŠ¶æ€

æ ¹æ®ç”¨æˆ·ç™»å½•çŠ¶æ€æ˜¾ç¤ºä¸åŒå†…å®¹ã€‚

<LiveCode
  code={`
function LoginDemo() {
  const [isLoggedIn, setIsLoggedIn] = React.useState(false);
  const [userName, setUserName] = React.useState('Alice');

  const handleLogin = () => {
    setIsLoggedIn(true);
  };

  const handleLogout = () => {
    setIsLoggedIn(false);
    setUserName('Guest');
  };

  return (
    <div style={{ padding: '20px' }}>
      {/* æ¡ä»¶æ¸²æŸ“å¯¼èˆªæ  */}
      <nav style={{
        display: 'flex',
        justifyContent: 'space-between',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px',
        marginBottom: '20px'
      }}>
        <strong>æˆ‘çš„åº”ç”¨</strong>

        {isLoggedIn ? (
          <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>
            <span>ğŸ‘‹ æ¬¢è¿ï¼Œ{userName}</span>
            <button
              onClick={handleLogout}
              style={{
                padding: '8px 15px',
                background: '#f44336',
                color: 'white',
                border: 'none',
                borderRadius: '4px',
                cursor: 'pointer'
              }}
            >
              é€€å‡º
            </button>
          </div>
        ) : (
          <div style={{ display: 'flex', gap: '10px' }}>
            <input
              type="text"
              value={userName}
              onChange={(e) => setUserName(e.target.value)}
              placeholder="è¾“å…¥ç”¨æˆ·å"
              style={{
                padding: '8px',
                border: '1px solid #ddd',
                borderRadius: '4px'
              }}
            />
            <button
              onClick={handleLogin}
              style={{
                padding: '8px 15px',
                background: '#4caf50',
                color: 'white',
                border: 'none',
                borderRadius: '4px',
                cursor: 'pointer'
              }}
            >
              ç™»å½•
            </button>
          </div>
        )}
      </nav>

      {/* æ¡ä»¶æ¸²æŸ“ä¸»å†…å®¹ */}
      <main style={{ padding: '20px', background: '#fafafa', borderRadius: '8px', minHeight: '150px' }}>
        {isLoggedIn ? (
          <div>
            <h3 style={{ marginTop: 0, color: '#4caf50' }}>âœ… ä»ªè¡¨ç›˜</h3>
            <p>æ¬¢è¿å›æ¥ï¼Œ{userName}ï¼æ‚¨å·²æˆåŠŸç™»å½•ã€‚</p>
            <div style={{ marginTop: '15px', padding: '15px', background: 'white', borderRadius: '6px' }}>
              <h4>ğŸ“Š æ‚¨çš„æ•°æ®</h4>
              <p>â€¢ æœ€è¿‘æ´»åŠ¨ï¼š5 åˆ†é’Ÿå‰</p>
              <p>â€¢ å¾…åŠäº‹é¡¹ï¼š3 é¡¹</p>
              <p>â€¢ æ¶ˆæ¯ï¼š2 æ¡æœªè¯»</p>
            </div>
          </div>
        ) : (
          <div>
            <h3 style={{ marginTop: 0, color: '#666' }}>ğŸ  æ¬¢è¿é¡µé¢</h3>
            <p>è¯·ç™»å½•ä»¥è®¿é—®æ‚¨çš„ä¸ªäººä»ªè¡¨ç›˜ã€‚</p>
            <div style={{ marginTop: '15px', padding: '15px', background: 'white', borderRadius: '6px' }}>
              <h4>ğŸŒŸ åŠŸèƒ½ç‰¹è‰²</h4>
              <p>â€¢ ä¸ªæ€§åŒ–ä»ªè¡¨ç›˜</p>
              <p>â€¢ å®æ—¶æ•°æ®æ›´æ–°</p>
              <p>â€¢ å®‰å…¨å¯é </p>
            </div>
          </div>
        )}
      </main>

      <div style={{
        marginTop: '15px',
        padding: '10px',
        background: '#e3f2fd',
        borderRadius: '6px',
        fontSize: '14px',
        color: '#1976d2'
      }}>
        ğŸ’¡ çŠ¶æ€ï¼š{isLoggedIn ? 'å·²ç™»å½•' : 'æœªç™»å½•'} | ç”¨æˆ·ï¼š{userName}
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

### 3.2 åŠ è½½çŠ¶æ€

åœ¨æ•°æ®åŠ è½½æ—¶æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨ã€‚

<LiveCode
  code={`
function UserListDemo() {
  const [users, setUsers] = React.useState([]);
  const [loading, setLoading] = React.useState(false);
  const [error, setError] = React.useState(null);
  const [stage, setStage] = React.useState('initial');

  const loadUsers = async () => {
    setLoading(true);
    setError(null);
    setStage('loading');

    try {
      // æ¨¡æ‹ŸAPIè°ƒç”¨
      await new Promise(resolve => setTimeout(resolve, 1500));

      // éšæœºå†³å®šæ˜¯å¦æˆåŠŸ
      if (Math.random() > 0.3) {
        setUsers([
          { id: 1, name: 'Alice', email: 'alice@example.com' },
          { id: 2, name: 'Bob', email: 'bob@example.com' },
          { id: 3, name: 'Charlie', email: 'charlie@example.com' }
        ]);
        setStage('success');
      } else {
        throw new Error('ç½‘ç»œé”™è¯¯ï¼šæ— æ³•åŠ è½½ç”¨æˆ·æ•°æ®');
      }
    } catch (err) {
      setError(err.message);
      setStage('error');
    } finally {
      setLoading(false);
    }
  };

  const reset = () => {
    setUsers([]);
    setError(null);
    setStage('initial');
  };

  React.useEffect(() => {
    // è‡ªåŠ¨åŠ è½½ä¸€æ¬¡
    loadUsers();
  }, []);

  // åŠ è½½ä¸­çŠ¶æ€
  if (stage === 'loading') {
    return (
      <div style={{
        padding: '30px',
        textAlign: 'center',
        background: '#f5f5f5',
        borderRadius: '8px'
      }}>
        <div style={{
          display: 'inline-block',
          width: '40px',
          height: '40px',
          border: '4px solid #f3f3f3',
          borderTop: '4px solid #2196f3',
          borderRadius: '50%',
          animation: 'spin 1s linear infinite',
          marginBottom: '15px'
        }}></div>
        <p style={{ fontSize: '18px', color: '#666', margin: '10px 0 5px 0' }}>
          æ­£åœ¨åŠ è½½ç”¨æˆ·æ•°æ®...
        </p>
        <p style={{ fontSize: '14px', color: '#999' }}>
          è¯·ç¨å€™
        </p>
        <style>{\`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        \`}</style>
      </div>
    );
  }

  // é”™è¯¯çŠ¶æ€
  if (stage === 'error') {
    return (
      <div style={{
        padding: '30px',
        textAlign: 'center',
        background: '#ffebee',
        borderRadius: '8px',
        border: '2px solid #f44336'
      }}>
        <div style={{ fontSize: '48px', marginBottom: '10px' }}>âš ï¸</div>
        <h3 style={{ margin: '10px 0', color: '#c62828' }}>åŠ è½½å¤±è´¥</h3>
        <p style={{ color: '#666', margin: '10px 0' }}>{error}</p>
        <button
          onClick={loadUsers}
          style={{
            padding: '10px 20px',
            background: '#f44336',
            color: 'white',
            border: 'none',
            borderRadius: '4px',
            cursor: 'pointer',
            fontSize: '16px',
            marginTop: '10px'
          }}
        >
          ğŸ”„ é‡è¯•
        </button>
        <button
          onClick={reset}
          style={{
            padding: '10px 20px',
            background: '#f5f5f5',
            color: '#333',
            border: '2px solid #ddd',
            borderRadius: '4px',
            cursor: 'pointer',
            fontSize: '16px',
            marginTop: '10px',
            marginLeft: '10px'
          }}
        >
          é‡ç½®
        </button>
      </div>
    );
  }

  // æˆåŠŸçŠ¶æ€
  if (stage === 'success') {
    return (
      <div style={{ padding: '20px' }}>
        <div style={{
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          marginBottom: '20px'
        }}>
          <h3 style={{ margin: 0 }}>ğŸ‘¥ ç”¨æˆ·åˆ—è¡¨</h3>
          <div>
            <button
              onClick={loadUsers}
              style={{
                padding: '8px 15px',
                background: '#2196f3',
                color: 'white',
                border: 'none',
                borderRadius: '4px',
                cursor: 'pointer',
                marginRight: '10px'
              }}
            >
              ğŸ”„ åˆ·æ–°
            </button>
            <button
              onClick={reset}
              style={{
                padding: '8px 15px',
                background: '#f5f5f5',
                color: '#333',
                border: '2px solid #ddd',
                borderRadius: '4px',
                cursor: 'pointer'
              }}
            >
              æ¸…ç©º
            </button>
          </div>
        </div>

        <div style={{
          background: 'white',
          borderRadius: '8px',
          overflow: 'hidden',
          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
        }}>
          {users.map(user => (
            <div
              key={user.id}
              style={{
                padding: '15px',
                borderBottom: '1px solid #eee',
                display: 'flex',
                alignItems: 'center',
                gap: '15px'
              }}
            >
              <div style={{
                width: '40px',
                height: '40px',
                borderRadius: '50%',
                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                color: 'white',
                fontWeight: 'bold'
              }}>
                {user.name[0]}
              </div>
              <div style={{ flex: 1 }}>
                <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>
                  {user.name}
                </div>
                <div style={{ fontSize: '14px', color: '#666' }}>
                  {user.email}
                </div>
              </div>
            </div>
          ))}
        </div>

        <div style={{
          marginTop: '15px',
          padding: '10px',
          background: '#e8f5e9',
          borderRadius: '6px',
          fontSize: '14px',
          color: '#2e7d32',
          textAlign: 'center'
        }}>
          âœ… æˆåŠŸåŠ è½½ {users.length} ä¸ªç”¨æˆ·
        </div>
      </div>
    );
  }

  return null;
}
`}
  scope={{ React }}
/>

### 3.3 æƒé™æ§åˆ¶

æ ¹æ®ç”¨æˆ·æƒé™æ˜¾ç¤ºä¸åŒå†…å®¹ã€‚

<CodeBlock>

```jsx
function AdminPanel({ user, children }) {
  // æ£€æŸ¥æƒé™
  if (!user) {
    return <div>è¯·ç™»å½•</div>;
  }

  if (!user.isAdmin) {
    return <div>æƒé™ä¸è¶³</div>;
  }

  return (
    <div className="admin-panel">
      <h1>ç®¡ç†å‘˜é¢æ¿</h1>
      {children}
    </div>
  );
}

// ä½¿ç”¨ç¤ºä¾‹
function App({ user }) {
  return (
    <AdminPanel user={user}>
      {/* åªæœ‰ç®¡ç†å‘˜å¯è§çš„å†…å®¹ */}
      <button>åˆ é™¤ç”¨æˆ·</button>
      <button>ç³»ç»Ÿè®¾ç½®</button>
    </AdminPanel>
  );
}
```

</CodeBlock>

### 3.4 æ¡ä»¶æ ·å¼

æ ¹æ®æ¡ä»¶åŠ¨æ€åº”ç”¨æ ·å¼ã€‚

<LiveCode
  code={`
function StatusBadgeDemo() {
  const [status, setStatus] = React.useState('success');
  const [notification, setNotification] = React.useState('');

  const getStatusStyle = (status) => {
    const styles = {
      success: {
        backgroundColor: '#4caf50',
        color: 'white',
        borderColor: '#388e3c'
      },
      warning: {
        backgroundColor: '#ff9800',
        color: 'white',
        borderColor: '#f57c00'
      },
      error: {
        backgroundColor: '#f44336',
        color: 'white',
        borderColor: '#d32f2f'
      },
      info: {
        backgroundColor: '#2196f3',
        color: 'white',
        borderColor: '#1976d2'
      }
    };
    return styles[status] || styles.info;
  };

  const getStatusMessage = (status) => {
    const messages = {
      success: 'æ“ä½œå·²æˆåŠŸå®Œæˆï¼',
      warning: 'è¯·æ³¨æ„ï¼Œæ­¤æ“ä½œéœ€è¦è°¨æ…ã€‚',
      error: 'æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•ã€‚',
      info: 'è¿™æ˜¯ä¸€æ¡ä¿¡æ¯æç¤ºã€‚'
    };
    return messages[status] || 'æœªçŸ¥çŠ¶æ€';
  };

  const handleStatusChange = (newStatus) => {
    setStatus(newStatus);
    setNotification(getStatusMessage(newStatus));
    // 3ç§’åæ¸…é™¤é€šçŸ¥
    setTimeout(() => setNotification(''), 3000);
  };

  return (
    <div style={{ padding: '20px' }}>
      <h3 style={{ marginTop: 0 }}>ğŸ¨ æ¡ä»¶æ ·å¼æ¼”ç¤º</h3>

      <div style={{ marginBottom: '30px' }}>
        <h4>é€‰æ‹©çŠ¶æ€ï¼š</h4>
        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>
          {['success', 'warning', 'error', 'info'].map((s) => (
            <button
              key={s}
              onClick={() => handleStatusChange(s)}
              style={{
                padding: '10px 20px',
                border: 'none',
                borderRadius: '6px',
                cursor: 'pointer',
                fontSize: '16px',
                fontWeight: 'bold',
                backgroundColor: getStatusStyle(s).backgroundColor,
                color: getStatusStyle(s).color,
                boxShadow: status === s ? '0 4px 8px rgba(0,0,0,0.2)' : '0 2px 4px rgba(0,0,0,0.1)',
                transform: status === s ? 'scale(1.05)' : 'scale(1)',
                transition: 'all 0.2s'
              }}
            >
              {s === 'success' && 'âœ…'}
              {s === 'warning' && 'âš ï¸'}
              {s === 'error' && 'âŒ'}
              {s === 'info' && 'â„¹ï¸'}
              {' '}
              {s.charAt(0).toUpperCase() + s.slice(1)}
            </button>
          ))}
        </div>
      </div>

      <div style={{ marginBottom: '20px' }}>
        <h4>å½“å‰çŠ¶æ€å¾½ç« ï¼š</h4>
        <div style={{
          padding: '15px 25px',
          backgroundColor: getStatusStyle(status).backgroundColor,
          color: getStatusStyle(status).color,
          borderRadius: '8px',
          display: 'inline-block',
          fontSize: '18px',
          fontWeight: 'bold',
          boxShadow: '0 4px 8px rgba(0,0,0,0.2)',
          border: \`2px solid ${getStatusStyle(status).borderColor}\`,
          textTransform: 'uppercase'
        }}>
          {status}
        </div>
      </div>

      {notification && (
        <div style={{
          padding: '15px',
          backgroundColor: getStatusStyle(status).backgroundColor,
          color: getStatusStyle(status).color,
          borderRadius: '8px',
          marginBottom: '20px',
          animation: 'slideIn 0.3s ease-out',
          border: \`2px solid ${getStatusStyle(status).borderColor}\`
        }}>
          <strong>{notification}</strong>
        </div>
      )}

      <div style={{
        marginTop: '20px',
        padding: '15px',
        background: '#f5f5f5',
        borderRadius: '8px',
        fontSize: '14px',
        fontFamily: 'monospace'
      }}>
        <h4 style={{ margin: '0 0 10px 0' }}>æ ·å¼ä»£ç ï¼š</h4>
        <pre style={{ margin: 0, color: '#666' }}>
{\`const getStatusStyle = (status) => {
  switch (status) {
    case '${status}':
      return {
        backgroundColor: '${getStatusStyle(status).backgroundColor}',
        color: '${getStatusStyle(status).color}'
      };
    // ... å…¶ä»–æƒ…å†µ
  }
};\`}
        </pre>
      </div>

      <style>{\`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      \`}</style>
    </div>
  );
}
`}
  scope={{ React }}
/>

---

## 4. æ¡ä»¶æ¸²æŸ“ä¸åˆ—è¡¨æ¸²æŸ“

### 4.1 ç©ºåˆ—è¡¨å¤„ç†

<CodeBlock>

```jsx
function TodoList({ todos, showCompleted }) {
  const filteredTodos = showCompleted
    ? todos
    : todos.filter(todo => !todo.completed);

  return (
    <div>
      <h2>å¾…åŠäº‹é¡¹</h2>

      {/* æ¡ä»¶æ¸²æŸ“ç©ºçŠ¶æ€ */}
      {filteredTodos.length === 0 ? (
        <p className="empty-state">æš‚æ— å¾…åŠäº‹é¡¹</p>
      ) : (
        <ul>
          {filteredTodos.map(todo => (
            <li key={todo.id}>
              <span>{todo.text}</span>
            </li>
          ))}
        </ul>
      )}
    </div>
  );
}
```

</CodeBlock>

### 4.2 æ¡ä»¶è¿‡æ»¤åˆ—è¡¨é¡¹

<CodeBlock>

```jsx
function ProductList({ products, inStockOnly }) {
  const filteredProducts = inStockOnly
    ? products.filter(product => product.stock > 0)
    : products;

  return (
    <div>
      <h2>å•†å“åˆ—è¡¨</h2>

      {/* æ¡ä»¶æ¸²æŸ“ç­›é€‰æŒ‰é’® */}
      <label>
        <input
          type="checkbox"
          checked={inStockOnly}
          onChange={(e) => setInStockOnly(e.target.checked)}
        />
        ä»…æ˜¾ç¤ºæœ‰åº“å­˜
      </label>

      {/* æ¡ä»¶æ¸²æŸ“åˆ—è¡¨ */}
      {filteredProducts.length === 0 ? (
        <p>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å•†å“</p>
      ) : (
        <div className="product-grid">
          {filteredProducts.map(product => (
            <div key={product.id} className="product-card">
              <h3>{product.name}</h3>
              <p>ä»·æ ¼: Â¥{product.price}</p>
              <p>åº“å­˜: {product.stock}</p>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
```

</CodeBlock>

---

## 5. é«˜çº§æŠ€å·§

### 5.1 æ¡ä»¶æ¸²æŸ“ç»„ä»¶

<CodeBlock>

```jsx
// æ¡ä»¶ç»„ä»¶
function ShowIf({ condition, children }) {
  return condition ? children : null;
}

// ä½¿ç”¨ç¤ºä¾‹
function App({ isLoggedIn, isAdmin }) {
  return (
    <div>
      <h1>ä»ªè¡¨æ¿</h1>

      <ShowIf condition={isLoggedIn}>
        <UserInfo />
      </ShowIf>

      <ShowIf condition={isAdmin}>
        <AdminTools />
      </ShowIf>
    </div>
  );
}
```

</CodeBlock>

### 5.2 æ¸²æŸ“å‡½æ•°æ¨¡å¼

<CodeBlock>

```jsx
// æ¸²æŸ“å‡½æ•°æ¨¡å¼
function ConditionalRenderer({ condition, true: TrueComponent, false: FalseComponent }) {
  return condition ? <TrueComponent /> : <FalseComponent />;
}

// ä½¿ç”¨ç¤ºä¾‹
function App({ userType }) {
  return (
    <ConditionalRenderer
      condition={userType === 'admin'}
      true={<AdminDashboard />}
      false={<UserDashboard />}
    />
  );
}
```

</CodeBlock>

### 5.3 ç­–ç•¥æ¨¡å¼

<CodeBlock>

```jsx
// ç­–ç•¥æ¨¡å¼å¤„ç†ä¸åŒç”¨æˆ·ç±»å‹
function UserDashboard({ user }) {
  const renderContent = () => {
    const strategies = {
      admin: () => <AdminPanel />,
      moderator: () => <ModeratorPanel />,
      user: () => <UserPanel />,
      guest: () => <GuestPanel />
    };

    const Component = strategies[user.type] || strategies.guest;
    return Component();
  };

  return (
    <div>
      <h1>ç”¨æˆ·é¢æ¿</h1>
      {renderContent()}
    </div>
  );
}
```

</CodeBlock>

---

## 6. æ€§èƒ½ä¼˜åŒ–

### 6.1 é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

<Compare>

```jsx
// âŒ æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°ç»„ä»¶
function BadExample({ show, data }) {
  return (
    <div>
      {show && <ExpensiveComponent data={data} />}
    </div>
  );
}

// âœ… ä½¿ç”¨æ¡ä»¶é¿å…ç»„ä»¶åˆ›å»º
function GoodExample({ show, data }) {
  if (!show) {
    return null;
  }

  return <ExpensiveComponent data={data} />;
}
```

</Compare>

### 6.2 ä½¿ç”¨React.memoä¼˜åŒ–

<CodeBlock>

```jsx
// åŒ…è£…ç»„ä»¶é¿å…ä¸å¿…è¦çš„æ¸²æŸ“
const ExpensiveComponent = React.memo(({ data }) => {
  return <div>å¤æ‚è®¡ç®—: {data}</div>;
});

function App({ show, data }) {
  return (
    <div>
      {show && <ExpensiveComponent data={data} />}
    </div>
  );
}
```

</CodeBlock>

---

## 7. å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šç™»å½•è¡¨å•

åˆ›å»ºä¸€ä¸ªç™»å½•è¡¨å•ï¼Œå½“ç”¨æˆ·ç‚¹å‡»ç™»å½•æ—¶æ˜¾ç¤ºåŠ è½½çŠ¶æ€ã€‚

<Expandable title="ç‚¹å‡»æŸ¥çœ‹æç¤º">

```jsx
function LoginForm() {
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setIsLoading(true);
    setError(null);

    try {
      await login();
      // ç™»å½•æˆåŠŸ
    } catch (err) {
      setError('ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç ');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      {/* è¡¨å•å­—æ®µ */}

      {/* æ¡ä»¶æ¸²æŸ“é”™è¯¯ä¿¡æ¯ */}
      {error && <p className="error">{error}</p>}

      {/* æ¡ä»¶æ¸²æŸ“æŒ‰é’® */}
      {isLoading ? (
        <button disabled>ç™»å½•ä¸­...</button>
      ) : (
        <button type="submit">ç™»å½•</button>
      )}
    </form>
  );
}
```

</Expandable>

### ç»ƒä¹ 2ï¼šæœç´¢ç»“æœ

åˆ›å»ºä¸€ä¸ªæœç´¢ç»„ä»¶ï¼Œå½“ç”¨æˆ·è¾“å…¥æ—¶æ˜¾ç¤ºæœç´¢ç»“æœæˆ–"æ— ç»“æœ"æç¤ºã€‚

<Expandable title="ç‚¹å‡»æŸ¥çœ‹æç¤º">

```jsx
function SearchResults({ query, results, isLoading }) {
  // æœç´¢ä¸­
  if (isLoading) {
    return <div>æœç´¢ä¸­...</div>;
  }

  // æœ‰æŸ¥è¯¢ä½†æ— ç»“æœ
  if (query && results.length === 0) {
    return <p>æ²¡æœ‰æ‰¾åˆ°åŒ¹é… "{query}" çš„ç»“æœ</p>;
  }

  // æ— æŸ¥è¯¢æ—¶æ˜¾ç¤ºæç¤º
  if (!query) {
    return <p>è¯·è¾“å…¥æœç´¢å…³é”®è¯</p>;
  }

  // æ˜¾ç¤ºæœç´¢ç»“æœ
  return (
    <div>
      <p>æ‰¾åˆ° {results.length} ä¸ªç»“æœ</p>
      <ul>
        {results.map(result => (
          <li key={result.id}>{result.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

</Expandable>

### ç»ƒä¹ 3ï¼šç”¨æˆ·çŠ¶æ€å¡ç‰‡

æ ¹æ®ç”¨æˆ·çŠ¶æ€æ˜¾ç¤ºä¸åŒé¢œè‰²çš„å¡ç‰‡ã€‚

<Expandable title="ç‚¹å‡»æŸ¥çœ‹æç¤º">

```jsx
function UserCard({ user }) {
  if (!user) {
    return <div className="card">åŠ è½½ä¸­...</div>;
  }

  const getCardStyle = (status) => {
    const styles = {
      active: { borderColor: '#4caf50' },
      inactive: { borderColor: '#9e9e9e' },
      suspended: { borderColor: '#f44336' }
    };
    return styles[status] || styles.inactive;
  };

  return (
    <div className="card" style={getCardStyle(user.status)}>
      <h3>{user.name}</h3>
      <p>çŠ¶æ€: {user.status}</p>

      {/* æ¡ä»¶æ¸²æŸ“é¢å¤–ä¿¡æ¯ */}
      {user.status === 'active' && (
        <p>æœ€åç™»å½•: {user.lastLogin}</p>
      )}

      {user.status === 'suspended' && (
        <p className="warning">è´¦æˆ·å·²è¢«æš‚åœ</p>
      )}
    </div>
  );
}
```

</Expandable>

---

## 8. å¸¸è§é”™è¯¯

### 8.1 é”™è¯¯çš„æ¡ä»¶åˆ¤æ–­

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ä½¿ç”¨=è€Œä¸æ˜¯==
function BadExample({ isLoggedIn }) {
  return <div>{isLoggedIn = 'yes' ? 'å·²ç™»å½•' : 'æœªç™»å½•'}</div>;
}

// âœ… æ­£ç¡®
function GoodExample({ isLoggedIn }) {
  return <div>{isLoggedIn ? 'å·²ç™»å½•' : 'æœªç™»å½•'}</div>;
}
```

</ErrorBox>

### 8.2 è¿‡åº¦ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦

<ErrorBox>

```jsx
// âŒ ä¸å¥½ - åµŒå¥—è¿‡æ·±
function BadExample({ user }) {
  return (
    <div>
      {user ? user.isAdmin ? 'Admin' : 'User' : 'Guest'}
    </div>
  );
}

// âœ… æ­£ç¡® - ä½¿ç”¨æ—©æœŸè¿”å›
function GoodExample({ user }) {
  if (!user) return <div>Guest</div>;
  return <div>{user.isAdmin ? 'Admin' : 'User'}</div>;
}
```

</ErrorBox>

### 8.3 å¿˜è®°å¤„ç†ç©ºå€¼

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - æ²¡æœ‰æ£€æŸ¥user
function BadExample({ user }) {
  return <div>{user.profile.name}</div>;
}

// âœ… æ­£ç¡®
function GoodExample({ user }) {
  if (!user?.profile?.name) {
    return <div>åŒ¿åç”¨æˆ·</div>;
  }
  return <div>{user.profile.name}</div>;
}
```

</ErrorBox>

### 8.4 é”™è¯¯çš„&&ä½¿ç”¨

<ErrorBox>

```jsx// âŒ é”™è¯¯ - æ¡ä»¶ä¸º0æ—¶ä¸ä¼šæ˜¾ç¤º
function BadExample({ count }) {
  return <div>{count && <span>è®¡æ•°: {count}</span>}</div>;
}

// âœ… æ­£ç¡® - æ˜ç¡®æ£€æŸ¥
function GoodExample({ count }) {
  return <div>{count > 0 && <span>è®¡æ•°: {count}</span>}</div>;
}
```

</ErrorBox>

---

## 9. æœ¬ç« å°ç»“

### å…³é”®è¦ç‚¹

<Checklist>

- âœ… æ¡ä»¶æ¸²æŸ“æ˜¯Reactä¸­æ ¹æ®æ¡ä»¶æ˜¾ç¤ºä¸åŒå†…å®¹çš„æ–¹å¼
- âœ… ifè¯­å¥é€‚åˆå¤æ‚çš„æ¡ä»¶åˆ¤æ–­
- âœ… ä¸‰å…ƒè¿ç®—ç¬¦é€‚åˆç®€å•çš„æ¡ä»¶åˆ¤æ–­
- âœ… é€»è¾‘ä¸è¿ç®—ç¬¦ï¼ˆ&&ï¼‰é€‚åˆæ¡ä»¶ä¸ºçœŸæ—¶æ˜¾ç¤ºå†…å®¹
- âœ… æ—©æœŸè¿”å›å¯ä»¥ç®€åŒ–ä»£ç ç»“æ„
- âœ… æ ¹æ®æ¡ä»¶æ˜¾ç¤ºä¸åŒæ ·å¼æˆ–ç»„ä»¶
- âœ… åŠæ—¶å¤„ç†åŠ è½½çŠ¶æ€å’Œé”™è¯¯çŠ¶æ€
- âœ… é¿å…è¿‡åº¦åµŒå¥—å’Œä½¿ç”¨é”™è¯¯çš„æ¡ä»¶åˆ¤æ–­

</Checklist>

### ä¸‹ä¸€æ­¥å­¦ä¹ 

ç°åœ¨ä½ å·²ç»æŒæ¡äº†æ¡ä»¶æ¸²æŸ“ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†å­¦ä¹ ï¼š

1. **[åˆ—è¡¨æ¸²æŸ“ä¸Keys](lists-and-keys)** - å­¦ä¹ å¦‚ä½•é«˜æ•ˆæ¸²æŸ“åˆ—è¡¨
2. **[è¡¨å•å¤„ç†](forms)** - æŒæ¡è¡¨å•äº¤äº’
3. **[çŠ¶æ€ç®¡ç†è¿›é˜¶](../hooks/basics/useState)** - æ·±å…¥ç†è§£çŠ¶æ€

---

## 10. å»¶ä¼¸é˜…è¯»

### å®˜æ–¹èµ„æº

- [æ¡ä»¶æ¸²æŸ“](https://react.dev/learn/conditional-rendering) - Reactå®˜æ–¹æ¡ä»¶æ¸²æŸ“æŒ‡å—
- [Reactä¸­çš„æ¡ä»¶æ¸²æŸ“](https://react.dev/reference/react) - æ¡ä»¶æ¸²æŸ“API

### å®è·µå»ºè®®

1. å¤šç»ƒä¹ ä¸åŒåœºæ™¯ä¸‹çš„æ¡ä»¶æ¸²æŸ“
2. ç†è§£å„ç§æ–¹æ³•çš„é€‚ç”¨åœºæ™¯
3. ä¿æŒä»£ç ç®€æ´ï¼Œé¿å…è¿‡åº¦åµŒå¥—
4. æ³¨æ„æ€§èƒ½ä¼˜åŒ–

---

[â† ä¸Šä¸€ç« ï¼šäº‹ä»¶å¤„ç†](events) | [ä¸‹ä¸€ç« ï¼šåˆ—è¡¨æ¸²æŸ“ä¸Keys â†’](lists-and-keys)
