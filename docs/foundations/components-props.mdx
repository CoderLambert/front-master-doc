# ç»„ä»¶ä¸Props

import { Tabs, TabItem } from '@docusaurus/theme-common';

ç»„ä»¶æ˜¯Reactåº”ç”¨çš„åŸºæœ¬æ„å»ºå—ï¼ŒPropsæ˜¯ç»„ä»¶é—´ä¼ é€’æ•°æ®çš„ä¸»è¦æ–¹å¼ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ç»„ä»¶çš„å®šä¹‰ã€Propsçš„ä½¿ç”¨ä»¥åŠç»„ä»¶è®¾è®¡çš„æœ€ä½³å®è·µã€‚

## æœ¬ç« å­¦ä¹ ç›®æ ‡

- ç†è§£Reactç»„ä»¶çš„æ¦‚å¿µå’Œä½œç”¨
- æŒæ¡å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶çš„å†™æ³•
- å­¦ä¼šä½¿ç”¨Propsä¼ é€’æ•°æ®
- ç†è§£Propsçš„åªè¯»æ€§
- æŒæ¡Propsçš„ç±»å‹éªŒè¯
- å­¦ä¹ ç»„ä»¶ç»„åˆçš„æŠ€å·§

---

## 1. ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿ

### ç»„ä»¶æ¦‚å¿µ

**ç»„ä»¶**æ˜¯Reactåº”ç”¨çš„åŸºæœ¬æ„å»ºå—ï¼Œå®ƒæ˜¯å¯å¤ç”¨çš„UIç‰‡æ®µï¼Œå¯ä»¥æ¥å—è¾“å…¥ï¼ˆpropsï¼‰å¹¶è¿”å›Reactå…ƒç´ ã€‚

<Box style={{ padding: '20px', background: '#e8f5e9', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#2e7d32' }}>ğŸ’¡ ç»„ä»¶ç‰¹æ€§</h4>
  <ul style={{ margin: '10px 0' }}>
    <li><strong>å¯ç»„åˆ</strong>ï¼šå¤šä¸ªç»„ä»¶å¯ä»¥ç»„åˆæˆå¤æ‚çš„UI</li>
    <li><strong>å¯å¤ç”¨</strong>ï¼šä¸€ä¸ªç»„ä»¶å¯ä»¥è¢«å¤šæ¬¡ä½¿ç”¨</li>
    <li><strong>å¯ç»´æŠ¤</strong>ï¼šé€»è¾‘å’Œæ ·å¼å°è£…åœ¨ç»„ä»¶å†…</li>
    <li><strong>å¯æµ‹è¯•</strong>ï¼šå¯ä»¥ç‹¬ç«‹æµ‹è¯•ç»„ä»¶åŠŸèƒ½</li>
  </ul>
</Box>

### ç»„ä»¶æ€ç»´

å°†UIæ‹†åˆ†æˆç‹¬ç«‹çš„ã€å¯å¤ç”¨çš„ç»„ä»¶ã€‚

<Diagram>

```
å¤æ‚UI â†’ æ‹†åˆ†ç»„ä»¶

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ•´ä¸ªé¡µé¢                    â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Header  â”‚  â”‚  Nav    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Main Content           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ Card1â”‚ â”‚ Card2â”‚ â”‚ Card3â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Footer  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</Diagram>

---

## 2. å‡½æ•°ç»„ä»¶ vs ç±»ç»„ä»¶

Reactæ”¯æŒä¸¤ç§å®šä¹‰ç»„ä»¶çš„æ–¹å¼ï¼šå‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶ã€‚ç°ä»£Reactæ¨èä½¿ç”¨å‡½æ•°ç»„ä»¶ã€‚

### 2.1 å‡½æ•°ç»„ä»¶ï¼ˆæ¨èï¼‰

å‡½æ•°ç»„ä»¶æ˜¯JavaScriptå‡½æ•°ï¼Œæ¥å—propså‚æ•°ï¼Œè¿”å›Reactå…ƒç´ ã€‚

<CodeBlock>

```jsx
// åŸºæœ¬å‡½æ•°ç»„ä»¶
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

// ä½¿ç”¨ç®­å¤´å‡½æ•°
const Welcome = (props) => {
  return <h1>Hello, {props.name}</h1>;
};

// è§£æ„props
const Welcome = ({ name }) => {
  return <h1>Hello, {name}</h1>;
};

// éšå¼è¿”å›ï¼ˆå•è¡Œï¼‰
const Welcome = ({ name }) => <h1>Hello, {name}</h1>;
```

</CodeBlock>

### 2.2 ç±»ç»„ä»¶ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰

ç±»ç»„ä»¶ä½¿ç”¨ES6ç±»è¯­æ³•ï¼Œç»§æ‰¿è‡ª`React.Component`ã€‚

<CodeBlock>

```jsx
// åŸºæœ¬ç±»ç»„ä»¶
class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}

// ç°ä»£ç±»ç»„ä»¶ï¼ˆæ”¯æŒç±»å­—æ®µï¼‰
class Welcome extends React.Component {
  // ä¸éœ€è¦æ„é€ å‡½æ•°ï¼ˆå¦‚æœä¸ç”¨stateï¼‰
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}
```

</CodeBlock>

### 2.3 å¯¹æ¯”ç¤ºä¾‹

<Compare>

```jsx
// å‡½æ•°ç»„ä»¶ vs ç±»ç»„ä»¶

// å‡½æ•°ç»„ä»¶ï¼ˆæ¨èï¼‰
function UserCardFunctional({ name, age, occupation }) {
  return (
    <div style={{ border: '1px solid #ddd', padding: '20px', borderRadius: '8px' }}>
      <h3>{name}</h3>
      <p>Age: {age}</p>
      <p>Occupation: {occupation}</p>
    </div>
  );
}

// ç±»ç»„ä»¶ï¼ˆä¼ ç»Ÿï¼‰
class UserCardClass extends React.Component {
  render() {
    const { name, age, occupation } = this.props;
    return (
      <div style={{ border: '1px solid #ddd', padding: '20px', borderRadius: '8px' }}>
        <h3>{name}</h3>
        <p>Age: {age}</p>
        <p>Occupation: {occupation}</p>
      </div>
    );
  }
}

// ä½¿ç”¨ç»„ä»¶
function App() {
  return (
    <div>
      <UserCardFunctional name="Alice" age={25} occupation="Engineer" />
      <UserCardClass name="Bob" age={30} occupation="Designer" />
    </div>
  );
}
```

</Compare>

<Box style={{ padding: '15px', background: '#e3f2fd', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#1565c0' }}>ğŸ’¡ ä¸ºä»€ä¹ˆæ¨èå‡½æ•°ç»„ä»¶ï¼Ÿ</h4>
  <ul style={{ margin: '10px 0' }}>
    <li>æ›´ç®€æ´çš„è¯­æ³•ï¼Œæ›´å°‘çš„æ ·æ¿ä»£ç </li>
    <li>æ›´å¥½çš„æ€§èƒ½ï¼ˆæ— éœ€å®ä¾‹åŒ–ï¼‰</li>
    <li>æ˜“äºæµ‹è¯•å’Œè°ƒè¯•</li>
    <li>ä¸React Hookså®Œç¾é…åˆ</li>
    <li>Reactæœªæ¥å‘å±•çš„æ–¹å‘</li>
  </ul>
</Box>

---

## 3. Propsè¯¦è§£

### 3.1 ä»€ä¹ˆæ˜¯Propsï¼Ÿ

**Props**æ˜¯ç»„ä»¶çš„è¾“å…¥æ•°æ®ï¼Œå®ƒä»¬ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ã€‚Propsæ˜¯åªè¯»çš„ï¼Œä¸èƒ½åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹ã€‚

<Diagram>

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   çˆ¶ç»„ä»¶ (Parent)   â”‚
â”‚                    â”‚
â”‚  state: {          â”‚
â”‚    name: 'Alice'   â”‚
â”‚    age: 25         â”‚
â”‚  }                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ props
         â”‚ name: 'Alice'
         â”‚ age: 25
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å­ç»„ä»¶ (Child)    â”‚
â”‚                    â”‚
â”‚  Props:            â”‚
â”‚  { name, age }     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</Diagram>

### 3.2 ä¼ é€’Props

<LiveCode
  code={`
function UserCard({ name, age, occupation }) {
  return (
    <div style={{
      border: '2px solid #2196f3',
      borderRadius: '8px',
      padding: '15px',
      margin: '10px 0',
      backgroundColor: '#e3f2fd'
    }}>
      <h3 style={{ margin: '0 0 10px 0', color: '#1565c0' }}>{name}</h3>
      <p style={{ margin: '5px 0', color: '#666' }}>å¹´é¾„: {age}</p>
      <p style={{ margin: '5px 0', color: '#666' }}>èŒä¸š: {occupation}</p>
    </div>
  );
}

function App() {
  const [userData, setUserData] = React.useState({
    name: 'Charlie',
    age: 30,
    occupation: 'äº§å“ç»ç†'
  });

  const updateUser = () => {
    setUserData({
      name: 'Diana',
      age: 28,
      occupation: 'è®¾è®¡å¸ˆ'
    });
  };

  const userName = 'Bob';
  const userAge = 35;
  const userJob = 'å‰ç«¯å·¥ç¨‹å¸ˆ';

  return (
    <div style={{ padding: '20px' }}>
      <h2>ğŸ“¦ Propsä¼ é€’ç¤ºä¾‹</h2>

      <button
        onClick={updateUser}
        style={{
          marginBottom: '20px',
          padding: '10px 20px',
          backgroundColor: '#4caf50',
          color: 'white',
          border: 'none',
          borderRadius: '5px',
          cursor: 'pointer',
          fontSize: '16px'
        }}
      >
        æ›´æ–°UserCardæ•°æ®
      </button>

      <div style={{ marginTop: '20px' }}>
        <h3 style={{ color: '#666', fontSize: '16px' }}>æ–¹å¼1ï¼šç›´æ¥ä¼ é€’å±æ€§</h3>
        <UserCard name="Alice" age={25} occupation="å·¥ç¨‹å¸ˆ" />

        <h3 style={{ color: '#666', fontSize: '16px', marginTop: '20px' }}>æ–¹å¼2ï¼šä½¿ç”¨å˜é‡</h3>
        <UserCard
          name={userName}
          age={userAge}
          occupation={userJob}
        />

        <h3 style={{ color: '#666', fontSize: '16px', marginTop: '20px' }}>æ–¹å¼3ï¼šå±•å¼€è¿ç®—ç¬¦</h3>
        <UserCard {...userData} />
      </div>

      <div style={{
        marginTop: '20px',
        padding: '15px',
        backgroundColor: '#fff3e0',
        borderRadius: '8px',
        border: '2px solid #ff9800'
      }}>
        <h4 style={{ margin: '0 0 10px 0', color: '#e65100' }}>ğŸ’¡ è¯´æ˜</h4>
        <p style={{ margin: '5px 0', fontSize: '14px' }}>
          <strong>Props</strong>æ˜¯çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®çš„æ–¹å¼ã€‚
        </p>
        <p style={{ margin: '5px 0', fontSize: '14px' }}>
          ç‚¹å‡»"æ›´æ–°UserCardæ•°æ®"æŒ‰é’®ï¼Œè§‚å¯Ÿç¬¬ä¸‰å¼ å¡ç‰‡çš„å˜åŒ–ï¼
        </p>
      </div>
    </div>
  );
}
`}
  scope={{ React }}
/>

<Box style={{ padding: '15px', background: '#e8f5e9', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#2e7d32' }}>ğŸ’¡ æç¤º</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    Propsæ˜¯<strong>åªè¯»çš„</strong>ï¼Œå­ç»„ä»¶ä¸èƒ½ä¿®æ”¹propsã€‚å¦‚æœéœ€è¦ä¿®æ”¹æ•°æ®ï¼Œåº”è¯¥åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨stateã€‚
  </p>
</Box>

### 3.3 è§£æ„Props

ä½¿ç”¨è§£æ„èµ‹å€¼ä»propsä¸­æå–æ‰€éœ€çš„å±æ€§ã€‚

<CodeBlock>

```jsx
// åŸºæœ¬è§£æ„
function UserCard(props) {
  const { name, age, occupation } = props;
  return <div>{name}</div>;
}

// å†…è”è§£æ„ï¼ˆæ¨èï¼‰
function UserCard({ name, age, occupation }) {
  return <div>{name}</div>;
}

// å¸¦é»˜è®¤å€¼çš„è§£æ„
function UserCard({ name, age = 18, occupation = 'Unknown' }) {
  return <div>{name}</div>;
}

// é‡å‘½åå±æ€§
function UserCard({ name: userName, age: userAge }) {
  return <div>{userName}</div>;
}
```

</CodeBlock>

### 3.4 Propsçš„åªè¯»æ€§

Propsæ˜¯åªè¯»çš„ï¼Œä¸èƒ½åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹ã€‚

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - ç›´æ¥ä¿®æ”¹props
function UserCard(props) {
  props.name = 'New Name'; // ä¸èƒ½ä¿®æ”¹props
  return <div>{props.name}</div>;
}

// âœ… æ­£ç¡® - åŸºäºpropsåˆ›å»ºæ–°å˜é‡
function UserCard(props) {
  const displayName = props.name || 'Anonymous'; // åˆ›å»ºæ–°å˜é‡
  return <div>{displayName}</div>;
}

// âœ… æ­£ç¡® - ä½¿ç”¨propsè®¡ç®—æ–°å€¼
function UserCard({ name }) {
  const upperCaseName = name.toUpperCase(); // åŸºäºpropsè®¡ç®—
  return <div>{upperCaseName}</div>;
}
```

</ErrorBox>

<Box style={{ padding: '15px', background: '#ffebee', borderRadius: '8px', margin: '20px 0' }}>
  <h4 style={{ margin: 0, color: '#c62828' }}>âš ï¸ é‡è¦æç¤º</h4>
  <p style={{ margin: '10px 0 0 0' }}>
    <strong>Propsæ˜¯å•å‘æ•°æ®æµ</strong>ï¼šæ•°æ®ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶ï¼Œå­ç»„ä»¶ä¸èƒ½ä¿®æ”¹propsã€‚
    å¦‚æœéœ€è¦ä¿®æ”¹æ•°æ®ï¼Œåº”è¯¥åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨stateï¼Œå¹¶é€šè¿‡propsä¼ é€’ä¿®æ”¹å‡½æ•°ã€‚
  </p>
</Box>

---

## 4. Propsç±»å‹éªŒè¯

### 4.1 PropTypesï¼ˆè¿è¡Œæ—¶æ£€æŸ¥ï¼‰

ä½¿ç”¨PropTypesåº“åœ¨è¿è¡Œæ—¶éªŒè¯propsçš„ç±»å‹ã€‚

<CodeBlock>

```bash
# å®‰è£…PropTypes
npm install prop-types
```

```jsx
import PropTypes from 'prop-types';

function UserCard({ name, age, isActive, onSelect }) {
  return (
    <div>
      <h3>{name}</h3>
      <p>Age: {age}</p>
      <p>Status: {isActive ? 'Active' : 'Inactive'}</p>
      <button onClick={() => onSelect(name)}>Select</button>
    </div>
  );
}

// å®šä¹‰PropTypes
UserCard.propTypes = {
  name: PropTypes.string.isRequired,
  age: PropTypes.number,
  isActive: PropTypes.bool,
  onSelect: PropTypes.func
};

// å®šä¹‰é»˜è®¤å€¼
UserCard.defaultProps = {
  age: 18,
  isActive: false,
  onSelect: () => {}
};
```

</CodeBlock>

<Table>

| ç±»å‹ | ç¤ºä¾‹ | éªŒè¯å™¨ |
|------|------|--------|
| å­—ç¬¦ä¸² | `'hello'` | `PropTypes.string` |
| æ•°å­— | `42` | `PropTypes.number` |
| å¸ƒå°” | `true` | `PropTypes.bool` |
| å‡½æ•° | `() => {}` | `PropTypes.func` |
| æ•°ç»„ | `[]` | `PropTypes.array` |
| å¯¹è±¡ | `{}` | `PropTypes.object` |
| å…ƒç´  | `<div />` | `PropTypes.element` |
| ä»»ä½•ç±»å‹ | ä»»æ„å€¼ | `PropTypes.any` |

</Table>

### 4.2 TypeScriptï¼ˆæ¨èï¼‰

ä½¿ç”¨TypeScriptåœ¨ç¼–è¯‘æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚

<CodeBlock>

```typescript
// å®šä¹‰ç±»å‹æ¥å£
interface UserCardProps {
  name: string;
  age?: number; // å¯é€‰å±æ€§
  occupation: string;
  isActive?: boolean;
  onSelect?: (name: string) => void;
}

// ä½¿ç”¨ç±»å‹
function UserCard({ name, age = 18, occupation, isActive = false, onSelect }: UserCardProps) {
  return (
    <div>
      <h3>{name}</h3>
      <p>Age: {age}</p>
      <p>Occupation: {occupation}</p>
      <p>Status: {isActive ? 'Active' : 'Inactive'}</p>
      <button onClick={() => onSelect?.(name)}>Select</button>
    </div>
  );
}
```

</CodeBlock>

### 4.3 é»˜è®¤Props

ä¸ºpropsæä¾›é»˜è®¤å€¼ã€‚

<CodeBlock>

```jsx
// æ–¹å¼1ï¼šä½¿ç”¨defaultProps
function UserCard({ name, age, occupation }) {
  return <div>{name}</div>;
}

UserCard.defaultProps = {
  age: 18,
  occupation: 'Unknown'
};

// æ–¹å¼2ï¼šä½¿ç”¨è§£æ„èµ‹å€¼é»˜è®¤å€¼ï¼ˆæ¨èï¼‰
function UserCard({ name, age = 18, occupation = 'Unknown' }) {
  return <div>{name}</div>;
}
```

</CodeBlock>

---

## 5. ç‰¹æ®ŠProps

### 5.1 children

`children`æ˜¯ä¼ é€’ç»™ç»„ä»¶çš„ç‰¹æ®Špropï¼ŒåŒ…å«ç»„ä»¶å¼€å§‹å’Œç»“æŸæ ‡ç­¾ä¹‹é—´çš„å†…å®¹ã€‚

<CodeBlock>

```jsx
// ä½¿ç”¨children
function Card({ children }) {
  return (
    <div style={{ border: '1px solid #ddd', padding: '20px' }}>
      {children}
    </div>
  );
}

// ä½¿ç”¨ç»„ä»¶
function App() {
  return (
    <Card>
      <h2>Card Title</h2>
      <p>This is card content</p>
    </Card>
  );
}

// æ¡ä»¶æ¸²æŸ“children
function Container({ children, show = true }) {
  if (!show) return null;
  return <div>{children}</div>;
}
```

</CodeBlock>

### 5.2 render propsæ¨¡å¼

ä½¿ç”¨render propè®©ç»„ä»¶å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘ã€‚

<CodeBlock>

```jsx
// ç»„ä»¶ä½¿ç”¨render prop
function MouseTracker({ render }) {
  const [position, setPosition] = React.useState({ x: 0, y: 0 });

  const handleMouseMove = (e) => {
    setPosition({ x: e.clientX, y: e.clientY });
  };

  return (
    <div style={{ height: '100vh' }} onMouseMove={handleMouseMove}>
      {render(position)}
    </div>
  );
}

// ä½¿ç”¨render prop
function App() {
  return (
    <MouseTracker
      render={({ x, y }) => (
        <h1>
          Mouse position: ({x}, {y})
        </h1>
      )}
    />
  );
}
```

</CodeBlock>

### 5.3 refå’ŒforwardRef

ä½¿ç”¨`forwardRef`åˆ›å»ºå¯ä»¥è¢«çˆ¶ç»„ä»¶è®¿é—®çš„refã€‚

<CodeBlock>

```jsx
// ä½¿ç”¨forwardRef
const Input = React.forwardRef((props, ref) => {
  return <input ref={ref} {...props} />;
});

function App() {
  const inputRef = React.useRef(null);

  const handleClick = () => {
    inputRef.current.focus();
  };

  return (
    <div>
      <Input ref={inputRef} type="text" />
      <button onClick={handleClick}>Focus Input</button>
    </div>
  );
}
```

</CodeBlock>

---

## 6. ç»„ä»¶ç»„åˆ

### 6.1 ç»„åˆå¤šä¸ªç»„ä»¶

<CodeBlock>

```jsx
// åˆ›å»ºå­ç»„ä»¶
function Header() {
  return <header style={{ background: '#333', color: 'white', padding: '20px' }}>
    <h1>My Website</h1>
  </header>;
}

function Navigation() {
  return (
    <nav style={{ background: '#555', color: 'white', padding: '10px' }}>
      <a href="/" style={{ marginRight: '10px' }}>Home</a>
      <a href="/about" style={{ marginRight: '10px' }}>About</a>
      <a href="/contact">Contact</a>
    </nav>
  );
}

function MainContent() {
  return <main style={{ padding: '20px' }}>
    <h2>Main Content</h2>
    <p>This is the main content area.</p>
  </main>;
}

function Footer() {
  return <footer style={{ background: '#f0f0f0', padding: '20px', textAlign: 'center' }}>
    <p>&copy; 2024 My Website</p>
  </footer>;
}

// ç»„åˆæ‰€æœ‰ç»„ä»¶
function App() {
  return (
    <div>
      <Header />
      <Navigation />
      <MainContent />
      <Footer />
    </div>
  );
}
```

</CodeBlock>

### 6.2 å®¹å™¨ç»„ä»¶ vs å±•ç¤ºç»„ä»¶

å°†é€»è¾‘ä¸UIåˆ†ç¦»ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§ã€‚

<CodeBlock>

```jsx
// å®¹å™¨ç»„ä»¶ - è´Ÿè´£é€»è¾‘å’Œæ•°æ®è·å–
function UserListContainer() {
  const [users, setUsers] = React.useState([]);
  const [loading, setLoading] = React.useState(false);

  React.useEffect(() => {
    setLoading(true);
    // æ¨¡æ‹Ÿæ•°æ®è·å–
    setTimeout(() => {
      setUsers([
        { id: 1, name: 'Alice' },
        { id: 2, name: 'Bob' }
      ]);
      setLoading(false);
    }, 1000);
  }, []);

  if (loading) return <div>Loading...</div>;

  return <UserList users={users} />;
}

// å±•ç¤ºç»„ä»¶ - è´Ÿè´£UIæ¸²æŸ“
function UserList({ users }) {
  return (
    <ul>
      {users.map(user => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

</CodeBlock>

### 6.3 ç»„ä»¶çš„å­ç»„ä»¶

ä½¿ç”¨ç»„åˆæ¨¡å¼æ„å»ºå¤æ‚çš„ç»„ä»¶ã€‚

<CodeBlock>

```jsx
// è®¾è®¡å¯ç»„åˆçš„ç»„ä»¶
function Modal({ children }) {
  return (
    <div style={{
      position: 'fixed',
      top: 0,
      left: 0,
      right: 0,
      bottom: 0,
      background: 'rgba(0,0,0,0.5)',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center'
    }}>
      <div style={{
        background: 'white',
        padding: '20px',
        borderRadius: '8px'
      }}>
        {children}
      </div>
    </div>
  );
}

// ä½¿ç”¨ç»„åˆ
function App() {
  const [showModal, setShowModal] = React.useState(false);

  return (
    <div>
      <button onClick={() => setShowModal(true)}>
        Open Modal
      </button>

      {showModal && (
        <Modal>
          <h2>Modal Title</h2>
          <p>Modal content goes here</p>
          <button onClick={() => setShowModal(false)}>
            Close
          </button>
        </Modal>
      )}
    </div>
  );
}
```

</CodeBlock>

---

## 7. ç»„ä»¶è®¾è®¡æœ€ä½³å®è·µ

### 7.1 å•ä¸€èŒè´£åŸåˆ™

æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½ã€‚

<GoodBad>

```jsx
// âœ… å¥½ - å•ä¸€èŒè´£
function UserCard({ user }) {
  return (
    <div className="user-card">
      <Avatar src={user.avatar} />
      <div className="user-info">
        <h3>{user.name}</h3>
        <p>{user.email}</p>
      </div>
    </div>
  );
}

// âŒ ä¸å¥½ - èŒè´£è¿‡å¤š
function UserCardWithActions({ user, onEdit, onDelete }) {
  return (
    <div className="user-card">
      <Avatar src={user.avatar} />
      <div className="user-info">
        <h3>{user.name}</h3>
        <p>{user.email}</p>
        <div className="actions"> {/* é¢å¤–èŒè´£ */}
          <button onClick={() => onEdit(user)}>Edit</button>
          <button onClick={() => onDelete(user.id)}>Delete</button>
        </div>
      </div>
    </div>
  );
}

// âœ… å¥½ - åˆ†ç¦»èŒè´£
function UserCard({ user }) {
  return (
    <div className="user-card">
      <Avatar src={user.avatar} />
      <div className="user-info">
        <h3>{user.name}</h3>
        <p>{user.email}</p>
      </div>
    </div>
  );
}

function UserCardActions({ user, onEdit, onDelete }) {
  return (
    <div className="user-card-actions">
      <button onClick={() => onEdit(user)}>Edit</button>
      <button onClick={() => onDelete(user.id)}>Delete</button>
    </div>
  );
}
```

</GoodBad>

### 7.2 Propsæœ€å°åŒ–

åªä¼ é€’ç»„ä»¶çœŸæ­£éœ€è¦çš„propsã€‚

<GoodBad>

```jsx
// âœ… å¥½ - æœ€å°åŒ–props
function UserCard({ name, email, avatar }) {
  return (
    <div>
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>{email}</p>
    </div>
  );
}

// âŒ ä¸å¥½ - ä¼ é€’å¤šä½™props
function UserCard(props) {
  const { name, email, avatar, phone, address, website, ...rest } = props;
  return (
    <div {...rest}>
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>{email}</p>
      {/* phone, address, websiteæœªè¢«ä½¿ç”¨ */}
    </div>
  );
}
```

</GoodBad>

### 7.3 é¿å…æ·±å±‚åµŒå¥—

ä½¿ç”¨ç»„åˆæˆ–Provideré¿å…æ·±å±‚ä¼ é€’propsã€‚

<GoodBad>

```jsx
// âŒ ä¸å¥½ - Propså±‚å±‚ä¼ é€’ï¼ˆProp Drillingï¼‰
function App() {
  const [theme, setTheme] = useState('light');
  return <Page theme={theme} setTheme={setTheme} />;
}

function Page({ theme, setTheme }) {
  return <Section theme={theme} setTheme={setTheme} />;
}

function Section({ theme, setTheme }) {
  return <Button theme={theme} setTheme={setTheme} />;
}

function Button({ theme, setTheme }) {
  return (
    <button style={{ color: theme === 'light' ? 'black' : 'white' }}>
      Click me
    </button>
  );
}

// âœ… å¥½ - ä½¿ç”¨Context
const ThemeContext = React.createContext();

function App() {
  const [theme, setTheme] = useState('light');
  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      <Page />
    </ThemeContext.Provider>
  );
}

function Button() {
  const { theme, setTheme } = useContext(ThemeContext);
  return (
    <button style={{ color: theme === 'light' ? 'black' : 'white' }}>
      Click me
    </button>
  );
}
```

</GoodBad>

### 7.4 ä¿æŒç»„ä»¶çº¯å‡½æ•°

ç›¸åŒè¾“å…¥åº”è¯¥äº§ç”Ÿç›¸åŒè¾“å‡ºï¼Œé¿å…å‰¯ä½œç”¨ã€‚

<GoodBad>

```jsx
// âœ… å¥½ - çº¯å‡½æ•°
function UserCard({ name, email }) {
  return (
    <div>
      <h3>{name}</h3>
      <p>{email}</p>
    </div>
  );
}

// âŒ ä¸å¥½ - ä¸çº¯å‡½æ•°
function UserCard({ name, email }) {
  const [greeting, setGreeting] = useState('');

  // å‰¯ä½œç”¨ï¼Œåº”è¯¥é€šè¿‡useEffectå¤„ç†
  if (!greeting) {
    setGreeting(`Hello, ${name}`);
  }

  return (
    <div>
      <h3>{greeting}</h3>
      <p>{email}</p>
    </div>
  );
}
```

</GoodBad>

### 7.5 ä½¿ç”¨è§£æ„èµ‹å€¼

æé«˜ä»£ç å¯è¯»æ€§ã€‚

<GoodBad>

```jsx
// âœ… å¥½ - ä½¿ç”¨è§£æ„
function UserCard({ name, email, avatar, onSelect }) {
  return (
    <div>
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>{email}</p>
      <button onClick={() => onSelect(name)}>Select</button>
    </div>
  );
}

// âŒ ä¸å¥½ - ä½¿ç”¨propså¯¹è±¡
function UserCard(props) {
  return (
    <div>
      <img src={props.avatar} alt={props.name} />
      <h3>{props.name}</h3>
      <p>{props.email}</p>
      <button onClick={() => props.onSelect(props.name)}>Select</button>
    </div>
  );
}
```

</GoodBad>

---

## 8. å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šåˆ›å»ºå¯å¤ç”¨æŒ‰é’®ç»„ä»¶

åˆ›å»ºä¸€ä¸ª`Button`ç»„ä»¶ï¼Œæ”¯æŒï¼š

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**è¦æ±‚**ï¼š
- æ¥æ”¶`variant`å±æ€§ï¼ˆprimary, secondary, dangerï¼‰
- æ¥æ”¶`size`å±æ€§ï¼ˆsmall, medium, largeï¼‰
- æ¥æ”¶`children`å±æ€§
- æ¥æ”¶`onClick`äº‹ä»¶å¤„ç†å™¨
- æ ¹æ®å±æ€§åŠ¨æ€è®¾ç½®æ ·å¼

**æç¤º**ï¼š
- ä½¿ç”¨å¯¹è±¡æ˜ å°„ä¸åŒå˜ä½“å’Œå°ºå¯¸çš„æ ·å¼
- ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ä¼ é€’æœªå¤„ç†çš„å±æ€§

</Expandable>

### ç»ƒä¹ 2ï¼šåˆ›å»ºè¡¨å•ç»„ä»¶

åˆ›å»ºä¸€ä¸ª`Form`ç»„ä»¶ï¼ŒåŒ…å«ï¼š

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**è¦æ±‚**ï¼š
- åŒ…å«å§“åã€é‚®ç®±ã€å¯†ç è¾“å…¥å­—æ®µ
- ä½¿ç”¨`controlled components`ï¼ˆå—æ§ç»„ä»¶ï¼‰
- æ”¯æŒè¡¨å•éªŒè¯ï¼ˆå¿…å¡«å­—æ®µéªŒè¯ï¼‰
- æäº¤æˆåŠŸåæ˜¾ç¤ºç¡®è®¤ä¿¡æ¯
- é‡ç½®åŠŸèƒ½

**æ•°æ®ç»“æ„**ï¼š
```javascript
const [formData, setFormData] = useState({
  name: '',
  email: '',
  password: ''
});
```

</Expandable>

### ç»ƒä¹ 3ï¼šåˆ›å»ºæ•°æ®åˆ—è¡¨ç»„ä»¶

åˆ›å»ºä¸€ä¸ª`DataList`ç»„ä»¶ï¼Œæ”¯æŒï¼š

<Expandable title="ç‚¹å‡»æŸ¥çœ‹è¦æ±‚">

**è¦æ±‚**ï¼š
- æ¥æ”¶`items`æ•°ç»„ä½œä¸ºprop
- æ”¯æŒè‡ªå®šä¹‰`renderItem`å‡½æ•°
- æ”¯æŒ`emptyMessage`å±æ€§ï¼ˆå½“åˆ—è¡¨ä¸ºç©ºæ—¶æ˜¾ç¤ºï¼‰
- æ”¯æŒ`loading`çŠ¶æ€
- æä¾›`key`å±æ€§ï¼ˆä½¿ç”¨item.idæˆ–indexï¼‰

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```jsx
<DataList
  items={users}
  renderItem={(user) => <div>{user.name}</div>}
  emptyMessage="No users found"
  loading={false}
/>
```

</Expandable>

---

## 9. å¸¸è§é”™è¯¯

### é”™è¯¯1ï¼šä¿®æ”¹Props

<ErrorBox>

```jsx
// âŒ é”™è¯¯
function MyComponent(props) {
  props.title = 'New Title'; // ä¸èƒ½ä¿®æ”¹props
  return <div>{props.title}</div>;
}

// âœ… æ­£ç¡®
function MyComponent(props) {
  const newTitle = props.title + '!'; // åˆ›å»ºæ–°å˜é‡
  return <div>{newTitle}</div>;
}
```

</ErrorBox>

### é”™è¯¯2ï¼šå¿˜è®°ä¼ é€’Required Props

<ErrorBox>

```jsx
// âŒ é”™è¯¯ - å¿˜è®°ä¼ é€’required prop
function UserCard({ name, email }) {
  return <div>{name}</div>;
}

<UserCard name="Alice" /> {/* emailç¼ºå¤±ï¼Œä½†è¢«æ ‡è®°ä¸ºrequired */}
```

</ErrorBox>

### é”™è¯¯3ï¼šç›´æ¥ä¼ é€’å¯¹è±¡è€Œä¸è§£æ„

<ErrorBox>

```jsx
// âŒ å¯ä»¥ä½†ä¸å¤Ÿæ¸…æ™°
function UserCard(props) {
  return <div>{props.user.name}</div>;
}

// âœ… æ›´å¥½ - æ˜ç¡®æ‰€éœ€å±æ€§
function UserCard({ user }) {
  return <div>{user.name}</div>;
}

// âœ… æœ€å¥½ - ç›´æ¥æå–éœ€è¦çš„å±æ€§
function UserCard({ name }) {
  return <div>{name}</div>;
}
```

</ErrorBox>

### é”™è¯¯4ï¼šåœ¨ç»„ä»¶å†…éƒ¨å®šä¹‰ç»„ä»¶

<ErrorBox>

```jsx
// âŒ ä¸å¥½ - æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°åˆ›å»ºç»„ä»¶
function Parent() {
  function Child() {
    return <div>Child</div>;
  }

  return <Child />;
}

// âœ… å¥½ - åœ¨å¤–éƒ¨å®šä¹‰ç»„ä»¶
function Child() {
  return <div>Child</div>;
}

function Parent() {
  return <Child />;
}

// âœ… æˆ–ä½¿ç”¨useMemoç¼“å­˜
function Parent() {
  const Child = React.useMemo(() => {
    return function Child() {
      return <div>Child</div>;
    };
  }, []);

  return <Child />;
}
```

</ErrorBox>

---

## 10. æœ¬ç« å°ç»“

### å…³é”®è¦ç‚¹

<Checklist>

- âœ… ç»„ä»¶æ˜¯Reactåº”ç”¨çš„åŸºæœ¬æ„å»ºå—ï¼Œæ”¯æŒå¯å¤ç”¨UI
- âœ… å‡½æ•°ç»„ä»¶æ˜¯ç°ä»£Reactçš„é¦–é€‰å†™æ³•ï¼ˆç®€æ´ã€æ€§èƒ½å¥½ï¼‰
- âœ… Propsæ˜¯ç»„ä»¶çš„è¾“å…¥ï¼Œæ˜¯åªè¯»çš„ï¼Œä¸èƒ½åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹
- âœ… ä½¿ç”¨è§£æ„èµ‹å€¼ä»propsä¸­æå–å±æ€§ï¼Œæé«˜å¯è¯»æ€§
- âœ… ä½¿ç”¨PropTypesæˆ–TypeScriptè¿›è¡Œpropsç±»å‹éªŒè¯
- âœ… `children`æ˜¯ç‰¹æ®Šçš„propï¼ŒåŒ…å«ç»„ä»¶æ ‡ç­¾ä¹‹é—´çš„å†…å®¹
- âœ… å®¹å™¨ç»„ä»¶è´Ÿè´£é€»è¾‘ï¼Œå±•ç¤ºç»„ä»¶è´Ÿè´£UIæ¸²æŸ“
- âœ… éµå¾ªå•ä¸€èŒè´£åŸåˆ™å’ŒPropsæœ€å°åŒ–åŸåˆ™

</Checklist>

### æœ€ä½³å®è·µæ€»ç»“

<BestPractices>

1. **ä½¿ç”¨å‡½æ•°ç»„ä»¶** - ç°ä»£Reactæ¨èå‡½æ•°ç»„ä»¶é…åˆHooks
2. **è§£æ„props** - ä½¿ç”¨è§£æ„èµ‹å€¼æ˜ç¡®ç»„ä»¶éœ€è¦çš„å±æ€§
3. **å•ä¸€èŒè´£** - æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
4. **åˆ†ç¦»å…³æ³¨ç‚¹** - å®¹å™¨ç»„ä»¶å¤„ç†é€»è¾‘ï¼Œå±•ç¤ºç»„ä»¶å¤„ç†UI
5. **é¿å…Prop Drilling** - ä½¿ç”¨Contextæˆ–çŠ¶æ€ç®¡ç†åº“
6. **ç±»å‹éªŒè¯** - ä½¿ç”¨PropTypesæˆ–TypeScriptéªŒè¯props
7. **ç»„ä»¶çº¯å‡½æ•°** - ç›¸åŒè¾“å…¥äº§ç”Ÿç›¸åŒè¾“å‡º

</BestPractices>

### ä¸‹ä¸€æ­¥å­¦ä¹ 

ç°åœ¨ä½ å·²ç»æŒæ¡äº†ç»„ä»¶å’ŒPropsçš„åŸºç¡€çŸ¥è¯†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†å­¦ä¹ ï¼š

1. **[Stateä¸ç”Ÿå‘½å‘¨æœŸ](state-lifecycle)** - å­¦ä¹ ç»„ä»¶çŠ¶æ€ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸ
2. **[React Hooks](hooks/basics/useState)** - æ·±å…¥å­¦ä¹ React Hooks

---

## 11. å»¶ä¼¸é˜…è¯»

### å®˜æ–¹èµ„æº

- [ç»„ä»¶å’ŒPropså®˜æ–¹æ–‡æ¡£](https://react.dev/learn/components-and-props) - Reactå®˜æ–¹æŒ‡å—
- [PropTypesæ–‡æ¡£](https://www.npmjs.com/package/prop-types) - PropTypesä½¿ç”¨æŒ‡å—
- [TypeScript React](https://www.typescriptlang.org/docs/handbook/react.html) - TypeScript Reactæ”¯æŒ

### è®¾è®¡æ¨¡å¼

- [ç»„åˆ vs ç»§æ‰¿](https://react.dev/learn/composition-vs-inheritance) - Reactè®¾è®¡å“²å­¦
- [Render Props](https://react.dev/learn/render-props) - é«˜çº§ç»„åˆæ¨¡å¼
- [Higher-Order Components](https://react.dev/learn/reusing-logic-with-higher-order-components-and-render-props) - HOCæ¨¡å¼

---

[â† ä¸Šä¸€ç« ï¼šJSXè¯­æ³•è¯¦è§£](jsx-syntax) | [ä¸‹ä¸€ç« ï¼šStateä¸ç”Ÿå‘½å‘¨æœŸ â†’](state-lifecycle)